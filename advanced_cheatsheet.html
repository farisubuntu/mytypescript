<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ES6 - Notes</title>
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css" integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I" crossorigin="anonymous">
 <link rel="stylesheet" href="./custom.css">
 

</head>
<body>
<header id="title-block-header">
<h1 class="title">ADVANCED CHEATSHEET</h1>
</header>
<h2 align="center">
cheatsheet to learn Modern Typescript
</h2>
<blockquote>
from : <a
href="https://github.com/mudssrali/typescript-cheatsheet">https://github.com/mudssrali/typescript-cheatsheet</a>
</p>
</blockquote>
<h1 id="typing-objects">Typing Objects</h1>
<h2 id="object-vs-object"><code>Object</code> vs
<code>object</code></h2>
<ul>
<li><p><strong>Object</strong> is the type of all instances of class
<strong>Object</strong> <em>OR</em> Contains stuff (like
<code>toString()</code>, <code>hasOwnProperty()</code>) that is present
in all JavaScript objects. Any value (primitive, non-primitive) can be
assigned to <code>Object</code> type.</p>
<ul>
<li>It describes functionality that is common to all JavaScript
objects</li>
<li>It includes primitive values</li>
</ul>
<div class="sourceCode" id="cb1"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> obj <span class="op">=</span> {}<span class="op">;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>obj <span class="kw">instanceof</span> <span class="bu">Object</span><span class="op">;</span> <span class="co">// true</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>obj<span class="op">.</span><span class="at">toString</span> <span class="op">===</span> <span class="bu">Object</span><span class="op">.</span><span class="at">prototype</span><span class="op">.</span><span class="at">toString</span><span class="op">;</span> <span class="co">// true</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="kw">declare</span> <span class="kw">function</span> <span class="fu">create</span>(x<span class="op">:</span> <span class="bu">Object</span>)<span class="op">;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">create</span>(<span class="st">&quot;string&quot;</span>)<span class="op">;</span> <span class="co">// OK</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">create</span>(<span class="kw">null</span>)<span class="op">;</span> <span class="co">// Error</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">create</span>(<span class="kw">undefined</span>)<span class="op">;</span> <span class="co">// Error</span></span></code></pre></div></li>
<li><p><strong>object</strong> is the type of all non-primitive values.
You can’t assign to it any primitive type like <code>boolean</code>,
<code>number</code>, <code>string</code>, <code>bigint</code>,
<code>symbol</code>, <code>null</code> or <code>undefined</code></p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">declare</span> <span class="kw">function</span> <span class="fu">create</span>(x<span class="op">:</span> <span class="dt">object</span>)<span class="op">;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">create</span>([])<span class="op">;</span> <span class="co">// OK</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">create</span>({ id<span class="op">:</span> <span class="dv">0</span> })<span class="op">;</span> <span class="co">// OK</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">create</span>(<span class="dv">42</span>)<span class="op">;</span> <span class="co">// Error</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">create</span>(<span class="st">&quot;string&quot;</span>)<span class="op">;</span> <span class="co">// Error</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">create</span>(<span class="kw">false</span>)<span class="op">;</span> <span class="co">// Error</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">create</span>(<span class="kw">undefined</span>)<span class="op">;</span> <span class="co">// Error</span></span></code></pre></div></li>
<li><p><strong>{}</strong> is an empty object. It is the same as
<code>Object</code></p></li>
</ul>
<h2 id="interface-signatures-overview">Interface Signatures
Overview</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> RepoInterface {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    isPublic<span class="op">:</span> <span class="dt">boolean</span><span class="op">;</span> <span class="co">// property signature</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">hasRequests</span>(x<span class="op">:</span> <span class="dt">string</span>)<span class="op">:</span> <span class="dt">void</span><span class="op">;</span> <span class="co">// method signature, &#39;x&#39; for documentation only</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    hasRequests<span class="op">:</span> (x<span class="op">:</span> <span class="dt">string</span>) <span class="kw">=&gt;</span> <span class="dt">void</span><span class="op">;</span> <span class="co">// method signature for ES6</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    [propName<span class="op">:</span> <span class="dt">string</span>]<span class="op">:</span> <span class="dt">any</span><span class="op">;</span> <span class="co">// index signature</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    (x<span class="op">:</span> <span class="dt">number</span>)<span class="op">:</span> <span class="dt">string</span><span class="op">;</span> <span class="co">// call signature</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">new</span> (x<span class="op">:</span> <span class="dt">string</span>)<span class="op">:</span> RepoInstance<span class="op">;</span> <span class="co">// construct signature</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">readonly</span> admin<span class="op">:</span> <span class="dt">string</span><span class="op">;</span> <span class="co">// readonly modifier</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">readonly</span> [index<span class="op">:</span> <span class="dt">number</span>]<span class="op">:</span> <span class="dt">string</span><span class="op">;</span> <span class="co">// you can make index readonly like this</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    isArchive<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span> <span class="co">// optional modifier, auto set to undefined</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    isArchive<span class="op">:</span> <span class="dt">undefined</span><span class="op">;</span> <span class="co">// in this case need set the  property</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h3 id="index-signature">Index Signature</h3>
<p>Helps to describe Arrays or objects that are used as
dictionaries.</p>
<p>If there are both an index signature and property and/or method
signatures in an interface, the type of the index property value must
also be a <code>supertype</code> of the type of the property value
and/or method</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> RepoInterface {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    [propName<span class="op">:</span> <span class="dt">string</span>]<span class="op">:</span> <span class="dt">boolean</span><span class="op">;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// &#39;number&#39; is not assignable to string index type &#39;boolean&#39;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    star<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// &#39;() =&gt; string&#39; is not assignable to string index type &#39;boolean&#39;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">isCreated</span>()<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co">// You can resolve above problem like this</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> RepoInterface {</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    [propName<span class="op">:</span> <span class="dt">string</span>]<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    star<span class="op">:</span> <span class="dt">number</span><span class="op">;</span> <span class="co">// OK</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">isCreated</span>()<span class="op">:</span> <span class="dt">number</span><span class="op">;</span> <span class="co">// OK</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="co">// Or you can do this to your interface</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> RepoInterface {</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    [propName<span class="op">:</span> <span class="dt">string</span>]<span class="op">:</span> <span class="dt">boolean</span> <span class="op">|</span> <span class="dt">number</span> <span class="op">|</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    star<span class="op">:</span> <span class="dt">number</span><span class="op">;</span> <span class="co">// OK</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">isCreated</span>()<span class="op">:</span> <span class="dt">string</span><span class="op">;</span> <span class="co">// OK</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h3 id="call-signature">Call Signature</h3>
<p>Enables interfaces to describe functions. <strong>NOTE</strong>
<code>this</code> is the optional calling context of the function in
this example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> ClickListener {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">this</span><span class="op">:</span> <span class="bu">Window</span><span class="op">,</span> e<span class="op">:</span> <span class="bu">MouseEvent</span>)<span class="op">:</span> <span class="dt">void</span><span class="op">;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myListener<span class="op">:</span> ClickListener <span class="op">=</span> (e) <span class="kw">=&gt;</span> {</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&quot;mouse clicked!&quot;</span><span class="op">,</span> e)<span class="op">;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="fu">addEventListener</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span> myListener)<span class="op">;</span></span></code></pre></div>
<h3 id="construct-signature">Construct Signature</h3>
<p>Enables describing classes and constructor functions. A class has two
types:</p>
<ul>
<li>The type of the static side</li>
<li>The type of the instance side</li>
</ul>
<p>The constructor sits in the static side, when a class implements an
interface, only the instance side of the class is checked.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> ClockInterface {</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tick</span>()<span class="op">:</span> <span class="dt">void</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> ClockConstructor {</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">new</span> (h<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> m<span class="op">:</span> <span class="dt">number</span>)<span class="op">:</span> ClockInterface</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">* Using Class Expression</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> ClockA<span class="op">:</span> ClockConstructor <span class="op">=</span> <span class="kw">class</span> Clock <span class="kw">implements</span> ClockInterface {</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="kw">constructor</span>(h<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> m<span class="op">:</span> <span class="dt">number</span>) {<span class="op">...</span>}</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tick</span>() {<span class="op">...</span>}</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> clockClassExp <span class="op">=</span> <span class="kw">new</span> <span class="fu">ClockA</span>(<span class="dv">18</span><span class="op">,</span> <span class="dv">11</span>)</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co">* Using Class Declaration with a Constructor Function</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> ClockB <span class="kw">implements</span> ClockInterface {</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  <span class="kw">constructor</span>(h<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> m<span class="op">:</span> <span class="dt">number</span>) {<span class="op">...</span>}</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tick</span>() {<span class="op">...</span>}</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">createClock</span>( ctor<span class="op">:</span> ClockConstructor<span class="op">,</span> h<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> m<span class="op">:</span> <span class="dt">number</span>)<span class="op">:</span> ClockInterface {</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="kw">new</span> <span class="fu">ctor</span>(h<span class="op">,</span> m)</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> clockClassDeclaration <span class="op">=</span> <span class="fu">createClock</span>(ClockB<span class="op">,</span> <span class="dv">12</span><span class="op">,</span> <span class="dv">17</span>)</span></code></pre></div>
<p><strong><a
href="https://www.typescriptlang.org/docs/handbook/interfaces.html#class-types">Typescript
Docs - Class Type</a></strong></p>
<h2 id="type-literal-syntax">Type Literal Syntax</h2>
<p>Typically used in the signature of a higher-order function, but it’s
not limited to this.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> <span class="bu">Point</span> <span class="op">=</span> {</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    x<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    y<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> SetPoint <span class="op">=</span> (x<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> y<span class="op">:</span> <span class="dt">number</span>) <span class="kw">=&gt;</span> <span class="dt">void</span><span class="op">;</span></span></code></pre></div>
<h2 id="excess-properties">Excess Properties</h2>
<ul>
<li><p>Engineers <strong>can’t</strong> just think of interfaces as
“objects that have exactly a set of properties” or “objects that have at
least a set of properties”. In-line object arguments receive an
additional level of validation that doesn’t apply when they’re passed as
variables.</p></li>
<li><p>TypeScript is a <strong>structurally</strong> typed language. To
create a <code>Dog</code> you don’t need to explicitly extend the
<code>Dog</code> interface, any object with a <code>breed</code>
property that is of type <code>string</code> can be used as a
<code>Dog</code>:</p></li>
</ul>
<!-- end list -->
<div class="sourceCode" id="cb8"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> Dog {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    breed<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">printDog</span>(dog<span class="op">:</span> Dog) {</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&quot;Dog: &quot;</span> <span class="op">+</span> dog<span class="op">.</span><span class="at">breed</span>)<span class="op">;</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> ginger <span class="op">=</span> {</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    breed<span class="op">:</span> <span class="st">&quot;Airedale&quot;</span><span class="op">,</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    age<span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="fu">printDog</span>(ginger)<span class="op">;</span> <span class="co">// excess properties are OK!</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="fu">printDog</span>({ breed<span class="op">:</span> <span class="st">&quot;Airedale&quot;</span><span class="op">,</span> age<span class="op">:</span> <span class="dv">3</span> })<span class="op">;</span> <span class="co">// ERRORS</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="co">  Argument of type &#39;{ breed: string; age: number }&#39; is not assignable to parameter of type &#39;Dog&#39;.</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="co">  Object literal may only specify known properties, and &#39;age&#39; does not exist in type &#39;Dog&#39;.</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="co">// To get rid of above problem, you can define interface with extra proprty with string index signature</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> Dog {</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    breed<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    [propName<span class="op">:</span> <span class="dt">string</span>]<span class="op">:</span> <span class="dt">any</span><span class="op">;</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="interface-vs-type">Interface vs Type</h2>
<p>Unlike an <strong>interface</strong> declaration, which always
introduces a named <code>object</code> type, a <strong>type</strong>
alias declaration can introduce a name for any kind of type, including
<code>primitive</code>, <code>union</code>, and
<code>intersection</code> types. With examples, you can find some
in-depth difference between <code>interface</code> and
<code>type</code>.</p>
<ul>
<li><p><code>Objects / Functions</code></p>
<p>Both can be used to describe the shape of an object or a function
signature. But the syntax differs.</p>
<p><strong>Interface</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> <span class="bu">Point</span> {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    x<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    y<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> SetPoint {</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    (x<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> y<span class="op">:</span> <span class="dt">number</span>)<span class="op">:</span> <span class="dt">void</span><span class="op">;</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><strong>Type alias</strong></p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> <span class="bu">Point</span> <span class="op">=</span> {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    x<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    y<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> SetPoint <span class="op">=</span> (x<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> y<span class="op">:</span> <span class="dt">number</span>) <span class="kw">=&gt;</span> <span class="dt">void</span><span class="op">;</span></span></code></pre></div></li>
<li><p><code>Other Types</code></p>
<p>Unlike an interface, the type alias can also be used for other types
such as <code>primitives</code>, <code>unions</code>, and
<code>tuples</code> (Aforementioned).</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">// primitive</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> Name <span class="op">=</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">// object</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> PartialPointX <span class="op">=</span> { x<span class="op">:</span> <span class="dt">number</span> }<span class="op">;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> PartialPointY <span class="op">=</span> { y<span class="op">:</span> <span class="dt">number</span> }<span class="op">;</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">// union</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> PartialPoint <span class="op">=</span> PartialPointX <span class="op">|</span> PartialPointY<span class="op">;</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co">// tuple</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> Data <span class="op">=</span> [<span class="dt">number</span><span class="op">,</span> <span class="dt">string</span>]<span class="op">;</span></span></code></pre></div></li>
<li><p>Extend</p>
<p>Both can be extended, but again, the syntax differs. Additionally,
note that an interface and type alias are not mutually exclusive. An
interface can extend a type alias, and vice versa.</p>
<p><strong>interface extends interface</strong></p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> PartialPointX {</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    x<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> <span class="bu">Point</span> <span class="kw">extends</span> PartialPointX {</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    y<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><strong>type alias extends type alias</strong></p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> PartialPointX <span class="op">=</span> { x<span class="op">:</span> <span class="dt">number</span> }<span class="op">;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> <span class="bu">Point</span> <span class="op">=</span> PartialPointX <span class="op">&amp;</span> { y<span class="op">:</span> <span class="dt">number</span> }<span class="op">;</span></span></code></pre></div>
<p><strong>interface extends type alias</strong></p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> PartialPointX <span class="op">=</span> { x<span class="op">:</span> <span class="dt">number</span> }<span class="op">;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> <span class="bu">Point</span> <span class="kw">extends</span> PartialPointX {</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    y<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><strong>type alias extends interface</strong></p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> PartialPointX {</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    x<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> <span class="bu">Point</span> <span class="op">=</span> PartialPointX <span class="op">&amp;</span> { y<span class="op">:</span> <span class="dt">number</span> }<span class="op">;</span></span></code></pre></div></li>
<li><p><code>Implements</code></p>
<p>A class can implement an interface or type alias, both in the same
exact way. Note however that a class and interface are considered static
blueprints. Therefore, they can not <code>implement / extend</code> a
type alias that names a <strong>union type</strong>.</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> <span class="bu">Point</span> {</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    x<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    y<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SomePoint <span class="kw">implements</span> <span class="bu">Point</span> {</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> Point2 <span class="op">=</span> {</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    x<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    y<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SomePoint2 <span class="kw">implements</span> Point2 {</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> PartialPoint <span class="op">=</span> { x<span class="op">:</span> <span class="dt">number</span> } <span class="op">|</span> { y<span class="op">:</span> <span class="dt">number</span> }<span class="op">;</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a><span class="co">// ERROR: can not implement a union type</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SomePartialPoint <span class="kw">implements</span> PartialPoint {</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a><span class="co">A class can only implement an object type or intersection of object types with statically known members.</span></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span></code></pre></div></li>
<li><p><code>Declaration merging</code></p>
<p>Unlike a type alias, an interface can be defined multiple times, and
will be treated as a single interface (with members of all declarations
being merged).</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">// These two declarations become:</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co">// interface Point { x: number y: number }</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> <span class="bu">Point</span> {</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> <span class="bu">Point</span> {</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    y<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> point<span class="op">:</span> <span class="bu">Point</span> <span class="op">=</span> { x<span class="op">:</span> <span class="dv">1</span><span class="op">,</span> y<span class="op">:</span> <span class="dv">2</span> }<span class="op">;</span></span></code></pre></div></li>
</ul>
<h1 id="mapped-types---getting-types-from-data">Mapped Types - Getting
Types from Data</h1>
<h2 id="typeof-keyof-examples"><code>typeof</code> / <code>keyof</code>
Examples</h2>
<div class="sourceCode" id="cb18"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> data <span class="op">=</span> {</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    value<span class="op">:</span> <span class="dv">123</span><span class="op">,</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    text<span class="op">:</span> <span class="st">&quot;text&quot;</span><span class="op">,</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    subData<span class="op">:</span> {</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>        value<span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> Data <span class="op">=</span> <span class="kw">typeof</span> data<span class="op">;</span> <span class="co">// Data = { value: number; text: string; subData: { value: boolean; } }</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> data <span class="op">=</span> [<span class="st">&quot;A&quot;</span><span class="op">,</span> <span class="st">&quot;B&quot;</span>] <span class="im">as</span> <span class="kw">const</span><span class="op">;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> Data <span class="op">=</span> <span class="kw">typeof</span> data[<span class="dt">number</span>]<span class="op">;</span> <span class="co">// &quot;A&quot; | &quot;B&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> locales <span class="op">=</span> [</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>        locale<span class="op">:</span> <span class="st">&quot;se&quot;</span><span class="op">,</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>        language<span class="op">:</span> <span class="st">&quot;Swedish&quot;</span><span class="op">,</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>        locale<span class="op">:</span> <span class="st">&quot;en&quot;</span><span class="op">,</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>        language<span class="op">:</span> <span class="st">&quot;English&quot;</span><span class="op">,</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>] <span class="im">as</span> <span class="kw">const</span><span class="op">;</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> Locale <span class="op">=</span> <span class="kw">typeof</span> locales[<span class="dt">number</span>][<span class="st">&quot;locale&quot;</span>]<span class="op">;</span> <span class="co">// &quot;se&quot; | &quot;en&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb21"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> currencySymbols <span class="op">=</span> {</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    GBP<span class="op">:</span> <span class="st">&quot;£&quot;</span><span class="op">,</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    USD<span class="op">:</span> <span class="st">&quot;$&quot;</span><span class="op">,</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    EUR<span class="op">:</span> <span class="st">&quot;€&quot;</span><span class="op">,</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> CurrencySymbol <span class="op">=</span> <span class="kw">keyof</span> <span class="kw">typeof</span> currencySymbols<span class="op">;</span> <span class="co">// &quot;GBP&quot; | &quot;USD&quot; | &quot;EUR&quot;</span></span></code></pre></div>
<h2 id="keyof-with-generics-and-interfaces-example"><code>keyof</code>
with Generics and Interfaces Example</h2>
<p><strong>Exampl-1</strong>:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> HasPhoneNumber {</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    name<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    phone<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> HasEmail {</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    name<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    email<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> CommunicationMethods {</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    email<span class="op">:</span> HasEmail<span class="op">;</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    phone<span class="op">:</span> HasPhoneNumber<span class="op">;</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>    fax<span class="op">:</span> { fax<span class="op">:</span> <span class="dt">number</span> }<span class="op">;</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">contact</span><span class="op">&lt;</span>K <span class="kw">extends</span> <span class="kw">keyof</span> CommunicationMethods<span class="op">&gt;</span>(</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    method<span class="op">:</span> K<span class="op">,</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    contact<span class="op">:</span> CommunicationMethods[K] <span class="co">// turning key into value - a mapped type</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>) {</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">// do something...</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a><span class="fu">contact</span>(<span class="st">&quot;email&quot;</span><span class="op">,</span> { name<span class="op">:</span> <span class="st">&quot;foo&quot;</span><span class="op">,</span> email<span class="op">:</span> <span class="st">&quot;mike@example.com&quot;</span> })<span class="op">;</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a><span class="fu">contact</span>(<span class="st">&quot;phone&quot;</span><span class="op">,</span> { name<span class="op">:</span> <span class="st">&quot;foo&quot;</span><span class="op">,</span> phone<span class="op">:</span> <span class="dv">3213332222</span> })<span class="op">;</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a><span class="fu">contact</span>(<span class="st">&quot;fax&quot;</span><span class="op">,</span> { fax<span class="op">:</span> <span class="dv">1231</span> })<span class="op">;</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a><span class="co">// // we can get all values by mapping through all keys</span></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> AllCommKeys <span class="op">=</span> <span class="kw">keyof</span> CommunicationMethods<span class="op">;</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> AllCommValues <span class="op">=</span> CommunicationMethods[<span class="kw">keyof</span> CommunicationMethods]<span class="op">;</span></span></code></pre></div>
<p><strong>Exampl-2</strong>:</p>
<p>Let’s take a <code>prop</code> function</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">prop</span><span class="op">&lt;</span>T<span class="op">,</span> K <span class="kw">extends</span> <span class="kw">keyof</span> T<span class="op">&gt;</span>(obj<span class="op">:</span> T<span class="op">,</span> key<span class="op">:</span> K) {</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> obj[key]<span class="op">;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> todo <span class="op">=</span> {</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    id<span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    text<span class="op">:</span> <span class="st">&quot;Buy milk&quot;</span><span class="op">,</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    due<span class="op">:</span> <span class="kw">new</span> <span class="bu">Date</span>(<span class="dv">2016</span><span class="op">,</span> <span class="dv">11</span><span class="op">,</span> <span class="dv">31</span>)<span class="op">,</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> id <span class="op">=</span> <span class="fu">prop</span>(todo<span class="op">,</span> <span class="st">&quot;id&quot;</span>)<span class="op">;</span> <span class="co">// number</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> text <span class="op">=</span> <span class="fu">prop</span>(todo<span class="op">,</span> <span class="st">&quot;text&quot;</span>)<span class="op">;</span> <span class="co">// string</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> due <span class="op">=</span> <span class="fu">prop</span>(todo<span class="op">,</span> <span class="st">&quot;due&quot;</span>)<span class="op">;</span> <span class="co">// Date</span></span></code></pre></div>
<h2 id="lookup-types">Lookup Types</h2>
<div class="sourceCode" id="cb24"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> Person {</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    name<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    age<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    location<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> P1 <span class="op">=</span> Person[<span class="st">&quot;name&quot;</span>]<span class="op">;</span> <span class="co">// string</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> P2 <span class="op">=</span> Person[<span class="st">&quot;name&quot;</span> <span class="op">|</span> <span class="st">&quot;age&quot;</span>]<span class="op">;</span> <span class="co">// string | number</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="co">// typing from string operations</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> P3 <span class="op">=</span> <span class="dt">string</span>[<span class="st">&quot;charAt&quot;</span>]<span class="op">;</span> <span class="co">// (pos: number) =&gt; string</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> P4 <span class="op">=</span> <span class="dt">string</span>[][<span class="st">&quot;push&quot;</span>]<span class="op">;</span> <span class="co">// (...items: string[]) =&gt; number</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> P5 <span class="op">=</span> <span class="dt">string</span>[][<span class="dv">0</span>]<span class="op">;</span> <span class="co">// string</span></span></code></pre></div>
<p>Article Links:</p>
<ul>
<li><p><a
href="https://mariusschulz.com/blog/keyof-and-lookup-types-in-typescript">Keyof
and Lookup by Marius Schulz</a></p></li>
<li><p><a
href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#mapped-types">More
Read about Mapped Types</a></p></li>
<li><p><a
href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types">More
Read about Keyof and Lookup Types</a></p></li>
</ul>
<h1 id="immutability">Immutability</h1>
<h2 id="readonly-properties"><code>readonly</code> Properties</h2>
<p>Properties marked with <code>readonly</code> can only be assigned to
during initialization or from within a constructor of the same
class.</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> <span class="bu">Point</span> <span class="op">=</span> {</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">readonly</span> x<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">readonly</span> y<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> origin<span class="op">:</span> <span class="bu">Point</span> <span class="op">=</span> { x<span class="op">:</span> <span class="dv">0</span><span class="op">,</span> y<span class="op">:</span> <span class="dv">0</span> }<span class="op">;</span> <span class="co">// OK</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>origin<span class="op">.</span><span class="at">x</span> <span class="op">=</span> <span class="dv">100</span><span class="op">;</span> <span class="co">// Error</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">moveX</span>(p<span class="op">:</span> <span class="bu">Point</span><span class="op">,</span> offset<span class="op">:</span> <span class="dt">number</span>)<span class="op">:</span> <span class="bu">Point</span> {</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    p<span class="op">.</span><span class="at">x</span> <span class="op">+=</span> offset<span class="op">;</span> <span class="co">// Error</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> p<span class="op">;</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">moveX</span>(p<span class="op">:</span> <span class="bu">Point</span><span class="op">,</span> offset<span class="op">:</span> <span class="dt">number</span>)<span class="op">:</span> <span class="bu">Point</span> {</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">// OK</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>        x<span class="op">:</span> p<span class="op">.</span><span class="at">x</span> <span class="op">+</span> offset<span class="op">,</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>        y<span class="op">:</span> p<span class="op">.</span><span class="at">y</span><span class="op">,</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="readonly-class-properties"><code>readonly</code> Class
Properties</h2>
<p>Gettable area property is implicitly read-only because there’s no
setter:</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Circle {</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">readonly</span> radius<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">constructor</span>(radius<span class="op">:</span> <span class="dt">number</span>) {</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="at">radius</span> <span class="op">=</span> radius<span class="op">;</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">get</span> <span class="fu">area</span>() {</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span> <span class="op">*</span> <span class="kw">this</span><span class="op">.</span><span class="at">radius</span> <span class="op">**</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="readonly-array-tuple"><code>readonly</code> Array / Tuple</h2>
<p>Here are different usecases of readonly</p>
<ul>
<li><p>readonly property</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> Apple {</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">readonly</span> types<span class="op">:</span> <span class="dt">string</span>[]</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">readonly</span> origin<span class="op">:</span> [<span class="dt">string</span><span class="op">,</span> <span class="dt">string</span>]</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> apple<span class="op">:</span> Apple <span class="op">=</span> {</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  types<span class="op">:</span> [<span class="st">&quot;Asian&quot;</span><span class="op">,</span> <span class="st">&quot;American&quot;</span><span class="op">,</span> <span class="st">&quot;European&quot;</span>]</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  origin<span class="op">:</span> [<span class="st">&quot;Local&quot;</span><span class="op">,</span> <span class="st">&quot;Home Grown&quot;</span>]</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>apple<span class="op">.</span><span class="at">types</span><span class="op">.</span><span class="fu">push</span>(<span class="st">&quot;Russian&quot;</span>) <span class="co">// OK, array is now mutable</span></span></code></pre></div></li>
<li><p>property has readonly type</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> Apple {</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  types<span class="op">:</span> <span class="kw">readonly</span> <span class="dt">string</span>[]</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  origin<span class="op">:</span> <span class="kw">readonly</span> [<span class="dt">string</span><span class="op">,</span> <span class="dt">string</span>]</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> apple<span class="op">:</span> Apple <span class="op">=</span> {</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  types<span class="op">:</span> [<span class="st">&quot;Asian&quot;</span><span class="op">,</span> <span class="st">&quot;American&quot;</span><span class="op">,</span> <span class="st">&quot;European&quot;</span>]</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  origin<span class="op">:</span> [<span class="st">&quot;Local&quot;</span><span class="op">,</span> <span class="st">&quot;Home Grown&quot;</span>]</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>apple<span class="op">.</span><span class="at">types</span><span class="op">.</span><span class="fu">push</span>(<span class="st">&quot;Russian&quot;</span>) <span class="co">// Error, Property `push` does not exist on type &#39;readonly string[]&#39;</span></span></code></pre></div></li>
<li><p>Variable declaration with readonly</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> array<span class="op">:</span> <span class="kw">readonly</span> <span class="dt">string</span>[]<span class="op">;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> tuple<span class="op">:</span> <span class="kw">readonly</span> [<span class="dt">string</span><span class="op">,</span> <span class="dt">string</span>]<span class="op">;</span></span></code></pre></div></li>
</ul>
<h2 id="const-assertions"><code>const</code> Assertions</h2>
<ul>
<li><p><code>number</code> becomes number literal</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Type &#39;10&#39;</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> num <span class="op">=</span> <span class="dv">10</span> <span class="im">as</span> <span class="kw">const</span><span class="op">;</span></span></code></pre></div></li>
<li><p>array literals become <code>readonly</code> tuples</p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Type &#39;readonly [10, 20]&#39;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> tuple <span class="op">=</span> [<span class="dv">10</span><span class="op">,</span> <span class="dv">20</span>] <span class="im">as</span> <span class="kw">const</span><span class="op">;</span></span></code></pre></div></li>
<li><p>object literals get <code>readonly</code> properties</p></li>
<li><p>no literal types in that expression should be widened (e.g. no
going from <code>"hello"</code> to <code>string</code>)</p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Type &#39;{ readonly text: &quot;hello&quot; }&#39;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> input <span class="op">=</span> { text<span class="op">:</span> <span class="st">&quot;hello&quot;</span> } <span class="im">as</span> <span class="kw">const</span><span class="op">;</span></span></code></pre></div></li>
<li><p>object literals with array types becomes also readonly</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Type `{ readonly types: readonly [&quot;A&quot;, &quot;B&quot;]}`</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> apple <span class="op">=</span> { types<span class="op">:</span> [<span class="st">&quot;A&quot;</span><span class="op">,</span> <span class="st">&quot;B&quot;</span>] } <span class="im">as</span> <span class="kw">const</span><span class="op">;</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>apple<span class="op">.</span><span class="at">types</span> <span class="op">=</span> [<span class="st">&quot;C&quot;</span>]<span class="op">;</span> <span class="co">// Error, &#39;types&#39; is readonly, we can&#39;t reassign</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>apple<span class="op">.</span><span class="fu">push</span>(<span class="st">&quot;C&quot;</span>)<span class="op">;</span> <span class="co">// Error, Property &#39;push&#39; does not exist on type &#39;readonly [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]&#39;</span></span></code></pre></div></li>
<li><p>⛔ <code>const</code> contexts <strong>don’t</strong> immediately
convert an expression to be fully <code>immutable</code>.</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> types <span class="op">=</span> [<span class="st">&quot;Asian&quot;</span><span class="op">,</span> <span class="st">&quot;European&quot;</span>]<span class="op">;</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> apple <span class="op">=</span> {</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    name<span class="op">:</span> <span class="st">&quot;Green Apple&quot;</span><span class="op">,</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    types<span class="op">:</span> types<span class="op">,</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>} <span class="im">as</span> <span class="kw">const</span><span class="op">;</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>apple<span class="op">.</span><span class="at">name</span> <span class="op">=</span> <span class="st">&quot;Red Apple&quot;</span><span class="op">;</span> <span class="co">// Error</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>apple<span class="op">.</span><span class="at">types</span> <span class="op">=</span> [<span class="st">&quot;American&quot;</span>]<span class="op">;</span> <span class="co">// Error</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>aaple<span class="op">.</span><span class="at">types</span><span class="op">.</span><span class="fu">push</span>(<span class="st">&quot;African&quot;</span>)<span class="op">;</span> <span class="co">// OK</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="co">// to fix above, just do this little trick</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> types <span class="op">=</span> [<span class="st">&quot;Asian&quot;</span><span class="op">,</span> <span class="st">&quot;European&quot;</span>] <span class="im">as</span> <span class="kw">const</span><span class="op">;</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a><span class="co">// OR</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> types<span class="op">:</span> <span class="kw">readonly</span> <span class="dt">string</span>[] <span class="op">=</span> [<span class="st">&quot;Asian&quot;</span><span class="op">,</span> <span class="st">&quot;European&quot;</span>]<span class="op">;</span></span></code></pre></div></li>
</ul>
<h1 id="strict-mode">Strict Mode</h1>
<div class="sourceCode" id="cb35"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>  <span class="er">strict:</span> <span class="er">true</span> <span class="er">/*</span> <span class="er">Enable</span> <span class="er">all</span> <span class="er">strict</span> <span class="er">type-checking</span> <span class="er">options.</span> <span class="er">*/</span></span></code></pre></div>
<p>is equivalent to enabling all of the strict mode family options:</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>  <span class="er">noImplicitAny:</span> <span class="er">true</span> <span class="er">/*</span> <span class="er">Raise</span> <span class="er">error</span> <span class="er">on</span> <span class="er">expressions</span> <span class="er">and</span> <span class="er">declarations</span> <span class="er">with</span> <span class="er">an</span> <span class="er">implied</span> <span class="er">&#39;any&#39;</span> <span class="er">type</span> <span class="er">*/,</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="er">strictNullChecks:</span> <span class="er">true</span> <span class="er">/*</span> <span class="er">Enable</span> <span class="er">strict</span> <span class="er">null</span> <span class="er">checks</span> <span class="er">*/,</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="er">strictFunctionTypes:</span> <span class="er">true</span> <span class="er">/*</span> <span class="er">Enable</span> <span class="er">strict</span> <span class="er">checking</span> <span class="er">of</span> <span class="er">function</span> <span class="er">types</span> <span class="er">*/,</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="er">strictBindCallApply:</span> <span class="er">true</span> <span class="er">/*</span> <span class="er">Enable</span> <span class="er">strict</span> <span class="er">&#39;bind&#39;,</span> <span class="er">&#39;call&#39;,</span> <span class="er">and</span> <span class="er">&#39;apply&#39;</span> <span class="er">methods</span> <span class="er">on</span> <span class="er">functions</span> <span class="er">*/,</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="er">strictPropertyInitialization:</span> <span class="er">true</span> <span class="er">/*</span> <span class="er">Enable</span> <span class="er">strict</span> <span class="er">checking</span> <span class="er">of</span> <span class="er">property</span> <span class="er">initialization</span> <span class="er">in</span> <span class="er">classes</span> <span class="er">*/,</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="er">noImplicitThis:</span> <span class="er">true</span> <span class="er">/*</span> <span class="er">Raise</span> <span class="er">error</span> <span class="er">on</span> <span class="er">&#39;this&#39;</span> <span class="er">expressions</span> <span class="er">with</span> <span class="er">an</span> <span class="er">implied</span> <span class="er">&#39;any&#39;</span> <span class="er">type</span> <span class="er">*/,</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  <span class="er">alwaysStrict:</span> <span class="er">true</span> <span class="er">/*</span> <span class="er">Parse</span> <span class="er">in</span> <span class="er">strict</span> <span class="er">mode</span> <span class="er">and</span> <span class="er">emit</span> <span class="er">&quot;use</span> <span class="er">strict&quot;</span> <span class="er">for</span> <span class="er">each</span> <span class="er">source</span> <span class="er">file</span> <span class="er">*/</span></span></code></pre></div>
<p>You can then turn off individual strict mode family checks as
needed.</p>
<h2 id="non-nullable-types---strictnullchecks">Non-Nullable Types
<code>--strictNullChecks</code></h2>
<p>In strict null checking mode, <code>null</code> and
<code>undefined</code> are no longer assignable to every type.</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> name<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> <span class="st">&quot;Marius&quot;</span><span class="op">;</span> <span class="co">// OK</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> <span class="kw">null</span><span class="op">;</span> <span class="co">// Error</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> <span class="kw">undefined</span><span class="op">;</span> <span class="co">// Error</span></span></code></pre></div>
<div class="sourceCode" id="cb38"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> name<span class="op">:</span> <span class="dt">string</span> <span class="op">|</span> <span class="dt">null</span><span class="op">;</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> <span class="st">&quot;Marius&quot;</span><span class="op">;</span> <span class="co">// OK</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> <span class="kw">null</span><span class="op">;</span> <span class="co">// OK</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> <span class="kw">undefined</span><span class="op">;</span> <span class="co">// Error</span></span></code></pre></div>
<p>Optional parameter <code>?</code> automatically adds
<code>| undefined</code></p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> User <span class="op">=</span> {</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    firstName<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    lastName<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span> <span class="co">// same as `string | undefined`</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<ul>
<li>In JavaScript, every function parameter is optional, when left off
their value is <code>undefined</code>.</li>
<li>We can get this functionality in TypeScript by adding a
<code>?</code> to the end of parameters we want to be optional. This is
different from adding <code>| undefined</code> which requires the
parameter to be explicitly passed as <code>undefined</code></li>
</ul>
<div class="sourceCode" id="cb40"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">fn1</span>(x<span class="op">:</span> <span class="dt">number</span> <span class="op">|</span> <span class="dt">undefined</span>)<span class="op">:</span> <span class="dt">void</span> {</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">...</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">fn2</span>(x<span class="op">?:</span> <span class="dt">number</span>)<span class="op">:</span> <span class="dt">void</span> {</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">...</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="fu">fn1</span>() <span class="co">// Error</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="fu">fn2</span>() <span class="co">// OK</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a><span class="fu">fn1</span>(<span class="kw">undefined</span>) <span class="co">// OK</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a><span class="fu">fn2</span>(<span class="kw">undefined</span>) <span class="co">// OK</span></span></code></pre></div>
<p>Type guard needed to check if Object is possibly
<code>null</code>:</p>
<div class="sourceCode" id="cb41"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">getLength</span>(s<span class="op">:</span> <span class="dt">string</span> <span class="op">|</span> <span class="dt">null</span>) {</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Error: Object is possibly &#39;null&#39;.</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> s<span class="op">.</span><span class="at">length</span><span class="op">;</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb42"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">getLength</span>(s<span class="op">:</span> <span class="dt">string</span> <span class="op">|</span> <span class="dt">null</span>) {</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (s <span class="op">===</span> <span class="kw">null</span>) {</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> s<span class="op">.</span><span class="at">length</span><span class="op">;</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="co">// JS&#39;s truthiness semantics support type guards in conditional expressions</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">getLength</span>(s<span class="op">:</span> <span class="dt">string</span> <span class="op">|</span> <span class="dt">null</span>) {</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> s <span class="op">?</span> s<span class="op">.</span><span class="at">length</span> <span class="op">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb43"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doSomething</span>(callback<span class="op">?:</span> () <span class="kw">=&gt;</span> <span class="dt">void</span>) {</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Error: Object is possibly &#39;undefined&#39;.</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">callback</span>()<span class="op">;</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb44"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doSomething</span>(callback<span class="op">?:</span> () <span class="kw">=&gt;</span> <span class="dt">void</span>) {</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="kw">typeof</span> callback <span class="op">===</span> <span class="st">&quot;function&quot;</span>) {</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">callback</span>()<span class="op">;</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="strict-bind-call-apply---strictbindcallapply">Strict Bind Call
Apply <code>--strictBindCallApply</code></h2>
<blockquote>
<p>The <code>call()</code> method calls a function with a given
<code>this</code> value and arguments provided individually, while
<code>apply()</code> accepts a single array of arguments.</p>
<p>The <code>bind()</code> method creates a new function that, when
called, has its <code>this</code> keyword set to the provided value.</p>
</blockquote>
<p>When set, TypeScript will check that the built-in methods of
functions <code>call</code>, <code>bind</code>, and <code>apply</code>
are invoked with correct argument for the underlying function:</p>
<div class="sourceCode" id="cb45"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">// With strictBindCallApply on</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">fn</span>(x<span class="op">:</span> <span class="dt">string</span>) {</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="pp">parseInt</span>(x)<span class="op">;</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> n1 <span class="op">=</span> fn<span class="op">.</span><span class="fu">call</span>(<span class="kw">undefined</span><span class="op">,</span> <span class="st">&quot;10&quot;</span>)<span class="op">;</span> <span class="co">// OK</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> n2 <span class="op">=</span> fn<span class="op">.</span><span class="fu">call</span>(<span class="kw">undefined</span><span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span> <span class="co">// Argument of type &#39;false&#39; is not assignable to parameter of type &#39;string&#39;.</span></span></code></pre></div>
<h2
id="strict-class-property-initialization---strictpropertyinitialization">Strict
Class Property Initialization
<code>--strictPropertyInitialization</code></h2>
<p>Verify that each instance property declared in a class either:</p>
<ul>
<li>Has an explicit initializer, or</li>
<li>Is definitely assigned to in the constructor</li>
</ul>
<div class="sourceCode" id="cb46"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Error</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> User {</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Type error: Property &#39;username&#39; has no initializer</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// and is not definitely assigned in the constructor</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    username<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a><span class="co">// OK</span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> User {</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>    username <span class="op">=</span> <span class="st">&quot;n/a&quot;</span><span class="op">;</span></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> user <span class="op">=</span> <span class="kw">new</span> <span class="fu">User</span>()<span class="op">;</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> username <span class="op">=</span> user<span class="op">.</span><span class="at">username</span><span class="op">.</span><span class="fu">toLowerCase</span>()<span class="op">;</span></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a><span class="co">// OK</span></span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> User {</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">constructor</span>(<span class="kw">public</span> username<span class="op">:</span> <span class="dt">string</span>) {}</span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> user <span class="op">=</span> <span class="kw">new</span> <span class="fu">User</span>(<span class="st">&quot;adam&quot;</span>)<span class="op">;</span></span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> username <span class="op">=</span> user<span class="op">.</span><span class="at">username</span><span class="op">.</span><span class="fu">toLowerCase</span>()<span class="op">;</span></span></code></pre></div>
<ul>
<li>Has a type that includes undefined</li>
</ul>
<div class="sourceCode" id="cb47"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> User {</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    username<span class="op">:</span> <span class="dt">string</span> <span class="op">|</span> <span class="dt">undefined</span><span class="op">;</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> user <span class="op">=</span> <span class="kw">new</span> <span class="fu">User</span>()<span class="op">;</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="co">// Whenever we want to use the username property as a string, we first have</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a><span class="co">// to make sure that it actually holds a string, not the value undefined</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> username <span class="op">=</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">typeof</span> user<span class="op">.</span><span class="at">username</span> <span class="op">===</span> <span class="st">&quot;string&quot;</span> <span class="op">?</span> user<span class="op">.</span><span class="at">username</span><span class="op">.</span><span class="fu">toLowerCase</span>() <span class="op">:</span> <span class="st">&quot;n/a&quot;</span><span class="op">;</span></span></code></pre></div>
<h1 id="types">Types</h1>
<h2 id="never"><code>never</code></h2>
<p><code>never</code> represents the type of values that never occur. It
is used in the following two places:</p>
<ul>
<li>As the return type of functions that never return</li>
<li>As the type of variables under type guards that are never true</li>
</ul>
<p><code>never</code> can be used in control flow analysis:</p>
<div class="sourceCode" id="cb48"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">controlFlowAnalysisWithNever</span>(value<span class="op">:</span> <span class="dt">string</span> <span class="op">|</span> <span class="dt">number</span>) {</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="kw">typeof</span> value <span class="op">===</span> <span class="st">&quot;string&quot;</span>) {</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>        value<span class="op">;</span> <span class="co">// Type string</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (<span class="kw">typeof</span> value <span class="op">===</span> <span class="st">&quot;number&quot;</span>) {</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>        value<span class="op">;</span> <span class="co">// Type number</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>        value<span class="op">;</span> <span class="co">// Type never</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="unknown"><code>unknown</code></h2>
<p><code>unknown</code> is the type-safe counterpart of the
<code>any</code> type: we have to do some form of checking before
performing most operations on values of type <code>unknown</code>.</p>
<h3 id="reading-json-from-localstorage-using-unknown-example">Reading
<code>JSON</code> from <code>localStorage</code> using
<code>unknown</code> Example</h3>
<div class="sourceCode" id="cb49"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> Result <span class="op">=</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">|</span> { success<span class="op">:</span> <span class="kw">true</span><span class="op">;</span> value<span class="op">:</span> <span class="dt">unknown</span> }</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">|</span> { success<span class="op">:</span> <span class="kw">false</span><span class="op">;</span> error<span class="op">:</span> <span class="bu">Error</span> }<span class="op">;</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">tryDeserializeLocalStorageItem</span>(key<span class="op">:</span> <span class="dt">string</span>)<span class="op">:</span> Result {</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> item <span class="op">=</span> localStorage<span class="op">.</span><span class="fu">getItem</span>(key)<span class="op">;</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (item <span class="op">===</span> <span class="kw">null</span>) {</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// The item does not exist, thus return an error result</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>            success<span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>            error<span class="op">:</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="vs">`Item with key &quot;</span><span class="sc">${</span>key<span class="sc">}</span><span class="vs">&quot; does not exist`</span>)<span class="op">,</span></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>        }<span class="op">;</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> value<span class="op">:</span> <span class="dt">unknown</span><span class="op">;</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span> {</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>        value <span class="op">=</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">parse</span>(item)<span class="op">;</span></span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">catch</span> (error) {</span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>        <span class="co">// The item is not valid JSON, thus return an error result</span></span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {</span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a>            success<span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a>            error<span class="op">,</span></span>
<span id="cb49-25"><a href="#cb49-25" aria-hidden="true" tabindex="-1"></a>        }<span class="op">;</span></span>
<span id="cb49-26"><a href="#cb49-26" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb49-27"><a href="#cb49-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-28"><a href="#cb49-28" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Everything&#39;s fine, thus return a success result</span></span>
<span id="cb49-29"><a href="#cb49-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb49-30"><a href="#cb49-30" aria-hidden="true" tabindex="-1"></a>        success<span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb49-31"><a href="#cb49-31" aria-hidden="true" tabindex="-1"></a>        value<span class="op">,</span></span>
<span id="cb49-32"><a href="#cb49-32" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb49-33"><a href="#cb49-33" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h1 id="generics">Generics</h1>
<p>Generics enable you to create reusable code components that work with
a number of types instead of a single type.</p>
<h2 id="with-and-without-type-argument-inference">With and Without Type
Argument Inference</h2>
<div class="sourceCode" id="cb50"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">identity</span><span class="op">&lt;</span>T<span class="op">&gt;</span>(arg<span class="op">:</span> T)<span class="op">:</span> T {</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arg<span class="op">;</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> output <span class="op">=</span> <span class="fu">identity</span><span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span>(<span class="st">&quot;myString&quot;</span>)<span class="op">;</span> <span class="co">// type of output will be &#39;string&#39;</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> output <span class="op">=</span> <span class="fu">identity</span>(<span class="st">&quot;myString&quot;</span>)<span class="op">;</span> <span class="co">// type argument inference</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="co">// compiler sets the value of `T` based on the type of the argument we pass in</span></span></code></pre></div>
<h2 id="working-with-generic-type-variables">Working with Generic Type
Variables</h2>
<div class="sourceCode" id="cb51"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">loggingIdentity</span><span class="op">&lt;</span>T<span class="op">&gt;</span>(arg<span class="op">:</span> T)<span class="op">:</span> T {</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(arg<span class="op">.</span><span class="at">length</span>)<span class="op">;</span> <span class="co">// Error: T doesn&#39;t have .length</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arg<span class="op">;</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="co">// to specify .length property we should make generic T to T[] or Array&lt;T&gt;</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">loggingIdentity</span><span class="op">&lt;</span>T<span class="op">&gt;</span>(arg<span class="op">:</span> <span class="bu">Array</span><span class="op">&lt;</span>T<span class="op">&gt;</span>)<span class="op">:</span> <span class="bu">Array</span><span class="op">&lt;</span>T<span class="op">&gt;</span> {</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(arg<span class="op">.</span><span class="at">length</span>)<span class="op">;</span> <span class="co">// Array has a .length, so no more error</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arg<span class="op">;</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="using-more-than-one-type-argument">Using More Than One Type
Argument</h2>
<p>No value arguments are needed in this case:</p>
<div class="sourceCode" id="cb52"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">makePair</span><span class="op">&lt;</span>F<span class="op">,</span> S<span class="op">&gt;</span>() {</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> pair<span class="op">:</span> { first<span class="op">:</span> F<span class="op">;</span> second<span class="op">:</span> S }<span class="op">;</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span> <span class="fu">getPair</span>() {</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> pair<span class="op">;</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span> <span class="fu">setPair</span>(x<span class="op">:</span> F<span class="op">,</span> y<span class="op">:</span> S) {</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>        pair <span class="op">=</span> {</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>            first<span class="op">:</span> x<span class="op">,</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>            second<span class="op">:</span> y<span class="op">,</span></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>        }<span class="op">;</span></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> { getPair<span class="op">,</span> setPair }<span class="op">;</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a><span class="co">// Creates a (number, string) pair</span></span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> { getPair<span class="op">,</span> setPair } <span class="op">=</span> <span class="fu">makePair</span><span class="op">&lt;</span><span class="dt">number</span><span class="op">,</span> <span class="dt">string</span><span class="op">&gt;</span>()<span class="op">;</span></span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a><span class="fu">setPair</span>(<span class="dv">1</span><span class="op">,</span> <span class="st">&quot;y&quot;</span>)<span class="op">;</span> <span class="co">// must be type of (number, string)</span></span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a><span class="fu">getPair</span>()<span class="op">;</span> <span class="co">// will return pair of type { number, string }</span></span></code></pre></div>
<h2 id="higher-order-function-with-parameterst-and-returntypet">Higher
Order Function with <code>Parameters&lt;T&gt;</code> and
<code>ReturnType&lt;T&gt;</code></h2>
<div class="sourceCode" id="cb53"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Input a function `&lt;T extends (...args: any[]) =&gt; any&gt;`</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="co">// Output a function with same params and return type `:(...funcArgs: Parameters&lt;T&gt;) =&gt; ReturnType&lt;T&gt;`</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> logDuration<span class="op">&lt;</span>T <span class="kw">extends</span> (<span class="op">...</span>args<span class="op">:</span> <span class="dt">any</span>[]) <span class="kw">=&gt;</span> <span class="dt">any</span><span class="op">&gt;</span>(func<span class="op">:</span> T) {</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> funcName <span class="op">=</span> func<span class="op">.</span><span class="at">name</span><span class="op">;</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Return a new function that tracks how long the original took</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (<span class="op">...</span>args<span class="op">:</span> Parameters<span class="op">&lt;</span>T<span class="op">&gt;</span>)<span class="op">:</span> <span class="bu">ReturnType</span><span class="op">&lt;</span>T<span class="op">&gt;</span> <span class="kw">=&gt;</span> {</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">time</span>(funcName)<span class="op">;</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> results <span class="op">=</span> <span class="fu">func</span>(<span class="op">...</span>args)<span class="op">;</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">timeEnd</span>(funcName)<span class="op">;</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> results<span class="op">;</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">addNumbers</span>(a<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> b<span class="op">:</span> <span class="dt">number</span>)<span class="op">:</span> <span class="dt">number</span> {</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b<span class="op">;</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a><span class="co">// Hover over is `addNumbersWithLogging: (a: number, b: number) =&gt; number`</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> addNumbersWithLogging <span class="op">=</span> <span class="fu">logDuration</span>(addNumbers)<span class="op">;</span></span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a><span class="fu">addNumbersWithLogging</span>(<span class="dv">5</span><span class="op">,</span> <span class="dv">3</span>)<span class="op">;</span></span></code></pre></div>
<p>A generic class has a similar shape to a generic interface. Generic
classes have a generic type parameter list in angle brackets
(<code>&lt;&gt;</code>) following the name of the class.</p>
<div class="sourceCode" id="cb54"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> GenericNumber<span class="op">&lt;</span>T<span class="op">&gt;</span> {</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>    zeroValue<span class="op">:</span> T<span class="op">;</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    add<span class="op">:</span> (x<span class="op">:</span> T<span class="op">,</span> y<span class="op">:</span> T) <span class="kw">=&gt;</span> T<span class="op">;</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> myGenericNumber <span class="op">=</span> <span class="kw">new</span> <span class="fu">GenericNumber</span><span class="op">&lt;</span><span class="dt">number</span><span class="op">&gt;</span>()<span class="op">;</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>myGenericNumber<span class="op">.</span><span class="at">zeroValue</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>myGenericNumber<span class="op">.</span><span class="at">add</span> <span class="op">=</span> <span class="kw">function</span> (x<span class="op">,</span> y) {</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x <span class="op">+</span> y<span class="op">;</span></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<h1 id="discriminated-unions">Discriminated Unions</h1>
<p>Discriminated Unions provide a powerful pattern in TypeScript.
Immensely useful for actions &amp; reducers in <code>ngrx/redux</code>,
and every time you have to distinguish between <code>kinds</code> of
objects. They enaWtype inference which, combined with strict null
checks, will catch a lot of bugs! <a
href="https://twitter.com/mgechev/status/1255021510563115008">By Minko
Gechev</a></p>
<div class="sourceCode" id="cb55"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> <span class="kw">enum</span> Entity {</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    Individual<span class="op">,</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    Corporation<span class="op">,</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> Individual {</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>    type<span class="op">:</span> Entity<span class="op">.</span><span class="at">Individual</span><span class="op">;</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>    ssn<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> Corporation {</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>    type<span class="op">:</span> Entity<span class="op">.</span><span class="at">Corporation</span><span class="op">;</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>    ein<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> TaxPayer <span class="op">=</span> Individual <span class="op">|</span> Corporation<span class="op">;</span></span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">magic</span>(payer<span class="op">:</span> TaxPayer) {</span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (payer<span class="op">.</span><span class="at">type</span> <span class="op">===</span> Entity<span class="op">.</span><span class="at">Individual</span>) {</span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">taxIdentifier</span>(payer<span class="op">.</span><span class="at">ssn</span>)<span class="op">;</span></span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">taxIdentifier</span>(payer<span class="op">.</span><span class="at">ein</span>)<span class="op">;</span> <span class="co">// Property &#39;ein&#39; does not exist on type &#39;Individual&#39;</span></span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">taxIdentifier</span>(payer<span class="op">.</span><span class="at">ein</span>)<span class="op">;</span></span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">taxIdentifier</span>(payer<span class="op">.</span><span class="at">ssn</span>)<span class="op">;</span> <span class="co">// Property &#39;ssn&#39; doesn&#39;t exist on type &#39;Corporation&#39;</span></span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h1 id="optional-chaining">Optional Chaining</h1>
<h2
id="returns-undefined-when-hitting-a-null-or-undefined"><code>?.</code>
returns <code>undefined</code> when hitting a <code>null</code> or
<code>undefined</code></h2>
<p>Album where the artist, and the artists biography might not be
present in the data.</p>
<div class="sourceCode" id="cb56"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> AlbumAPIResponse <span class="op">=</span> {</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>    title<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>    artist<span class="op">?:</span> {</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>        name<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>        bio<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>        previousAlbums<span class="op">?:</span> <span class="dt">string</span>[]<span class="op">;</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a><span class="co">// Instead of:</span></span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> maybeArtistBio <span class="op">=</span> album<span class="op">.</span><span class="at">artist</span> <span class="op">&amp;&amp;</span> album<span class="op">.</span><span class="at">artist</span><span class="op">.</span><span class="at">bio</span><span class="op">;</span></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a><span class="co">// ?. acts differently than &amp;&amp; on &quot;falsy&quot; values: empty string, 0, NaN, false</span></span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> artistBio <span class="op">=</span> album<span class="op">?.</span><span class="at">artist</span><span class="op">?.</span><span class="at">bio</span><span class="op">;</span></span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a><span class="co">// optional chaining also works with the [] operators when accessing elements</span></span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a><span class="co">// see more example for optional element access below</span></span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> maybeArtistBioElement <span class="op">=</span> album<span class="op">?.</span>[<span class="st">&quot;artist&quot;</span>]<span class="op">?.</span>[<span class="st">&quot;bio&quot;</span>]<span class="op">;</span></span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> maybeFirstPreviousAlbum <span class="op">=</span> album<span class="op">?.</span><span class="at">artist</span><span class="op">?.</span><span class="at">previousAlbums</span><span class="op">?.</span>[<span class="dv">0</span>]<span class="op">;</span></span></code></pre></div>
<p>Optional chaining on an optional function:</p>
<div class="sourceCode" id="cb57"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> OptionalFunction {</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>    bar<span class="op">?:</span> () <span class="kw">=&gt;</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> foo<span class="op">:</span> OptionalFunction <span class="op">=</span> {}<span class="op">;</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> bat <span class="op">=</span> foo<span class="op">.</span><span class="at">bar</span><span class="op">?.</span>()<span class="op">;</span> <span class="co">// number | undefined</span></span></code></pre></div>
<ul>
<li><code>Optional Element Access</code></li>
</ul>
<p>the <em>optional element access</em> which acts similarly to
<em>optional property</em> accesses, but allows us to access
non-identifier properties (e.g. arbitrary strings, numbers, and
symbols):</p>
<div class="sourceCode" id="cb58"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="co"> * Get the first element of the array if we have an array.</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="co"> * Otherwise return undefined.</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">tryGetFirstElement</span><span class="op">&lt;</span>T<span class="op">&gt;</span>(arr<span class="op">?:</span> T[]) {</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arr<span class="op">?.</span>[<span class="dv">0</span>]<span class="op">;</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// equivalent to</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">//   return (arr === null || arr === undefined) ?</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">//       undefined :</span></span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">//       arr[0]</span></span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li><code>Optional Call</code></li>
</ul>
<p><em>optional call</em>, which allows us to conditionally call
expressions if they’re not <code>null</code> or
<code>undefined</code>.</p>
<div class="sourceCode" id="cb59"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">makeRequest</span>(url<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> log<span class="op">?:</span> (msg<span class="op">:</span> <span class="dt">string</span>) <span class="kw">=&gt;</span> <span class="dt">void</span>) {</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    log<span class="op">?.</span>(<span class="vs">`Request started at </span><span class="sc">${</span><span class="kw">new</span> <span class="bu">Date</span>()<span class="op">.</span><span class="fu">toISOString</span>()<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// roughly equivalent to</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">//   if (log != null) {</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">//       log(`Request started at ${new Date().toISOString()}`)</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">//   }</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> result <span class="op">=</span> (<span class="cf">await</span> <span class="fu">fetch</span>(url))<span class="op">.</span><span class="fu">json</span>()<span class="op">;</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>    log<span class="op">?.</span>(<span class="vs">`Request finished at at </span><span class="sc">${</span><span class="kw">new</span> <span class="bu">Date</span>()<span class="op">.</span><span class="fu">toISOString</span>()<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> result<span class="op">;</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li><code>Short-circutting</code></li>
</ul>
<p>The <em>short-circuiting</em> behavior that optional chains have is
limited property accesses, calls, element accesses - it doesn’t expand
any further out from these expressions.</p>
<div class="sourceCode" id="cb60"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> result <span class="op">=</span> foo<span class="op">?.</span><span class="at">bar</span> <span class="op">/</span> <span class="fu">someComputation</span>()<span class="op">;</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="co">// doesn’t stop the division or someComputation() call from occurring. It’s equivalent to</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> temp <span class="op">=</span> foo <span class="op">===</span> <span class="kw">null</span> <span class="op">||</span> foo <span class="op">===</span> <span class="kw">undefined</span> <span class="op">?</span> <span class="kw">undefined</span> <span class="op">:</span> foo<span class="op">.</span><span class="at">bar</span><span class="op">;</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> result <span class="op">=</span> temp <span class="op">/</span> <span class="fu">someComputation</span>()<span class="op">;</span></span></code></pre></div>
<h1 id="nullish-coalescing">Nullish Coalescing</h1>
<h2
id="fall-backs-to-a-default-value-when-dealing-with-null-or-undefined"><code>??</code>
“fall Backs” to a Default Value When Dealing with <code>null</code> or
<code>undefined</code></h2>
<p>Value <code>foo</code> will be used when it’s “present”; but when
it’s <code>null</code> or <code>undefined</code>, calculate
<code>bar()</code> in its place.</p>
<div class="sourceCode" id="cb61"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> x <span class="op">=</span> foo <span class="op">??</span> <span class="fu">bar</span>()<span class="op">;</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="co">// instead of</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> x <span class="op">=</span> foo <span class="op">!==</span> <span class="kw">null</span> <span class="op">&amp;&amp;</span> foo <span class="op">!==</span> <span class="kw">undefined</span> <span class="op">?</span> foo <span class="op">:</span> <span class="fu">bar</span>()<span class="op">;</span></span></code></pre></div>
<p>It can replace uses of <code>||</code> when trying to use a default
value, and avoids bugs. When <code>localStorage.volume</code> is set to
<code>0</code>, the page will set the volume to <code>0.5</code> which
is unintended. <code>??</code> avoids some unintended behaviour from
<code>0</code>, <code>NaN</code> and <code>""</code> being treated as
falsy values.</p>
<div class="sourceCode" id="cb62"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">initializeAudio</span>() {</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> volume <span class="op">=</span> localStorage<span class="op">.</span><span class="at">volume</span> <span class="op">||</span> <span class="fl">0.5</span><span class="op">;</span> <span class="co">// Potential bug</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h1 id="comments">Comments</h1>
<h2 id="ts-expect-error---3.9">ts-expect-error - 3.9</h2>
<p>TypeScript 3.9 brings a new feature: <code>// @ts-expect-error</code>
comments. When a line is prefixed with a
<code>// @ts-expect-error</code> comment, TypeScript will suppress that
error from being reported; but if there’s no error, TypeScript will
report that <code>// @ts-expect-error</code> wasn’t necessary.</p>
<div class="sourceCode" id="cb63"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co">// @ts-expect-error</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="dv">47</span> <span class="op">*</span> <span class="st">&quot;octopus&quot;</span>)<span class="op">;</span> <span class="co">// OK, no problem here</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="co">// @ts-expect-error</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span>)<span class="op">;</span> <span class="co">// Unused &#39;@ts-expect-error&#39; directive.</span></span></code></pre></div>
<h2 id="ts-expect-error-vs-ts-ignore">ts-expect-error vs ts-ignore</h2>
<p>In some ways <code>// @ts-expect-error</code> can act as a
suppression comment, similar to <code>// @ts-ignore</code>. The
difference is that <code>// @ts-ignore</code> will do nothing if the
following line is error-free.</p>
<p>You might be tempted to switch existing <code>// @ts-ignore</code>
comments over to <code>// @ts-expect-error</code>, and you might be
wondering which is appropriate for future code. While it’s entirely up
to you and your team, we have some ideas of which to pick in certain
situations.</p>
<p><strong>Pick <code>ts-expect-error</code> if</strong>:</p>
<ul>
<li>you’re writing test code where you actually want the type system to
error on an operation</li>
<li>you expect a fix to be coming in fairly quickly and you just need a
quick workaround</li>
<li>you’re in a reasonably-sized project with a proactive team that
wants to remove suppression comments as soon affected code is valid
again</li>
</ul>
<p><strong>Pick <code>ts-ignore</code> if</strong>:</p>
<ul>
<li>you have an a larger project and and new errors have appeared in
code with no clear owner</li>
<li>you are in the middle of an upgrade between two different versions
of TypeScript, and a line of code errors in one version but not
another.</li>
<li>you honestly don’t have the time to decide which of these options is
better</li>
</ul>
<h2 id="ts-4.0---4.2">TS 4.0 - 4.2</h2>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
Short-Circuiting Assignment Operators</li>
<li><input type="checkbox" disabled="" />
Template Literal Types</li>
<li><input type="checkbox" disabled="" />
Key Remapping in Mapped Types</li>
<li><input type="checkbox" disabled="" />
Checked Indexed Accesses (–noUncheckedIndexedAccess)</li>
<li><input type="checkbox" disabled="" />
Paths without baseUrl</li>
<li><input type="checkbox" disabled="" />
Destructured Variables Can Be Explicitly Marked as Unused</li>
</ul>
<h2 id="ts-4.3---4.4">TS 4.3 - 4.4</h2>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
(Template String Type Improvements)</li>
<li><input type="checkbox" disabled="" />
(Editor Support for <span class="citation"
data-cites="link">@link</span> Tags)</li>
<li><input type="checkbox" disabled="" />
(Go-to-Definition on Non-JavaScript File Paths)</li>
<li><input type="checkbox" disabled="" />
(Inlay Hints)</li>
</ul>
</article>
<p><a href="#easy-cheatsheet-to-learn-modern-typescript">:arrow_up: Back
to top</a></p>
<p>Thanks goes to these people for great examples:</p>
<ul>
<li><a href="https://www.typescriptlang.org/">Typescript Lang
Organization</a></li>
<li><a href="http://github.com/David-Else">David-Else</a></li>
<li><a href="https://github.com/mariusschulz">Marius Schulz</a></li>
<li><a href="https://github.com/chibicode">Shu Uesugi</a></li>
<li><a href="https://github.com/rauschma">Axel Rauschmayer</a></li>
<li><a href="https://github.com/mgechev">Minko Gechev</a></li>
</ul>
<p><strong><a href="./LICENSE">MIT-LICENSE</a></strong></p>

<!-- Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js" integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/" crossorigin="anonymous"></script>


</body>
</html>