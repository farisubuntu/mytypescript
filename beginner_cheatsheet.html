<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ES6 - Notes</title>
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css" integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I" crossorigin="anonymous">
 <link rel="stylesheet" href="./custom.css">
 

</head>
<body>
<header id="title-block-header">
<h1 class="title">BEGINNER CHEATSHEET</h1>
</header>
<p align="center">
<img src="https://raw.githubusercontent.com/rmolinamir/typescript-cheatsheet/master/TypeScript.png" alt="TypeScript"/>
</p>
<h1 id="typescript-cheatsheet">TypeScript Cheatsheet</h1>
<p>A set of TypeScript related notes used for quick reference. The
cheatsheet contains references to types, classes, decorators, and many
other TypeScript related subjects.</p>
<h1 id="table-of-contents">Table of contents</h1>
<ul>
<li><a href="#typescript-cheatsheet">TypeScript Cheatsheet</a></li>
<li><a href="#table-of-contents">Table of contents</a>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#types">Types</a>
<ul>
<li><a href="#basic-assign-types">Basic Assign Types</a>
<ul>
<li><a href="#string">String</a></li>
<li><a href="#number">Number</a></li>
<li><a href="#boolean">Boolean</a></li>
<li><a href="#array">Array</a></li>
</ul></li>
<li><a href="#tuples">Tuples</a></li>
<li><a href="#any">Any</a></li>
<li><a href="#enums">Enums</a></li>
<li><a href="#functions">Functions</a></li>
<li><a href="#argument-types">Argument Types</a></li>
<li><a href="#function-types">Function Types</a></li>
<li><a href="#void-function-type">Void Function Type</a></li>
<li><a href="#objects">Objects</a>
<ul>
<li><a href="#complex-objects">Complex Objects</a></li>
<li><a href="#optional-object-properties">Optional object
properties</a></li>
</ul></li>
<li><a href="#alias">Alias</a></li>
<li><a href="#union">Union</a></li>
<li><a href="#intersection">Intersection</a></li>
<li><a href="#check">Check</a></li>
<li><a href="#never">Never</a></li>
<li><a href="#nullable">Nullable</a></li>
<li><a href="#type-assertions">Type Assertions</a></li>
</ul></li>
<li><a href="#es6">ES6</a>
<ul>
<li><a href="#template-literals">Template Literals</a></li>
<li><a href="#arrow-functions">Arrow Functions</a></li>
<li><a href="#default-parameters">Default Parameters</a></li>
<li><a href="#spread-operators">Spread Operators</a></li>
<li><a href="#array-destructuring">Array Destructuring</a></li>
<li><a href="#object-destructuring">Object Destructuring</a></li>
</ul></li>
<li><a href="#classes">Classes</a></li>
<li><a href="#private-members">Private Members</a></li>
<li><a href="#class-inheritance">Class Inheritance</a></li>
<li><a href="#getters--setters">Getters &amp; Setters</a></li>
<li><a href="#static-properties--methods">Static Properties &amp;
Methods</a></li>
<li><a href="#abstract-classes">Abstract Classes</a></li>
<li><a href="#private-constructors--singletons">Private Constructors
&amp; Singletons</a></li>
<li><a href="#modules">Modules</a>
<ul>
<li><a href="#export">Export</a></li>
<li><a href="#default-exports">Default Exports</a></li>
<li><a href="#import">Import</a></li>
<li><a href="#advanced-module-loading">Advanced Module Loading</a></li>
</ul></li>
<li><a href="#namespaces">Namespaces</a></li>
<li><a href="#ambient-modules">Ambient Modules</a>
<ul>
<li><a href="#manually-declaring-a-third-party-library">Manually
declaring a third party library</a></li>
<li><a href="#using-typesthird-party-library-npm-packages">Using <span
class="citation" data-cites="types">@types</span>/[third-party-library]
NPM packages</a></li>
<li><a href="#shorthand-for-ambient-modules">Shorthand for Ambient
Modules</a></li>
<li><a href="#wildcard-module-declarations">Wildcard module
declarations</a></li>
<li><a href="#umd-modules">UMD modules</a></li>
</ul></li>
<li><a href="#interfaces">Interfaces</a>
<ul>
<li><a href="#optional-properties">Optional Properties</a></li>
<li><a href="#index-signatures-dynamic-property-names">Index Signatures
(Dynamic Property Names)</a></li>
<li><a href="#implements-keyword">Implements Keyword</a>
<ul>
<li><a href="#1-implementing-an-interface-to-a-class"><em>1.</em>
Implementing an <code>interface</code> to a <code>Class</code></a></li>
<li><a href="#2-implementing-an-interface-to-a-function"><em>2.</em>
Implementing an <code>interface</code> to a
<code>function</code></a></li>
</ul></li>
<li><a href="#extends-keyword-interface-inheritance">Extends Keyword
(Interface Inheritance)</a></li>
</ul></li>
<li><a href="#omit-type-when-extending-an-interface"><code>Omit</code>
type when extending an interface</a></li>
<li><a
href="#omitting-specific-properties-when-extending-an-interface">Omitting
specific properties when extending an interface</a></li>
<li><a href="#type-checking-for-interfaces">Type checking for
interfaces</a></li>
<li><a href="#generics">Generics</a>
<ul>
<li><a href="#simple-generics">Simple Generics</a></li>
<li><a href="#better-generics">Better Generics</a></li>
<li><a href="#built-in-generics">Built-in Generics</a></li>
<li><a href="#generic-types">Generic Types</a></li>
<li><a href="#generic-class">Generic Class</a></li>
</ul></li>
<li><a href="#decorators">Decorators</a>
<ul>
<li><a href="#prologue">Prologue</a></li>
<li><a href="#decorators-introduction">Decorators Introduction</a></li>
<li><a href="#basic-decorator">Basic Decorator</a></li>
<li><a href="#factory">Factory</a></li>
<li><a href="#advanced-decorator">Advanced Decorator</a></li>
<li><a href="#method-decorator">Method Decorator</a></li>
<li><a href="#property-decorator">Property Decorator</a></li>
<li><a href="#parameter-decorator">Parameter Decorator</a></li>
</ul></li>
<li><a href="#webpack-workflow-v4x">Webpack Workflow (v^4.X)</a></li>
<li><a href="#typescript-with-reactjs">TypeScript with React.js</a>
<ul>
<li><a href="#typescript-while-using-create-react-app">TypeScript while
using <code>create-react-app</code></a></li>
</ul></li>
<li><a href="#setting-up-general-react-prop-types">Setting up general
React prop types</a>
<ul>
<li><a href="#references-reactcreateref-or-useref-api">References
(<code>React.createRef()</code> or <code>useRef</code> API)</a></li>
<li><a href="#react-children">React Children</a></li>
<li><a href="#css-properties-and-classes-prop-types">CSS Properties and
Classes Prop Types</a></li>
<li><a
href="#general-prop-types-eg-html-5-props-event-listeners-etc">General
Prop Types (e.g. HTML 5 props, event listeners etc.)</a></li>
</ul></li>
<li><a
href="#setting-up-react-references-reactcreateref-or-useref-api">Setting
up React References (React.createRef() or useRef API)</a>
<ul>
<li><a href="#typescript--useref">TypeScript &amp; useRef</a></li>
<li><a href="#typescript--reactcreateref">TypeScript &amp;
React.createRef</a></li>
</ul></li>
<li><a href="#setting-up-event-handlers">Setting up Event
Handlers</a></li>
<li><a href="#typescript-and-react-hooks">TypeScript and React Hooks</a>
<ul>
<li><a href="#usestate">useState</a></li>
<li><a href="#useeffect">useEffect</a></li>
<li><a href="#usecontext">useContext</a></li>
<li><a href="#usereducer">useReducer</a></li>
<li><a href="#usecallback">useCallback</a></li>
<li><a href="#usememo">useMemo</a></li>
<li><a href="#useref">useRef</a></li>
<li><a href="#useimperativehandle">useImperativeHandle</a></li>
<li><a href="#uselayouteffect">useLayoutEffect</a></li>
<li><a href="#usedebugvalue">useDebugValue</a></li>
<li><a href="#custom-hooks">Custom Hooks</a></li>
</ul></li>
<li><a href="#feedback">Feedback</a></li>
<li><a href="#collaborators">Collaborators</a></li>
<li><a href="#contribute">Contribute</a></li>
</ul></li>
</ul>
<hr />
<h2 id="introduction">Introduction</h2>
<p>TypeScript is a very powerful addition to JavaScript. TypeScript is
developed by Microsoft and is increasingly supported by the day by
technologies such as Angular, Vue.js 3, React.js, and many others.</p>
<p>As TypeScript code can be compiled to ES5, it includes all of the
native JavaScript features such as spread arrow function,
deconstructors, and introduces some <strong>very</strong> useful
features such as decorators, generics and interfaces, enums, modules,
among others which can be found in different programming languages.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<hr />
<h2 id="types">Types</h2>
<blockquote>
<p>For programs to be useful, we need to be able to work with some of
the simplest units of data: numbers, strings, structures, boolean
values, and the like. In TypeScript, we support much the same types as
you would expect in JavaScript, with a convenient enumeration type
thrown in to help things along.</p>
</blockquote>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="basic-assign-types">Basic Assign Types</h3>
<h4 id="string">String</h4>
<blockquote>
<p>As in other languages, we use the type string to refer to these
textual datatypes. Just like JavaScript, TypeScript also uses double
quotes (“) or single quotes (’) to surround string data.</p>
</blockquote>
<div class="sourceCode" id="cb1"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> myName<span class="op">:</span> <span class="dt">string</span> <span class="op">=</span> <span class="st">&#39;Robert&#39;</span><span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h4 id="number">Number</h4>
<blockquote>
<p>As in JavaScript, all numbers in TypeScript are floating point
values. These floating point numbers get the type <code>number</code>.
In addition to hexadecimal and decimal literals, TypeScript also
supports binary and octal literals introduced in ECMAScript 2015.</p>
</blockquote>
<div class="sourceCode" id="cb2"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> myAge<span class="op">:</span> <span class="dt">number</span> <span class="op">=</span> <span class="dv">24</span><span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h4 id="boolean">Boolean</h4>
<blockquote>
<p>The most basic datatype is the simple
<code>true</code>/<code>false</code> value, which JavaScript and
TypeScript call a <code>boolean</code> value.</p>
</blockquote>
<div class="sourceCode" id="cb3"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> bHasHobbies<span class="op">:</span> <span class="dt">boolean</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h4 id="array">Array</h4>
<blockquote>
<p>TypeScript, like JavaScript, allows you to work with arrays of
values. Array types can be written in one of two ways. In the first, you
use the type of the elements followed by [] to denote an array of that
element type:</p>
</blockquote>
<div class="sourceCode" id="cb4"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> hobbies<span class="op">:</span> <span class="dt">string</span>[] <span class="op">=</span> [<span class="st">&#39;Programming&#39;</span><span class="op">,</span> <span class="st">&#39;Cooking&#39;</span>]<span class="op">;</span></span></code></pre></div>
<p>If no types are declared, TypeScript will automatically assign a type
depending on the types of the Array values.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> numbers <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="fl">3.22</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="op">-</span><span class="dv">1</span>] <span class="co">// This variable will automatically be assigned a number[] array type.</span></span></code></pre></div>
<p><strong>Note that declaring types is encouraged</strong>.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="tuples">Tuples</h3>
<blockquote>
<p>Tuple types allow you to express an array where the type of a fixed
number of elements is known, but need not be the same. For example, you
may want to represent a value as a pair of a <code>string</code> and a
<code>number</code>:</p>
</blockquote>
<div class="sourceCode" id="cb6"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> address<span class="op">:</span> [<span class="dt">string</span><span class="op">,</span> <span class="dt">number</span>] <span class="op">=</span> [<span class="st">&quot;Street&quot;</span><span class="op">,</span> <span class="dv">99</span>]<span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="any">Any</h3>
<blockquote>
<p>We may need to describe the type of variables that we do not know
when we are writing an application. These values may come from dynamic
content, e.g. from the user or a 3rd party library. In these cases, we
want to opt-out of type-checking and let the values pass through
compile-time checks. To do so, we label these with the <code>any</code>
type:</p>
</blockquote>
<div class="sourceCode" id="cb7"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> myCar<span class="op">:</span> <span class="dt">any</span> <span class="op">=</span> <span class="st">&#39;BMW&#39;</span><span class="op">;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(myCar)<span class="op">;</span> <span class="co">// Prints: BMW</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  myCar <span class="op">=</span> { brand<span class="op">:</span> <span class="st">&#39;BMW&#39;</span><span class="op">,</span> series<span class="op">:</span> <span class="dv">3</span> }<span class="op">;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(myCar) <span class="co">// Prints: { brand: &quot;BMW&quot;, series: 3 }</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="enums">Enums</h3>
<blockquote>
<p>A helpful addition to the standard set of datatypes from JavaScript
is the enum. As in languages like C#, an enum is a way of giving more
friendly names to sets of numeric values. By default, any
<code>enum</code> will begin numbering their members starting at 0. You
can change this by manually setting the value of one of its members. For
example, we can modify the Green value to 100, the next will be 101,
then set Yellow back to 2.</p>
</blockquote>
<div class="sourceCode" id="cb8"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">enum</span> Color {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    Gray<span class="op">,</span> <span class="co">// 0</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    Red<span class="op">,</span> <span class="co">// 1</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    Green <span class="op">=</span> <span class="dv">100</span><span class="op">,</span> <span class="co">// 100</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    Blue<span class="op">,</span> <span class="co">// 101</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    Yellow <span class="op">=</span> <span class="dv">2</span> <span class="co">// 2</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> myColor<span class="op">:</span> Color <span class="op">=</span> Color<span class="op">.</span><span class="at">Green</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(myColor)<span class="op">;</span> <span class="co">// Prints: 100</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="functions">Functions</h3>
<p>Functions as you may expect work exactly the same as in JavaScript
with a couple new features. In TypeScript, you may assign the function
two things:</p>
<ul>
<li>Argument types.</li>
<li>Function types.</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">returnMyName</span>(myName)<span class="op">:</span> <span class="dt">string</span> {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> myName<span class="op">;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">returnMyName</span>(<span class="st">&#39;Robert&#39;</span>)) <span class="co">// Prints: Robert</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="argument-types">Argument Types</h3>
<p>In TypeScript any argument of a function may be assigned a type no
matter how complex, for example:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">// argument types</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">multiply</span>(value1<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> value2<span class="op">:</span> <span class="dt">number</span>) {</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> value1 <span class="op">*</span> value2<span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">// console.log(multiply(&#39;Robert&#39;, 5)) // Not possible, both arguments must be of type number.</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">multiply</span>(<span class="dv">10</span><span class="op">,</span><span class="dv">5</span>)) <span class="co">// Prints: 50</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="function-types">Function Types</h3>
<p>Just like the argument, the <strong>return value</strong> of a
function may be assigned a type. Consider the example above to be
included into the example below:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> myMultiply<span class="op">:</span> (val1<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> val2<span class="op">:</span> <span class="dt">number</span>) <span class="kw">=&gt;</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">// myMultiply = sayHello; // Not possible.</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">// myMultiply(); // Not possible.</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  myMultiply <span class="op">=</span> multiply<span class="op">;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">myMultiply</span>(<span class="dv">5</span><span class="op">,</span> <span class="dv">2</span>))<span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="void-function-type">Void Function Type</h3>
<blockquote>
<p>The type <code>void</code> is a little like the opposite of
<code>any</code>: the absence of having any type at all. You may
commonly see this as the return type of functions that do not return a
value:</p>
</blockquote>
<div class="sourceCode" id="cb12"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">sayHello</span>()<span class="op">:</span> <span class="dt">void</span> {</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;Hello!&#39;</span>)<span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// return myName; // Not possible because the function can&#39;t return anything due to the void assigned type (more on this below).</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<blockquote>
<p>Declaring variables of type <code>void</code> is not useful because
you can only assign <code>undefined</code> or <code>null</code> to
them:</p>
</blockquote>
<div class="sourceCode" id="cb13"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> unusable<span class="op">:</span> <span class="dt">void</span> <span class="op">=</span> <span class="kw">undefined</span><span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="objects">Objects</h3>
<blockquote>
<p>The type <code>object</code> represents the non-primitive type,
i.e. any thing that is not <code>number</code>, <code>string</code>,
<code>boolean</code>, <code>symbol</code>, <code>null</code>, or
<code>undefined</code>.</p>
</blockquote>
<p>In JavaScript, so as in TypeScript, Objects are comprised of
key-value pairs. We can assign types to the <code>object</code>
key-value pairs, like so:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> userData<span class="op">:</span> { name<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> age<span class="op">:</span> <span class="dt">number</span> } <span class="op">=</span> {</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    name<span class="op">:</span> <span class="st">&#39;Max&#39;</span><span class="op">,</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    age<span class="op">:</span> <span class="dv">27</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">// userData = { // Not valid</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   name: 2,</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   age: &#39;Age&#39;</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">// };</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">// userData = { // Not valid</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   a: &#39;Robert&#39;,</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   b: 24</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">// };</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  userData <span class="op">=</span> {</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    name<span class="op">:</span> <span class="st">&#39;Robert&#39;</span><span class="op">,</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    age<span class="op">:</span> <span class="dv">24</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h4 id="complex-objects">Complex Objects</h4>
<p>As you may expect, the assigned types to the <code>object</code>
key-value pairs can reach high levels of complexity, for example:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> complex<span class="op">:</span> { data<span class="op">:</span> <span class="dt">number</span>[]<span class="op">,</span> output<span class="op">:</span> (all<span class="op">:</span> <span class="dt">boolean</span>) <span class="kw">=&gt;</span> <span class="dt">number</span>[] } <span class="op">=</span> {</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    data<span class="op">:</span> [<span class="dv">100</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span><span class="dv">99</span><span class="op">,</span> <span class="dv">10</span>]<span class="op">,</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    output<span class="op">:</span> <span class="kw">function</span>(all<span class="op">:</span> <span class="dt">boolean</span>)<span class="op">:</span> <span class="dt">number</span>[] {</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="kw">this</span><span class="op">.</span><span class="at">data</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">// complex = {}; // Not possible.</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h4 id="optional-object-properties">Optional object properties</h4>
<p>In TypeScript, all newly declared <strong>object properties</strong>
(including both <strong>function parameters</strong>, and
<strong>interface properties</strong>) may be declared as
<em>optional</em>. To do so, we must place a <code>?</code> character
after the key (or name) of the property when declaring it (a postfix
notation). Here’s an example:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> right<span class="op">:</span> { name<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> age<span class="op">?:</span> <span class="dt">number</span> } <span class="op">=</span> {</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    name<span class="op">:</span> <span class="st">&#39;Robert&#39;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> alsoRight<span class="op">:</span> { name<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> age<span class="op">?:</span> <span class="dt">number</span> } <span class="op">=</span> {</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    name<span class="op">:</span> <span class="st">&#39;Robert&#39;</span><span class="op">,</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    age<span class="op">:</span> <span class="dv">24</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">// This is not possible because the name key-value pair is missing.</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">// const wrong: { name: string, age?: number } = {</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   age: 24</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">// };</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="alias">Alias</h3>
<p>Writing complex and long types can quickly become dull and
impractical. For a DRY approach, it’s possible to create aliases for
types, essentially creating your own types. Here’s an example using the
complex object above:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">type</span> Complex <span class="op">=</span> { data<span class="op">:</span> <span class="dt">number</span>[]<span class="op">,</span> output<span class="op">:</span> (all<span class="op">:</span> <span class="dt">boolean</span>) <span class="kw">=&gt;</span> <span class="dt">number</span>[] }<span class="op">;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> complex2<span class="op">:</span> Complex  <span class="op">=</span> {</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    data<span class="op">:</span> [<span class="dv">100</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span><span class="dv">99</span><span class="op">,</span> <span class="dv">10</span>]<span class="op">,</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    output<span class="op">:</span> <span class="kw">function</span>(all<span class="op">:</span> <span class="dt">boolean</span>)<span class="op">:</span> <span class="dt">number</span>[] {</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="kw">this</span><span class="op">.</span><span class="at">data</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="union">Union</h3>
<p>Variables are not restricted to only one assigned type. This is where
union types come in where we can assign two or more types (e.g. assign
<code>number</code> and <code>string</code>) to a single variable. For
example:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> myRealRealAge<span class="op">:</span> <span class="dt">number</span> <span class="op">|</span> <span class="dt">string</span> <span class="op">=</span> <span class="dv">24</span><span class="op">;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  myRealRealAge <span class="op">=</span> <span class="st">&#39;24&#39;</span><span class="op">;</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">// myRealRealAge = true // Not possible since myRealRealAge only accepts a number or a string.</span></span></code></pre></div>
<h3 id="intersection">Intersection</h3>
<p>Intersection types are similar to union types (and similar to the
<code>extend</code> keyword pattern, which is explained further down),
but arguably less common (yet, at least equally useful). Before we get
into what an intersection type is, I must mention that in the <a
href="https://www.typescriptlang.org/docs/handbook/advanced-types.html">TypeScript
official documentation about the intersection types</a>, they are
showcased first and <em>before</em> the union types, however in this
guide I will mention them <em>after</em> the union types because they
have a bit of a more abstract definition.</p>
<p>Since it’s a rather abstract concept, to give you an idea of what an
intersection type is, think of the famous <code>React.js</code> package,
<code>react-redux</code>, and its <a
href="https://redux.js.org/api/compose"><code>compose</code>
function</a>. A <a
href="https://github.com/reduxjs/redux/blob/c43fc3a7c7048c0dba614bc6fbea1b22740d5176/src/compose.ts">brief
look of the code snippet</a> will show us how all of the arguments of
the <code>compose</code> function are <em>mixed</em> into one single
<code>function</code>. This is essentially what the the intersection
types do, they <em>mix</em> an N number of types to create a new one, so
long as they are compatible.</p>
<p>In TypeScript, an intersection type is simply a mix (more commonly
referred to as a <strong><em>mixin</em></strong>) between two or more
types.</p>
<p><strong>Note however, that this does not mean that you can freely use
intersection types anywhere</strong>. For example, this simple
declaration will make the compiler throw an error:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> stringAndNumber<span class="op">:</span> <span class="dt">string</span> <span class="op">&amp;</span> <span class="dt">number</span> <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span></code></pre></div>
<p>The reason is because <code>5</code> is not assignable to type
<code>string</code>. And that is because <code>5</code> is of type
<code>number</code>, the types <code>number</code> and
<code>string</code> are structuraly <strong>incompatible</strong>.</p>
<p>Without getting too much into it, the way TypeScript compares types
is based on their members. Since at least 1 of the members between the
types <code>string</code> and <code>number</code> clash, the
intersection of these types is not possible.</p>
<p><strong>That</strong> is the limitation of the intersection types.
The intersected types <em>must</em> be compatible, by this, I mean that
<strong>their properties must not overlap each other</strong>. If this
condition is met, <strong>the resulting type will have access to all
properties</strong>.</p>
<p>Because of the previously mentioned limitation, intersection types
are less common than union types, they would be <em>very</em> hard to
use on variables with “basic” levels of types. Fortunately for us, by
using <code>interfaces</code> (<a href="#interfaces">explained here</a>)
(and other advanced types), intersection types become
<strong><em>very</em></strong> useful. Let’s take a look at a more
advanced example (which assumes the reader has at least basic knowledge
of interfaces):</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> Loggable {</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">log</span>(name<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> age<span class="op">:</span> <span class="dt">number</span>)<span class="op">:</span> <span class="dt">void</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> Person {</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    name<span class="op">:</span> <span class="dt">string</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    age<span class="op">:</span> <span class="dt">number</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    isStark<span class="op">?:</span> <span class="dt">boolean</span> <span class="co">// May be undefined.</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> LoggablePerson <span class="op">=</span> Loggable <span class="op">&amp;</span> Person<span class="op">;</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> logPerson<span class="op">:</span>(name<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> age<span class="op">:</span> <span class="dt">number</span>) <span class="kw">=&gt;</span> <span class="dt">void</span> <span class="op">=</span> (name<span class="op">,</span> age) <span class="kw">=&gt;</span> {</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`I am </span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">, and I am </span><span class="sc">${</span>age<span class="sc">}</span><span class="vs"> years old.`</span>)</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> jonSnow<span class="op">:</span> LoggablePerson <span class="op">=</span> {</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>    name<span class="op">:</span> <span class="st">&quot;Jon Snow&quot;</span><span class="op">,</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>    age<span class="op">:</span> <span class="dv">23</span><span class="op">,</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>    log<span class="op">:</span> logPerson</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;jonSnow.name -&gt;&#39;</span><span class="op">,</span> jonSnow<span class="op">.</span><span class="at">name</span>)<span class="op">;</span> <span class="co">// Prints: &quot;Jon Snow&quot;</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;jonSnow.age -&gt;&#39;</span><span class="op">,</span> jonSnow<span class="op">.</span><span class="at">age</span>)<span class="op">;</span> <span class="co">// Prints: 23</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;jonSnow.isStark -&gt;&#39;</span><span class="op">,</span> jonSnow<span class="op">.</span><span class="at">isStark</span>)<span class="op">;</span> <span class="co">// Prints: undefined</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(</span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;jonSnow.log(jonSnow.name, jonSnow.age) -&gt;&#39;</span><span class="op">,</span></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>    jonSnow<span class="op">.</span><span class="fu">log</span>(jonSnow<span class="op">.</span><span class="at">name</span><span class="op">,</span> jonSnow<span class="op">.</span><span class="at">age</span>)</span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span> <span class="co">// Prints: I am Jon Snow, and I am 23 years old.</span></span></code></pre></div>
<p><strong>NOTE:</strong> If you want to mix <strong>members</strong>
(not types) of a <code>class</code>, you should use the
<code>extend</code> keyword instead, <a
href="#extends-keyword-interface-inheritance">explained here</a>.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="check">Check</h3>
<p>Programmatically checking for types work exactly as it works in
JavaScript:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> finalValue <span class="op">=</span> <span class="st">&#39;A string&#39;</span><span class="op">;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="kw">typeof</span> finalValue <span class="op">==</span> <span class="st">&#39;string&#39;</span>) {</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;finalValue is a string&#39;</span>)<span class="op">;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="never">Never</h3>
<blockquote>
<p>The <code>never</code> type represents the type of values that never
occur. For instance, <code>never</code> is the return type for a
function expression or an arrow function expression <strong>that always
throws an exception or one that never returns</strong>; Variables also
acquire the type <code>never</code> when narrowed by any type guards
that can never be true.</p>
</blockquote>
<div class="sourceCode" id="cb22"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">neverReturns</span>()<span class="op">:</span> <span class="dt">never</span> {</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="st">&#39;An error!&#39;</span>)<span class="op">;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="nullable">Nullable</h3>
<blockquote>
<p>In TypeScript, both <code>undefined</code> and <code>null</code>
actually have their own types named <code>undefined</code> and
<code>null</code> respectively. Much like <code>void</code>, they’re not
extremely useful on their own:</p>
</blockquote>
<div class="sourceCode" id="cb23"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> canBeNull<span class="op">:</span> <span class="dt">null</span> <span class="op">|</span> <span class="dt">number</span> <span class="op">=</span> <span class="dv">12</span><span class="op">;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  canBeNull <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> canAlsoBeNull<span class="op">;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  canAlsoBeNull <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> canThisBeAny <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  canThisBeAny <span class="op">=</span> <span class="dv">12</span><span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="type-assertions">Type Assertions</h3>
<blockquote>
<p>Sometimes you’ll end up in a situation where you’ll know more about a
value than TypeScript does. Usually this will happen when you know the
type of some entity could be more specific than its current type. Type
assertions are a way to tell the compiler “trust me, I know what I’m
doing”. A type assertion is like a type cast in other languages, but
performs no special checking or restructuring of data. It has no runtime
impact, and is used purely by the compiler. TypeScript assumes that you,
the programmer, have performed any special checks that you need.</p>
</blockquote>
<p>Type assertions have two forms. One is the “angle-bracket” syntax,
which is fine, except for JSX (read React) code because JSX works with
angle-bracket syntax itself:</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> someValue<span class="op">:</span> <span class="dt">any</span> <span class="op">=</span> <span class="st">&quot;this is a string&quot;</span><span class="op">;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> strLength<span class="op">:</span> <span class="dt">number</span> <span class="op">=</span> (<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span>someValue)<span class="op">.</span><span class="at">length</span><span class="op">;</span></span></code></pre></div>
<p>And the other is the one used with JSX, namely the
<code>as</code>-syntax:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> someValue<span class="op">:</span> <span class="dt">any</span> <span class="op">=</span> <span class="st">&quot;this is a string&quot;</span><span class="op">;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> strLength<span class="op">:</span> <span class="dt">number</span> <span class="op">=</span> (someValue <span class="im">as</span> <span class="dt">string</span>)<span class="op">.</span><span class="at">length</span><span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<hr />
<h2 id="es6">ES6</h2>
<p>TypeScript natively supports the newer ES6 (A.K.A. ECMAScript 6 and
ECMAScript 2015) JavaScript features. As you may have guessed, we can
assign types to these new features (e.g. assigning types to an arrow
function). Here are some examples:</p>
<h3 id="template-literals">Template Literals</h3>
<div class="sourceCode" id="cb26"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> userName <span class="op">=</span> <span class="st">&#39;Robert&#39;</span><span class="op">;</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> greeting <span class="op">=</span> <span class="vs">`Hello I&#39;m </span><span class="sc">${</span>userName<span class="sc">}</span><span class="vs">`</span><span class="op">;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(greeting)</span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="arrow-functions">Arrow Functions</h3>
<p>Arrow function arguments can be assigned any type.</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> greet <span class="op">=</span> (name<span class="op">:</span> <span class="dt">string</span> <span class="op">=</span> <span class="st">&#39;Robert&#39;</span>) <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Hello, </span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">greet</span>(<span class="st">&#39;Robert Molina&#39;</span>)<span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="default-parameters">Default Parameters</h3>
<p>Arrow functions may also be defined with default argument values in
case no respective arguments were passed, these default parameters may
also be of any assigned type.</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> greet <span class="op">=</span> (name<span class="op">:</span> <span class="dt">string</span> <span class="op">=</span> <span class="st">&#39;Robert&#39;</span>) <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Hello, </span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">greet</span>()<span class="op">;</span> <span class="co">// Prints: &quot;Robert&quot;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="spread-operators">Spread Operators</h3>
<blockquote>
<p>Spread syntax allows an iterable such as an array expression or
string to be expanded in places where zero or more arguments (for
function calls) or elements (for array literals) are expected, or an
object expression to be expanded in places where zero or more key-value
pairs (for object literals) are expected.</p>
</blockquote>
<div class="sourceCode" id="cb29"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> numbers<span class="op">:</span> <span class="dt">number</span>[] <span class="op">=</span> [<span class="op">-</span><span class="dv">3</span><span class="op">,</span> <span class="dv">33</span><span class="op">,</span> <span class="dv">38</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="bu">Math</span><span class="op">.</span><span class="fu">min</span>(<span class="op">...</span>numbers))<span class="op">;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> newArray<span class="op">:</span> <span class="dt">number</span>[] <span class="op">=</span> [<span class="dv">55</span><span class="op">,</span> <span class="dv">20</span><span class="op">,</span> <span class="op">...</span>numbers]<span class="op">;</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(newArray)<span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="array-destructuring">Array Destructuring</h3>
<p>Arrays may also be destructured in TypeScript, keep in mind that all
the assigned types to the array values won’t be lost when
destructured.</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> testResults<span class="op">:</span> <span class="dt">number</span>[] <span class="op">=</span> [<span class="fl">3.89</span><span class="op">,</span> <span class="fl">2.99</span><span class="op">,</span> <span class="fl">1.38</span>]<span class="op">;</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> [result1<span class="op">,</span> result2<span class="op">,</span> result3] <span class="op">=</span> testResults<span class="op">;</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(result1<span class="op">,</span> result2<span class="op">,</span> result3)<span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="object-destructuring">Object Destructuring</h3>
<p>Just like arrays, the destructured object value pairs will keep their
previously assigned types. Keep in mind that when destructuring an
object, the declared variable name <strong>must</strong> match the
object key to let the compiler know which variable to destructure.</p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> scientist<span class="op">:</span> { firstName<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> experience<span class="op">:</span> <span class="dt">number</span> } <span class="op">=</span> { firstName<span class="op">:</span> <span class="st">&#39;Robert&#39;</span><span class="op">,</span> experience<span class="op">:</span> <span class="dv">9000</span> }<span class="op">;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> { firstName<span class="op">,</span> experience } <span class="op">=</span> scientist<span class="op">;</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(firstName<span class="op">,</span> experience)<span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<hr />
<h2 id="classes">Classes</h2>
<blockquote>
<p>Traditional JavaScript uses functions and prototype-based inheritance
to build up reusable components, but this may feel a bit awkward to
programmers more comfortable with an object-oriented approach, where
classes inherit functionality and objects are built from these classes.
In TypeScript, we allow developers to use these techniques now, and
compile them down to JavaScript that works across all major browsers and
platforms, without having to wait for the next version of
JavaScript.</p>
</blockquote>
<p>TypeScript offers <code>public</code>, <code>private</code>, and
protected modifiers to every class member variable. Unlike
<code>C#</code> which requires that each member be explicitly labeled
<code>public</code>, In TypeScript, each member is <code>public</code>
by default.</p>
<p><strong>You may still mark a member public explicitly. For
example:</strong></p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> Person {</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> type<span class="op">:</span> <span class="dt">string</span> <span class="op">|</span> <span class="dt">null</span> <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">protected</span> age<span class="op">:</span> <span class="dt">number</span> <span class="op">=</span> <span class="dv">23</span><span class="op">;</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">constructor</span>(<span class="kw">public</span> name<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> <span class="kw">public</span> userName<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> <span class="kw">private</span> email<span class="op">:</span> <span class="dt">string</span>) {</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span><span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span><span class="at">userName</span> <span class="op">=</span> userName<span class="op">;</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span><span class="at">email</span> <span class="op">=</span> email<span class="op">;</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> printAge <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>      <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="kw">this</span><span class="op">.</span><span class="at">age</span>)<span class="op">;</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span><span class="fu">setType</span>(<span class="st">&#39;Young guy&#39;</span>)<span class="op">;</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> setType <span class="op">=</span> (type<span class="op">:</span> <span class="dt">string</span>) <span class="kw">=&gt;</span> {</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span><span class="at">type</span> <span class="op">=</span> <span class="kw">type</span><span class="op">;</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>      <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="kw">this</span><span class="op">.</span><span class="at">type</span>)<span class="op">;</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> person <span class="op">=</span> <span class="kw">new</span> <span class="fu">Person</span>(<span class="st">&#39;Francisco&#39;</span><span class="op">,</span> <span class="st">&#39;rmolinamir&#39;</span><span class="op">,</span> <span class="st">&#39;example@email.com&#39;</span>)<span class="op">;</span></span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>  person<span class="op">.</span><span class="fu">printAge</span>()<span class="op">;</span> <span class="co">// Prints: 23</span></span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">// person.setType(&#39;Cool guy&#39;); // Not possible, since setType is a private member of Person.</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h2 id="private-members">Private Members</h2>
<p>When a member is marked <code>private</code>, it cannot be accessed
from outside of its containing class. <strong>However, should a class
<code>X</code> inherit properties from <code>Person</code>, class
<code>A</code> will be able to access all private properties from
<code>Person</code> (e.g. <code>type and setType</code>) due to being
inside (or having access to) the protected scope</strong>. More on what
class inheritance is all about just below, but here’s an example;</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> Type {</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>      <span class="kw">private</span> type<span class="op">:</span> <span class="dt">string</span> <span class="op">|</span> <span class="dt">null</span> <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>      setType <span class="op">=</span> (type<span class="op">:</span> <span class="dt">string</span>) <span class="kw">=&gt;</span> {</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="at">type</span> <span class="op">=</span> <span class="kw">type</span><span class="op">;</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="kw">this</span><span class="op">.</span><span class="at">type</span>)<span class="op">;</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> Person <span class="kw">extends</span> Type {</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>      <span class="kw">protected</span> age<span class="op">:</span> <span class="dt">number</span> <span class="op">=</span> <span class="dv">23</span><span class="op">;</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>      <span class="kw">constructor</span>(<span class="kw">public</span> name<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> <span class="kw">public</span> userName<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> <span class="kw">private</span> email<span class="op">:</span> <span class="dt">string</span>) {</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>        <span class="kw">super</span>()</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="at">userName</span> <span class="op">=</span> userName<span class="op">;</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="at">email</span> <span class="op">=</span> email<span class="op">;</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>      <span class="kw">public</span> printAge <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="kw">this</span><span class="op">.</span><span class="at">age</span>)<span class="op">;</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">setType</span>(<span class="st">&#39;Young guy&#39;</span>)<span class="op">;</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> person <span class="op">=</span> <span class="kw">new</span> <span class="fu">Person</span>(<span class="st">&#39;Rob&#39;</span><span class="op">,</span> <span class="st">&#39;rm&#39;</span><span class="op">,</span> <span class="st">&#39;email&#39;</span>)<span class="op">;</span></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>  person<span class="op">.</span><span class="fu">setType</span>(<span class="st">&#39;Cool guy&#39;</span>)<span class="op">;</span> <span class="co">// Prints: Cool guy</span></span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(person)<span class="op">;</span> <span class="co">// Prints:</span></span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">/**</span></span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a><span class="co">   * Person</span></span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a><span class="co">   *</span></span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a><span class="co">   * age: 23</span></span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a><span class="co">   * email: &quot;email&quot;</span></span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a><span class="co">   * name: &quot;Rob&quot;</span></span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a><span class="co">   * printAge: ƒ ()</span></span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a><span class="co">   * setType: ƒ (type)</span></span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a><span class="co">   * type: &quot;Cool guy&quot;</span></span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a><span class="co">   * userName: &quot;rm&quot;</span></span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a><span class="co">   *</span></span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a><span class="co">   */</span></span></code></pre></div>
<p>If you want to prevent some properties or classes for being
inherited, there is currently a proposal for the <code>final</code>
keyword to be added.</p>
<p>Links:</p>
<ul>
<li><a
href="https://github.com/Microsoft/TypeScript/issues/9264">Suggestion:
Final keyword for classes and methods</a></li>
<li><a
href="https://github.com/Microsoft/TypeScript/issues/8306">Support final
classes (non-subclassable)</a></li>
</ul>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h2 id="class-inheritance">Class Inheritance</h2>
<blockquote>
<p>TypeScript is a structural type system. When we compare two different
types, regardless of where they came from, if the types of all members
are compatible, then we say the types themselves are compatible.</p>
</blockquote>
<p>Classes may also be extended. By extending a class, we can declare
another class that <strong>inherits</strong> all of the parent class
members, for example:</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> Robert <span class="kw">extends</span> Person {</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">constructor</span>(userName<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> email<span class="op">:</span> <span class="dt">string</span>) {</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>      <span class="kw">super</span>(<span class="st">&#39;Robert Molina&#39;</span><span class="op">,</span> userName<span class="op">,</span> email)<span class="op">;</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span><span class="at">age</span> <span class="op">=</span> <span class="dv">25</span><span class="op">;</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span><span class="fu">printAge</span>()</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> robert <span class="op">=</span> <span class="kw">new</span> <span class="fu">Robert</span>(<span class="st">&#39;rmolinamir&#39;</span><span class="op">,</span> <span class="st">&#39;example@email.com&#39;</span>)<span class="op">;</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(robert)<span class="op">;</span></span></code></pre></div>
<p>The class Robert, would be able to access all of the Person members,
and overwrite them if possible. <strong>Note that <code>super</code> has
to be called in the constructor of the Robert class, to execute any
logic that may be stored inside the parent Person class’ constructor. If
not called, side effects may happen</strong>.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h2 id="getters-setters">Getters &amp; Setters</h2>
<p>TypeScript offers two great features for classes: <code>get</code>,
and <code>set</code>. These are keywords that can be used to create a
getter or setter function that can share the same name, and run whatever
logic the programmer decides to pass into. Here’s an example:</p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> Plant {</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> _species<span class="op">:</span> <span class="dt">string</span> <span class="op">=</span> <span class="st">&#39;Default&#39;</span><span class="op">;</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">get</span> <span class="fu">species</span>() {</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="kw">this</span><span class="op">.</span><span class="at">_species</span><span class="op">;</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">set</span> <span class="fu">species</span>(value<span class="op">:</span> <span class="dt">string</span>) {</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (value<span class="op">.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">3</span>) {</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="at">_species</span> <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="at">_species</span> <span class="op">=</span> <span class="st">&#39;Default&#39;</span><span class="op">;</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> getSpecies <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="kw">this</span><span class="op">.</span><span class="at">_species</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> plant <span class="op">=</span> <span class="kw">new</span> <span class="fu">Plant</span>()<span class="op">;</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(plant<span class="op">.</span><span class="at">species</span>)<span class="op">;</span> <span class="co">// Prints Default</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>  plant<span class="op">.</span><span class="at">species</span> <span class="op">=</span> <span class="st">&#39;AB&#39;</span><span class="op">;</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(plant<span class="op">.</span><span class="at">species</span>)<span class="op">;</span> <span class="co">// Prints Default</span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>  plant<span class="op">.</span><span class="at">species</span> <span class="op">=</span> <span class="st">&#39;Green Plant&#39;</span><span class="op">;</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(plant<span class="op">.</span><span class="at">species</span>)<span class="op">;</span> <span class="co">// Prints Green Plant</span></span></code></pre></div>
<p>To <code>set</code> <em>species</em>, we would do an expression such
as <code>plant.species = 'AB';</code>, and to <code>get</code>
<em>species</em>, we would simply refer to the <em>species</em> property
of the <code>plant</code> object.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h2 id="static-properties-methods">Static Properties &amp; Methods</h2>
<p>Static properties and methods are class members that can be accessed
from an outer scope of the <code>class</code>, <strong>and</strong>
without having to instantiate the class either. Here’s an example:</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> Helpers {</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> PI<span class="op">:</span> <span class="dt">number</span> <span class="op">=</span> <span class="fl">3.14</span><span class="op">;</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="fu">calcCircumference</span>(diameter<span class="op">:</span> <span class="dt">number</span>)<span class="op">:</span> <span class="dt">number</span> {</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="kw">this</span><span class="op">.</span><span class="at">PI</span> <span class="op">*</span> diameter<span class="op">;</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(Helpers<span class="op">.</span><span class="at">PI</span>)<span class="op">;</span> <span class="co">// Prints: 3.14</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="dv">2</span> <span class="op">*</span> Helpers<span class="op">.</span><span class="at">PI</span>)<span class="op">;</span> <span class="co">// Prints: 6.28</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(Helpers<span class="op">.</span><span class="fu">calcCircumference</span>(<span class="dv">10</span>))<span class="op">;</span> <span class="co">// Prints: 31.42</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h2 id="abstract-classes">Abstract Classes</h2>
<blockquote>
<p>Abstract classes are base classes from which other classes may be
derived. They may not be instantiated directly. Unlike an interface, an
<code>abstract class</code> may contain implementation details for its
members. <strong>The <code>abstract</code> keyword is used to define
abstract classes as well as abstract methods within an abstract
class.</strong></p>
</blockquote>
<p>A great comparison and example for <code>abstract classes</code> is
the React.js <code>Component</code> class, that we use to extend our own
custom components, like the typical:</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> App <span class="kw">extends</span> Component {</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">...</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>The following is an example of a TypeScript abstract class
definition:</p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">abstract</span> <span class="kw">class</span> Project {</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    projectName<span class="op">:</span> <span class="dt">string</span> <span class="op">=</span> <span class="st">&#39;Default&#39;</span><span class="op">;</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    budget<span class="op">:</span> <span class="dt">number</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">abstract</span> <span class="fu">changeName</span>(name<span class="op">:</span> <span class="dt">string</span>)<span class="op">:</span> <span class="dt">void</span><span class="op">;</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calcBudget</span>() {</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="kw">this</span><span class="op">.</span><span class="at">budget</span> <span class="op">*</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<blockquote>
<p>Methods within an <code>abstract class</code> that are marked as
<code>abstract</code> <strong>do not contain an implementation and must
be implemented in derived classes</strong>. Abstract methods share a
similar syntax to interface methods. Both define the signature of a
method without including a method body. However, abstract methods must
include the <code>abstract</code> keyword and may optionally include
access modifiers.</p>
</blockquote>
<p>Think of <code>abstract</code> methods as methods that
<strong>won’t</strong> be passed down to the inheritor classes.</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> ITProject <span class="kw">extends</span> Project {</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    changeName <span class="op">=</span> (name<span class="op">:</span> <span class="dt">string</span>) <span class="kw">=&gt;</span> {</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span><span class="at">projectName</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> newProject <span class="op">=</span> <span class="kw">new</span> <span class="fu">ITProject</span>()<span class="op">;</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(newProject) <span class="co">// Prints: { projectName: &quot;Default&quot;, budget: 0, ...  }</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  newProject<span class="op">.</span><span class="fu">changeName</span>(<span class="st">&#39;Super IT Project&#39;</span>)<span class="op">;</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(newProject)<span class="op">;</span> <span class="co">// Prints: { projectName: &quot;&#39;Super IT Project&quot;, budget: 0, ...  }</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>  newProject<span class="op">.</span><span class="at">budget</span> <span class="op">=</span> <span class="dv">1000</span><span class="op">;</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(newProject<span class="op">.</span><span class="at">budget</span>)<span class="op">;</span> <span class="co">// Prints: 1000</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(newProject<span class="op">.</span><span class="fu">calcBudget</span>())<span class="op">;</span> <span class="co">// Prints: 2000</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="private-constructors-singletons"></a></p>
<h2 id="private-constructors-singletons">Private Constructors &amp;
Singletons</h2>
<p><strong>My absolute favorite TypeScript feature.</strong> At first
glance you may realize that private constructors sound strange, you
might ask yourself, what’s the point of making the constructor method
private, resulting in the programmer not being able to call the new
method, which then makes creating new instances of the class impossible?
<strong>Quite the contrary.</strong></p>
<p>As the name of this section implies, a singleton is a class that can
only be instantiated <strong>once</strong>, or in other words, a class
that can only have <strong>one</strong> object, single(ton).</p>
<p>In TypeScript 2.0 and onwards, we can create a static class member
method that I usually define as <code>getInstance</code>. Since
<code>getInstance</code> is a member of the class, it can access the
constructor. Meaning, it can execute the constructor, then save the
instance <strong>as a member of the same class</strong>. It is also
possible to improve this further, and only allow
<code>getInstance</code> to be executed only <strong>once</strong>, and
avoid multiple instances of this class.</p>
<p>If it already exists, we can always return the previously created
instance, here’s an example with a class named <code>OnlyOne</code>:</p>
<div class="sourceCode" id="cb40"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> OnlyOne {</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">static</span> instance<span class="op">:</span> OnlyOne<span class="op">;</span> <span class="co">// Member variable that will store the OnlyOne instance.</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="co">     * Read only property that can not be modified nor accessed outside of the class.</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="co">     */</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">constructor</span>(<span class="kw">public</span> <span class="kw">readonly</span> name<span class="op">:</span> <span class="dt">string</span>) {}</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="co">     * If get instance has not been initialized then it will construct a new OnlyOne class object,</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a><span class="co">     * then store it into the instance property. If it has already been created then it will simply</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a><span class="co">     * return the instance property.</span></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="co">     * This assures that there will only ever be one instance.</span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="co">     */</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="fu">getInstance</span>() {</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="op">!</span>OnlyOne<span class="op">.</span><span class="at">instance</span>) {</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>        OnlyOne<span class="op">.</span><span class="at">instance</span> <span class="op">=</span> <span class="kw">new</span> <span class="fu">OnlyOne</span>(<span class="st">&#39;The Only One&#39;</span>)<span class="op">;</span></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> OnlyOne<span class="op">.</span><span class="at">instance</span><span class="op">;</span></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>  <span class="co">// const wrongWay = new OnlyOne(&#39;The Only One&#39;) // Not Possible</span></span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> rightWay <span class="op">=</span> OnlyOne<span class="op">.</span><span class="fu">getInstance</span>()<span class="op">;</span></span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> anotherWay <span class="op">=</span> OnlyOne<span class="op">.</span><span class="fu">getInstance</span>()<span class="op">;</span> <span class="co">// Works too.</span></span></code></pre></div>
<p>In the above example, the variables <code>rightWay</code> and
<code>anotherWay</code> would be pointers (think <code>C++</code>) to
the same instance of <code>OnlyOne</code>. As you can see, to initiate
<code>OnlyOne</code> we have to call <code>getInstance</code> instead of
running the constructor from an outter scope of the <code>OnlyOne</code>
class.</p>
<p>Afterwards, it is possible to call any of the other public methods of
the class. You’d use this for things like managing global toast messages
inside an application, with a single class instance managing every
message. Another common use case is when front-end code
(e.g. React/Vue/Angular) speaks to a backend such as Amazon’s AWS or
Google’s Firebase platforms. In that case you’d use the AWS or Firebase
SDK inside the frontent to create a singleton class instance inside the
client device. That singleton class instance would provide the frontend
code with all kinds of utility methods, such as, for example, backend
specific methods to store data from the frontend into some backend
storage e.g. Firebase’s firestore database or Amazon’s S3 storage
bucket.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<hr />
<h2 id="modules">Modules</h2>
<blockquote>
<p>Modules are executed within their own scope, not in the global scope;
this means that variables, functions, classes, etc. declared in a module
are not visible outside the module unless they are explicitly exported
using one of the export forms. Conversely, to consume a variable,
function, class, interface, etc. exported from a different module, it
has to be imported using one of the import forms.</p>
</blockquote>
<p>The module code generation may be specified in the
<code>tsconfig.json</code> file. <strong>The compiler will generate
appropriate code for Node.js (CommonJS), requirejs (AMD), UMD, SystemJS,
or ECMAScript 2015 native modules (ES6) module-loading systems</strong>
depending on what the <code>tsconfig.json</code> <code>module</code>
option is set on. For example, the React.js <code>tsconfig.json</code>
file generated when using <code>create-react-app</code> module code
generation option is <code>esnext</code>, targeted to
<code>es5</code>.</p>
<blockquote>
<p>In TypeScript, any file containing a top-level import or export is
considered a module. Conversely, a file without any top-level import or
export declarations is treated as a script whose contents are available
in the global scope (and therefore to modules as well).</p>
</blockquote>
<ol type="1">
<li><a href="#export">Export</a></li>
<li><a href="#default-exports">Default Exports</a></li>
<li><a href="#import">Import</a></li>
<li><a href="#advanced-module-loading">Advanced Module Loading</a></li>
</ol>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="export">Export</h3>
<blockquote>
<p>Any declaration (such as a <code>variable</code>,
<code>function</code>, <code>class</code>, type alias, <code>enum</code>
or <code>interface</code>) can be exported by adding the export
keyword.</p>
</blockquote>
<p>Exporting a <code>variable</code> and a <code>function</code>:</p>
<div class="sourceCode" id="cb41"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>  <span class="im">export</span> <span class="kw">const</span> <span class="cn">PI</span> <span class="op">=</span> <span class="fl">3.14</span><span class="op">;</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="im">export</span> <span class="kw">const</span> calculateCircumference <span class="op">=</span> (diameter<span class="op">:</span> <span class="dt">number</span>) <span class="kw">=&gt;</span> {</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> diameter <span class="op">*</span> <span class="cn">PI</span><span class="op">;</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>Exporting an <code>interface</code> for a react.js <code>class</code>
component’s state:</p>
<pre class="tsx"><code>  export interface IAppState {
    counterValue: number;
  }

  class App extends React.Component&lt;{} /* IAppProps */, IAppState&gt; {
    public state = { counterValue: 0 }; // State is required to be public.
    // ...
  }</code></pre>
<p>Exporting an <code>interface</code> for a react.js
<code>functional</code> component <code>onClick</code> handlers:</p>
<pre class="tsx"><code>  export enum ECounterHandlers {
    Inc,
    Dec
  }
  interface ICounterOutputProps {
    counter: number;
    onClick: (mode: ECounterHandlers) =&gt; void;
  }
  const counterOutput = (props: ICounterOutputProps) =&gt; {
    return (
      /// ...
        &lt;button onClick={() =&gt; props.onClick(ECounterHandlers.Dec)}&gt;Decrement&lt;/button&gt;
        &lt;button onClick={() =&gt; props.onClick(ECounterHandlers.Inc)}&gt;Increment&lt;/button&gt;
      /// ...
    );
  }</code></pre>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="default-exports">Default Exports</h3>
<blockquote>
<p>Each module can optionally export a default export. Default exports
are marked with the keyword default; and there can only be one default
export per module. default exports are imported using a different import
form.</p>
</blockquote>
<p>The <code>default</code> exports are really handy. For instance, a
library like React.js might have a default export of <code>React</code>,
commonly imported under the name <code>React</code>. Each file may only
have <strong>one</strong> default export, for example:</p>
<div class="sourceCode" id="cb44"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> calculateRectangle <span class="op">=</span> (width<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> length<span class="op">:</span> <span class="dt">number</span>) <span class="kw">=&gt;</span> {</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> width <span class="op">*</span> length<span class="op">;</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="im">export</span> <span class="im">default</span> calculateRectangle</span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="import">Import</h3>
<blockquote>
<p>Importing is just about as easy as exporting from a module.</p>
</blockquote>
<p>Importing an exported declaration is done through using the
<code>import</code> keyword. For example, considering the
<code>PI</code>, <code>calculateCircumference</code>, and
<code>calculateRectangle</code> export examples shown above, this is how
we would import them into our <code>app.ts</code> file with the
following folder structure:</p>
<p><strong>Organization scheme:</strong></p>
<div class="sourceCode" id="cb45"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>TypeScript v<span class="op">^</span><span class="fl">3.0</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>├── app<span class="op">.</span><span class="at">ts</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>├── src</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>│   ├── circle<span class="op">.</span><span class="at">ts</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>│   ├── rectangle<span class="op">.</span><span class="at">ts</span></span></code></pre></div>
<div class="sourceCode" id="cb46"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> { <span class="cn">PI</span><span class="op">,</span> calculateCircumference } <span class="im">from</span> <span class="st">&#39;./src/circle&#39;</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> calculateRectangle <span class="im">from</span> <span class="st">&#39;./src/rectangle&#39;</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="cn">PI</span>)<span class="op">;</span> <span class="co">// Prints: 3.14</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">calculateCircumference</span>(<span class="dv">10</span>))<span class="op">;</span> <span class="co">// Prints: 31.42</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">calculateRectangle</span>(<span class="dv">5</span><span class="op">,</span> <span class="dv">10</span>))<span class="op">;</span> <span class="co">// Prints: 50</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="advanced-module-loading">Advanced Module Loading</h3>
<blockquote>
<p>In some cases, you may want to only load a module under some
conditions. In TypeScript, we can use the pattern shown below to
implement this and other advanced loading scenarios to directly invoke
the module loaders without losing type safety.</p>
</blockquote>
<p>Sometimes we might be in a situation where we only want to load
certain parts of our application dynamically. This may be to reduce the
initial load time or to improve performance.</p>
<p>This is commonly known as dynamic imports. The idea is to use the
following pattern: <code>import id = require('...')</code> which will
give us access to the types exposed by the module thanks to the
compiler. The module will be loaded dynamically, which means it can be
preceded by something like an <code>if</code> statement.</p>
<blockquote>
<p><strong>This leverages the reference-elision optimization so that the
module is only loaded when needed</strong>. For this pattern to work,
it’s important that the symbol defined via an import is only used in
type positions (i.e. never in a position that would be emitted into the
JavaScript). <strong>To maintain type safety, we can use the typeof
keyword. The typeof keyword, when used in a type position, produces the
type of a value, in this case the type of the module</strong>.</p>
</blockquote>
<p>We may use the <code>declare</code> keyword to literally declare a
function. For example, to declare a require function we would use the
following code:</p>
<div class="sourceCode" id="cb47"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">declare</span> <span class="kw">function</span> <span class="fu">require</span>(moduleName<span class="op">:</span> <span class="dt">string</span>)<span class="op">:</span> <span class="dt">any</span><span class="op">;</span></span></code></pre></div>
<p>While keeping that in mind, here are some examples as shown in the <a
href="https://www.typescriptlang.org/docs/handbook/modules.html">TypeScript
official documentation about modules</a>:</p>
<p><strong><em>Dynamic Module Loading in Node.js:</em></strong></p>
<div class="sourceCode" id="cb48"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">declare</span> <span class="kw">function</span> <span class="fu">require</span>(moduleName<span class="op">:</span> <span class="dt">string</span>)<span class="op">:</span> <span class="dt">any</span><span class="op">;</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> { ZipCodeValidator <span class="im">as</span> <span class="bu">Zip</span> } <span class="im">from</span> <span class="st">&quot;./ZipCodeValidator&quot;</span><span class="op">;</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (needZipValidation) {</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> ZipCodeValidator<span class="op">:</span> <span class="kw">typeof</span> <span class="bu">Zip</span> <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;./ZipCodeValidator&quot;</span>)<span class="op">;</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> validator <span class="op">=</span> <span class="kw">new</span> <span class="fu">ZipCodeValidator</span>()<span class="op">;</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (validator<span class="op">.</span><span class="fu">isAcceptable</span>(<span class="st">&quot;...&quot;</span>)) { <span class="co">/* ... */</span> }</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p><strong><em>Sample: Dynamic Module Loading in requirejs, pay
attention to the <code>onLoad</code> argument:</em></strong></p>
<div class="sourceCode" id="cb49"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">declare</span> <span class="kw">function</span> <span class="fu">require</span>(moduleNames<span class="op">:</span> <span class="dt">string</span>[]<span class="op">,</span> onLoad<span class="op">:</span> (<span class="op">...</span>args<span class="op">:</span> <span class="dt">any</span>[]) <span class="kw">=&gt;</span> <span class="dt">void</span>)<span class="op">:</span> <span class="dt">void</span><span class="op">;</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> <span class="op">*</span> <span class="im">as</span> <span class="bu">Zip</span> <span class="im">from</span> <span class="st">&quot;./ZipCodeValidator&quot;</span><span class="op">;</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (needZipValidation) {</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="pp">require</span>([<span class="st">&quot;./ZipCodeValidator&quot;</span>]<span class="op">,</span> (ZipCodeValidator<span class="op">:</span> <span class="kw">typeof</span> <span class="bu">Zip</span>) <span class="kw">=&gt;</span> {</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>      <span class="kw">let</span> validator <span class="op">=</span> <span class="kw">new</span> ZipCodeValidator<span class="op">.</span><span class="fu">ZipCodeValidator</span>()<span class="op">;</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (validator<span class="op">.</span><span class="fu">isAcceptable</span>(<span class="st">&quot;...&quot;</span>)) { <span class="co">/* ... */</span> }</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p><strong><em>Sample: Dynamic Module Loading in System.js. Using the
imported <code>System</code> object from the library:</em></strong></p>
<div class="sourceCode" id="cb50"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">declare</span> <span class="kw">const</span> System<span class="op">:</span> <span class="dt">any</span><span class="op">;</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> { ZipCodeValidator <span class="im">as</span> <span class="bu">Zip</span> } <span class="im">from</span> <span class="st">&quot;./ZipCodeValidator&quot;</span><span class="op">;</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (needZipValidation) {</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>      System<span class="op">.</span><span class="fu">import</span>(<span class="st">&quot;./ZipCodeValidator&quot;</span>)<span class="op">.</span><span class="fu">then</span>((ZipCodeValidator<span class="op">:</span> <span class="kw">typeof</span> <span class="bu">Zip</span>) <span class="kw">=&gt;</span> {</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>          <span class="kw">var</span> x <span class="op">=</span> <span class="kw">new</span> <span class="fu">ZipCodeValidator</span>()<span class="op">;</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> (x<span class="op">.</span><span class="fu">isAcceptable</span>(<span class="st">&quot;...&quot;</span>)) { <span class="co">/* ... */</span> }</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>      })<span class="op">;</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>To descripe the types of libraries not written within TypeScript,
basically third party libraries like <code>jQuery</code>, we need to
declare the API that the library exposes (e.g. We would declare the
<code>$</code> symbol for <code>jQuery</code>, to be able to access its
functionalities).</p>
<blockquote>
<p>We call declarations that don’t define an implementation “ambient”.
<strong><em>Typically, these are defined in <code>.d.ts</code> files. If
you’re familiar with C/C++, you can think of these as <code>.h</code>
files</em></strong>. More on this below.</p>
</blockquote>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<hr />
<h2 id="namespaces">Namespaces</h2>
<p>In TypeScript, a <code>namespace</code> is an
<strong>internal</strong> module, while a <code>module</code> is an
<strong>external</strong> module. Like modules, using namespaces is a
way to organize the code inside an application.</p>
<blockquote>
<p>Anywhere the module keyword was used when declaring an internal
module, the namespace keyword can and should be used instead. This
avoids confusing new users by overloading them with similarly named
terms.</p>
</blockquote>
<p>To ‘code split’ the program, we must divide our code into different
namespaces while keeping a certain organization scheme so that we can
keep track of our types and not worry about name collisions with other
objects. <strong>Remember that the <code>export</code> keyword must
still be used to let the compiler know which code can be imported into a
different file</strong>.</p>
<p>To <code>import</code> a namespace, we must make use of the
TypeScript native reference tag, like so:</p>
<div class="sourceCode" id="cb51"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">/// </span><span class="kw">&lt;reference</span><span class="ot"> path=</span><span class="dt">&quot;./src/myNamespace.ts&quot;</span><span class="ot"> </span><span class="kw">/&gt;</span></span></code></pre></div>
<p>The triple forward dash <code>///</code> notation, <strong>must to be
included in order to help the compiler understand (think of Webpack’s
v^4.0 magic comments)</strong>. The reference tags don’t exist in
JavaScript and will be compiled to ES5 JavaScript that can run in
browsers.</p>
<p>In the following example we have 2 namespaces named
<code>Circle</code> and <code>Rectangle</code> respectively, while at
the same time both of the former being inside the same
<code>MyMath</code> namespace. <strong>This is to show that in
TypeScript the variable names of the namespaces are global and
unique</strong>.</p>
<p><strong>Organization scheme:</strong></p>
<div class="sourceCode" id="cb52"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>TypeScript v<span class="op">^</span><span class="fl">3.0</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>├── app<span class="op">.</span><span class="at">ts</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>├── src</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>│   ├── circleMath<span class="op">.</span><span class="at">ts</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>│   ├── rectangleMath<span class="op">.</span><span class="at">ts</span></span></code></pre></div>
<div class="sourceCode" id="cb53"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">/// </span><span class="kw">&lt;reference</span><span class="ot"> path=</span><span class="dt">&quot;./src/circleMath.ts&quot;</span><span class="ot"> </span><span class="kw">/&gt;</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">/// </span><span class="kw">&lt;reference</span><span class="ot"> path=</span><span class="dt">&quot;./src/rectangleMath.ts&quot;</span><span class="ot"> </span><span class="kw">/&gt;</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> Circle <span class="op">=</span> MyMath<span class="op">.</span><span class="at">Circle</span><span class="op">;</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> calculateRectangle <span class="op">=</span> MyMath<span class="op">.</span><span class="at">Rectangle</span><span class="op">.</span><span class="at">calculateRectangle</span><span class="op">;</span></span></code></pre></div>
<p><strong>Note that to import a file using the <code>namespace</code>
keyword we must use the triple forward dash <code>///</code> notation,
as if it was a comment (think of Webpack’s v^4.0 magic comments), and
then use the <code>import</code> keyword to “extract” the data from the
files</strong>.</p>
<p><code>circleMath.ts</code></p>
<div class="sourceCode" id="cb54"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>  <span class="im">namespace</span> <span class="dt">MyMath</span> {</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>    <span class="im">export</span> <span class="im">namespace</span> <span class="dt">Circle</span> {</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>      <span class="im">export</span> <span class="kw">const</span> <span class="cn">PI</span> <span class="op">=</span> <span class="fl">3.14</span><span class="op">;</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>      <span class="im">export</span> <span class="kw">const</span> calculateCircumference <span class="op">=</span> (diameter<span class="op">:</span> <span class="dt">number</span>) <span class="kw">=&gt;</span> {</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> diameter <span class="op">*</span> <span class="cn">PI</span><span class="op">;</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p><code>rectangleMath.ts</code></p>
<div class="sourceCode" id="cb55"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>  <span class="im">namespace</span> <span class="dt">MyMath</span> {</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    <span class="im">export</span> <span class="im">namespace</span> <span class="dt">Rectangle</span> {</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>      <span class="im">export</span> <span class="kw">const</span> calculateRectangle <span class="op">=</span> (width<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> length<span class="op">:</span> <span class="dt">number</span>) <span class="kw">=&gt;</span> {</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> width <span class="op">*</span> length<span class="op">;</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>In this example, we’ve code splitted all our worker math-related
functions into a namespace called <code>MyMath</code>.
<code>MyMath</code> has also been code splitted into two different
namespaces called <code>Circle</code> and <code>Rectangle</code>, which
belong to the <code>circleMath.ts</code> and
<code>rectangleMath.ts</code> files respectively.</p>
<p>Running the following code in <code>app.ts</code> will result in:</p>
<div class="sourceCode" id="cb56"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">/// </span><span class="kw">&lt;reference</span><span class="ot"> path=</span><span class="dt">&quot;./src/circleMath.ts&quot;</span><span class="ot"> </span><span class="kw">/&gt;</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">/// </span><span class="kw">&lt;reference</span><span class="ot"> path=</span><span class="dt">&quot;./src/rectangleMath.ts&quot;</span><span class="ot"> </span><span class="kw">/&gt;</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> Circle <span class="op">=</span> MyMath<span class="op">.</span><span class="at">Circle</span><span class="op">;</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> calculateRectangle <span class="op">=</span> MyMath<span class="op">.</span><span class="at">Rectangle</span><span class="op">.</span><span class="at">calculateRectangle</span><span class="op">;</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(Circle<span class="op">.</span><span class="at">PI</span>)<span class="op">;</span> <span class="co">// Prints: 3.14</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(Circle<span class="op">.</span><span class="fu">calculateCircumference</span>(<span class="dv">10</span>))<span class="op">;</span> <span class="co">// Prints 31.42</span></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">calculateRectangle</span>(<span class="dv">25</span><span class="op">,</span> <span class="dv">25</span>))<span class="op">;</span> <span class="co">// Prints: 625</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<hr />
<h2 id="ambient-modules">Ambient Modules</h2>
<blockquote>
<p>In Node.js, most tasks are accomplished by loading one or more
modules. We could define each module in its own .d.ts file with
top-level export declarations, but it’s more convenient to write them as
one larger .d.ts file. To do so, we use a construct similar to ambient
namespaces, but we use the module keyword and the quoted name of the
module which will be available to a later import.</p>
</blockquote>
<p>Here is an example as shown in the <a
href="https://www.typescriptlang.org/docs/handbook/modules.html">TypeScript
official documentation about modules</a>:</p>
<p><strong><em>node.d.ts (simplified excerpt)</em></strong></p>
<div class="sourceCode" id="cb57"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">declare</span> <span class="im">module</span> <span class="st">&quot;url&quot;</span> {</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>    <span class="im">export</span> <span class="kw">interface</span> Url {</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>      protocol<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>      hostname<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>      pathname<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>    <span class="im">export</span> <span class="kw">function</span> <span class="fu">parse</span>(urlStr<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> parseQueryString<span class="op">?,</span> slashesDenoteHost<span class="op">?</span>)<span class="op">:</span> Url<span class="op">;</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">declare</span> <span class="im">module</span> <span class="st">&quot;path&quot;</span> {</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>    <span class="im">export</span> <span class="kw">function</span> <span class="fu">normalize</span>(p<span class="op">:</span> <span class="dt">string</span>)<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>    <span class="im">export</span> <span class="kw">function</span> <span class="fu">join</span>(<span class="op">...</span>paths<span class="op">:</span> <span class="dt">any</span>[])<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>    <span class="im">export</span> <span class="kw">var</span> sep<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>Afterwards we are able to <code>/// &lt;reference&gt;</code> the
node.d.ts as shown in the <code>namespace</code> section, and then load
the modules using <code>import url = require("url");</code> or
<code>import * as URL from "url"</code> using ES6.</p>
<div class="sourceCode" id="cb58"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">/// </span><span class="kw">&lt;reference</span><span class="ot"> path=</span><span class="dt">&quot;node.d.ts&quot;</span><span class="kw">/&gt;</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> <span class="op">*</span> <span class="im">as</span> URL <span class="im">from</span> <span class="st">&quot;url&quot;</span><span class="op">;</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> myUrl <span class="op">=</span> URL<span class="op">.</span><span class="fu">parse</span>(<span class="st">&quot;http://www.typescriptlang.org&quot;</span>)<span class="op">;</span></span></code></pre></div>
<p>Sounds a bit complicated but it’s actually really easy to import a
third library.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p>Here the simplest two alternatives:</p>
<h3 id="manually-declaring-a-third-party-library">Manually declaring a
third party library</h3>
<p>We will create a <code>d.ts</code> file that will put the jQuery
<code>$</code> variable in the global scope of the application. This
alternative is viable for any third party library, but it is not the
most practical.</p>
<p>Here is how we could import jQuery into a simple application using
<code>requirejs</code>, consider the following organization scheme:</p>
<p><strong>Organization scheme:</strong></p>
<div class="sourceCode" id="cb59"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>TypeScript v<span class="op">^</span><span class="fl">3.0</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>├── <span class="im">package</span><span class="op">.</span><span class="at">json</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>├── jquery<span class="op">.</span><span class="at">d</span><span class="op">.</span><span class="at">ts</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>├── app<span class="op">.</span><span class="at">ts</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>├── index<span class="op">.</span><span class="at">html</span></span></code></pre></div>
<p><strong><em>package.json</em></strong></p>
<div class="sourceCode" id="cb60"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>  <span class="er">&quot;dependencies&quot;:</span> <span class="fu">{</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;requirejs&quot;</span><span class="fu">:</span> <span class="st">&quot;^2.3.6&quot;</span><span class="fu">,</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span></code></pre></div>
<p><strong><em>jquery.d.ts</em></strong></p>
<div class="sourceCode" id="cb61"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">declare</span> <span class="kw">var</span> $<span class="op">:</span> <span class="dt">any</span><span class="op">;</span></span></code></pre></div>
<p>With jQuery declared in a <code>.d.ts</code> file, it will now be
available inside the global scope thanks to the compiler.</p>
<p><strong><em>app.ts:</em></strong></p>
<div class="sourceCode" id="cb62"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">$</span>(<span class="st">&#39;button&#39;</span>)<span class="op">.</span><span class="fu">click</span>(<span class="kw">function</span>() {</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">alert</span>(<span class="st">&#39;Button was clicked!&#39;</span>)<span class="op">;</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span></code></pre></div>
<p><strong><em>index.html using requirejs to import the
modules:</em></strong></p>
<div class="sourceCode" id="cb63"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- ...  --&gt;</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;button&gt;</span>Click me to trigger an alert with jQuery<span class="kw">&lt;/button&gt;</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;script</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="ot">    src=</span><span class="st">&quot;https://code.jquery.com/jquery-3.3.1.min.js&quot;</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="ot">    integrity=</span><span class="st">&quot;sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=&quot;</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a><span class="ot">    crossorigin=</span><span class="st">&quot;anonymous&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;script</span> <span class="er">data-main</span><span class="ot">=</span><span class="st">&quot;app.js&quot;</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;node_modules/requirejs/requirejs&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- ...  --&gt;</span></span></code></pre></div>
<p>However, one disadvantage of this alternative is that the IDE will
not have access to the jQuery <code>$</code> variable object, making it
a little difficult to write code. This disadvantage is fortunately
overcome using the second alternative.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="types-npm-packages"></a></p>
<h3 id="using-typesthird-party-library-npm-packages">Using <span
class="citation" data-cites="types">@types</span>/[third-party-library]
NPM packages</h3>
<p>The problem with the first alternative, is that by declaring jQuery’s
<code>$</code> as type <code>any</code>
(<code>declare var $: any;</code>), we are basically telling the
compiler to <em>assume</em> that it will have access to jQuery in
runtime. But that’s not practical.</p>
<p>To avoid this we can use <code>@types</code> packages. These packages
basically contain type definitions for their respective JS libraries
counterparts. For example, using <a
href="https://www.npmjs.com/package/@types/jquery"><span
class="citation" data-cites="types/jquery">@types/jquery</span></a> or
<a
href="https://www.npmjs.com/package/@types/react"><code>@types/react</code></a>
will enable the programmer to use their respective types all over the
application without having to declare them. This is because both of
these libraries have <code>.d.ts</code> files includes and the compiler
will pick them up inside the <code>node_modules</code> library.</p>
<p>Here’s an example using <a
href="https://www.npmjs.com/package/@types/jquery"><code>@types/jquery</code></a>
and <code>requirejs</code>:</p>
<p><strong>Organization scheme:</strong></p>
<div class="sourceCode" id="cb64"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>TypeScript v<span class="op">^</span><span class="fl">3.0</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>├── <span class="im">package</span><span class="op">.</span><span class="at">json</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>├── app<span class="op">.</span><span class="at">ts</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>├── index<span class="op">.</span><span class="at">html</span></span></code></pre></div>
<p><strong><em>package.json</em></strong></p>
<div class="sourceCode" id="cb65"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>  <span class="er">&quot;devDependencies&quot;:</span> <span class="fu">{</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;@types/jquery&quot;</span><span class="fu">:</span> <span class="st">&quot;^3.3.29&quot;</span><span class="fu">,</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span><span class="er">,</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="er">&quot;dependencies&quot;:</span> <span class="fu">{</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;requirejs&quot;</span><span class="fu">:</span> <span class="st">&quot;^2.3.6&quot;</span><span class="fu">,</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span></code></pre></div>
<p><strong><em>app.ts:</em></strong></p>
<div class="sourceCode" id="cb66"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">$</span>(<span class="st">&#39;button&#39;</span>)<span class="op">.</span><span class="fu">click</span>(<span class="kw">function</span>() {</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">alert</span>(<span class="st">&#39;Button was clicked!&#39;</span>)<span class="op">;</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span></code></pre></div>
<p><strong><em>index.html using requirejs to import the
modules:</em></strong></p>
<div class="sourceCode" id="cb67"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- ...  --&gt;</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;button&gt;</span>Click me to trigger an alert with jQuery<span class="kw">&lt;/button&gt;</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;script</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="ot">    src=</span><span class="st">&quot;https://code.jquery.com/jquery-3.3.1.min.js&quot;</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="ot">    integrity=</span><span class="st">&quot;sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=&quot;</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="ot">    crossorigin=</span><span class="st">&quot;anonymous&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;script</span> <span class="er">data-main</span><span class="ot">=</span><span class="st">&quot;app.js&quot;</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;node_modules/requirejs/requirejs&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">&lt;!-- ...  --&gt;</span></span></code></pre></div>
<p>Notice the difference? We don’t need to have the declare
<code>.d.ts</code> file anymore, because the compiler will pick up on
the <code>.d.ts</code> files inside the <code>@types/jquery</code>
library.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="shorthand-for-ambient-modules">Shorthand for Ambient
Modules</h3>
<blockquote>
<p>If you don’t want to take the time to write out declarations before
using a new module, you can use a shorthand declaration to get started
quickly.</p>
</blockquote>
<p><strong><em>declarations.d.ts</em></strong></p>
<div class="sourceCode" id="cb68"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">declare</span> <span class="im">module</span> <span class="st">&quot;hot-new-module&quot;</span><span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="wildcard-module-declarations">Wildcard module declarations</h3>
<blockquote>
<p>Some module loaders such as SystemJS and AMD allow non-JavaScript
content to be imported. These typically use a prefix or suffix to
indicate the special loading semantics. Wildcard module declarations can
be used to cover these cases.</p>
</blockquote>
<div class="sourceCode" id="cb69"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">declare</span> <span class="im">module</span> <span class="st">&quot;*!text&quot;</span> {</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> content<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>      <span class="im">export</span> <span class="im">default</span> content<span class="op">;</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Some do it the other way around.</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">declare</span> <span class="im">module</span> <span class="st">&quot;json!*&quot;</span> {</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> value<span class="op">:</span> <span class="dt">any</span><span class="op">;</span></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>      <span class="im">export</span> <span class="im">default</span> value<span class="op">;</span></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="umd-modules">UMD modules</h3>
<blockquote>
<p>Some libraries are designed to be used in many module loaders, or
with no module loading (global variables). These are known as UMD
modules. These libraries can be accessed through either an import or a
global variable. For example:</p>
</blockquote>
<p><strong><em>math-lib.d.ts</em></strong></p>
<div class="sourceCode" id="cb70"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>  <span class="im">export</span> <span class="kw">function</span> <span class="fu">isPrime</span>(x<span class="op">:</span> <span class="dt">number</span>)<span class="op">:</span> <span class="dt">boolean</span><span class="op">;</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="im">export</span> <span class="im">as</span> <span class="im">namespace</span> <span class="dt">mathLib</span><span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<hr />
<h2 id="interfaces">Interfaces</h2>
<blockquote>
<p>One of TypeScript’s core principles is that type-checking focuses on
the shape that values have. This is sometimes called “duck typing” or
“structural subtyping”. In TypeScript, interfaces fill the role of
naming these types, and are a powerful way of defining contracts within
your code as well as contracts with code outside of your project.</p>
</blockquote>
<p>We can think of <strong>interfaces</strong> as a way to assign types
to the structure of a variable. This variable may be an
<code>argument</code>, a <code>class</code>, an <code>object</code>, you
name it, think of it as making a <strong>contract</strong> with the
<code>interface</code>. Here’s how we can define a very simple
<code>interface</code> and use it on a <code>variable</code> and on a
<code>function</code>:</p>
<div class="sourceCode" id="cb71"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">interface</span> SimplePerson {</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>    firstName<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> simplePerson<span class="op">:</span> SimplePerson <span class="op">=</span> { firstName<span class="op">:</span> <span class="st">&#39;Robert&#39;</span> }<span class="op">;</span></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> simpleGreet <span class="op">=</span> (simplePerson<span class="op">:</span> SimplePerson) <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Hello </span><span class="sc">${</span>simplePerson<span class="sc">}</span><span class="vs">!`</span>)<span class="op">;</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">simpleGreet</span>(simplePerson)<span class="op">;</span> <span class="co">// Prints: &quot;Hello Robert!&quot;</span></span></code></pre></div>
<p>You might think this would make interfaces not scallable because of
very restrictive properties, but fortunately <strong>properties can be
optional</strong>. More on this below!</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="optional-properties">Optional Properties</h3>
<p><a href="#optional-object-properties">Very similar to the optional
object properties</a>, to define an interface property as optional, we
must place a <code>?</code> character after the key name of the property
when defining it (a postfix notation). Here’s an example:</p>
<div class="sourceCode" id="cb72"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">interface</span> SimplePerson {</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>    firstName<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>    lastName<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>    age<span class="op">?:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Not possible because the firstName key-value pair is missing.</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">// const wrong: SimplePerson = { lastName: &#39;Molina&#39;, age: 24 };</span></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> right<span class="op">:</span> SimplePerson <span class="op">=</span> { firstName<span class="op">:</span> <span class="st">&#39;Robert&#39;</span><span class="op">,</span> age<span class="op">:</span> <span class="dv">24</span> }<span class="op">;</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="index-signatures"></a></p>
<h3 id="index-signatures-dynamic-property-names">Index Signatures
(Dynamic Property Names)</h3>
<p>We may also define the interface with <em>index signatures</em>,
think of them like dynamic key-value pairs. Here’s an example:</p>
<div class="sourceCode" id="cb73"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">interface</span> NamedPerson {</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>    firstName<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>    age<span class="op">?:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>    [propName<span class="op">:</span> <span class="dt">string</span>]<span class="op">:</span> <span class="dt">any</span><span class="op">;</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> person<span class="op">:</span> NamedPerson <span class="op">=</span> {</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>    firstName<span class="op">:</span> <span class="st">&#39;Robert&#39;</span><span class="op">,</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>    lastName<span class="op">:</span> <span class="st">&#39;Molina&#39;</span><span class="op">,</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>    age<span class="op">:</span> <span class="dv">24</span><span class="op">,</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>    hobbies<span class="op">:</span> [<span class="st">&#39;Programming&#39;</span><span class="op">,</span> <span class="st">&#39;Cooking&#39;</span>]<span class="op">,</span></span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">greet</span>(lastName<span class="op">:</span> <span class="dt">string</span>) {</span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>      <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Hi, I am </span><span class="sc">${</span><span class="kw">this</span><span class="op">.</span><span class="at">firstName</span><span class="sc">}</span><span class="vs"> </span><span class="sc">${</span>lastName<span class="sc">}</span><span class="vs">!`</span>)<span class="op">;</span></span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>Notice how we can add very different properties now? This is a way of
telling the compiler the following when declaring and defining
<code>person</code>:</p>
<ol type="1">
<li><code>person</code> <strong>must</strong> have a
<em><code>firstName</code></em> property of type
<code>string</code>.</li>
<li><code>person</code> <strong>may</strong> have an
<em><code>age</code></em> property. It <strong>must</strong> be of type
<code>number</code> if it exists, anything else will result in an error
when compiling.</li>
<li><code>person</code> <strong>may</strong> then have any number of
properties of type <code>string</code>, each with a value of type
<code>any</code>, all made possible by the <strong>index
signature</strong> of: <code>[propName: string]: any;</code>.</li>
</ol>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="implements-keyword">Implements Keyword</h3>
<blockquote>
<p>One of the most common uses of interfaces in languages like
<code>C#</code> and <code>Java</code>, that of explicitly enforcing that
a class meets a particular contract, is also possible in TypeScript.</p>
</blockquote>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p>Here are two more advanced examples, we can use an
<code>interface</code> to define the subtypes of a <code>class</code>,
or a <code>function</code>:</p>
<p><a id="implementing-interface-to-class"></a></p>
<h4 id="implementing-an-interface-to-a-class"><em>1.</em> Implementing
an <code>interface</code> to a <code>Class</code></h4>
<div class="sourceCode" id="cb74"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">interface</span> NamedPerson {</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>    firstName<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>    age<span class="op">?:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>    [propName<span class="op">:</span> <span class="dt">string</span>]<span class="op">:</span> <span class="dt">any</span><span class="op">;</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">greet</span>(lastName<span class="op">:</span> <span class="dt">string</span>)<span class="op">:</span> <span class="dt">void</span><span class="op">;</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> Person <span class="kw">implements</span> NamedPerson {</span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">constructor</span>(<span class="kw">public</span> firstName<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> <span class="kw">public</span> lastName<span class="op">:</span> <span class="dt">string</span>) {}</span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">greet</span>(lastName<span class="op">:</span> <span class="dt">string</span>) {</span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>      <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Hi, I am </span><span class="sc">${</span><span class="kw">this</span><span class="op">.</span><span class="at">firstName</span><span class="sc">}</span><span class="vs"> </span><span class="sc">${</span>lastName<span class="sc">}</span><span class="vs">!`</span>)<span class="op">;</span></span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> myPerson <span class="op">=</span> <span class="kw">new</span> <span class="fu">Person</span>(<span class="st">&#39;Robert&#39;</span><span class="op">,</span> <span class="st">&#39;Molina&#39;</span>)<span class="op">;</span></span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">greet</span>(myPerson)<span class="op">;</span> <span class="co">// Prints: &quot;Hi, I am Robert Moina&quot;</span></span></code></pre></div>
<blockquote>
<p>Interfaces describe the <strong><code>public</code> side of the
class</strong>, rather than both the <code>public</code> and
<code>private</code> side. This prohibits you from using them to check
that a class also has particular types for the private side of the class
instance.</p>
</blockquote>
<p><strong>Note that classes may be extended to another
<code>class</code> and tied to an <code>interface</code> by using the
<code>implements</code> keyword</strong>.</p>
<p>Here is an example as shown in the <a
href="https://www.typescriptlang.org/docs/handbook/interfaces.html">TypeScript
official documentation about interfaces</a>:</p>
<div class="sourceCode" id="cb75"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> Control {</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>      <span class="kw">private</span> state<span class="op">:</span> <span class="dt">any</span><span class="op">;</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">interface</span> SelectableControl <span class="kw">extends</span> Control {</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>()<span class="op">:</span> <span class="dt">void</span><span class="op">;</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> Button <span class="kw">extends</span> Control <span class="kw">implements</span> SelectableControl {</span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>() { }</span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="implementing-interface-to-function"></a></p>
<h4 id="implementing-an-interface-to-a-function"><em>2.</em>
Implementing an <code>interface</code> to a <code>function</code></h4>
<blockquote>
<p>As we mentioned earlier, interfaces can describe the rich types
present in real world JavaScript. Because of JavaScript’s dynamic and
flexible nature, you may occasionally encounter an object that works as
a combination of some of the types described above.</p>
</blockquote>
<p>One such example is an object that acts as both a function and an
object, with additional properties:</p>
<div class="sourceCode" id="cb76"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">interface</span> DoubleValueFunc {</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>    (number1<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> number2<span class="op">:</span> <span class="dt">number</span>)<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> myDoubleFunction<span class="op">:</span> DoubleValueFunc<span class="op">;</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  myDoubleFunction <span class="op">=</span> (num1<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> num2<span class="op">:</span> <span class="dt">number</span>) <span class="kw">=&gt;</span> {</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (num1 <span class="op">+</span> num2) <span class="op">*</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">myDoubleFunction</span>(<span class="dv">10</span><span class="op">,</span><span class="dv">50</span>))<span class="op">;</span> <span class="co">// Prints: 120</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="extends-keyword-interface-inheritance">Extends Keyword
(Interface Inheritance)</h3>
<p>Similar to how a <code>class</code> can extend its properties by
inheriting another <code>class</code> or <code>abstract class</code>
properties, <strong>interfaces may also inherit properties to extend its
own properties</strong>. Here’s a simple example similar to the one as
shown in the <a
href="https://www.typescriptlang.org/docs/handbook/interfaces.html">TypeScript
official documentation about extending interfaces</a>:</p>
<div class="sourceCode" id="cb77"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">interface</span> Shape {</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>    color<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">interface</span> Square <span class="kw">extends</span> Shape {</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>    sideLength<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> square<span class="op">:</span> Square <span class="op">=</span> {</span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a>    color<span class="op">:</span> <span class="st">&quot;blue&quot;</span><span class="op">,</span></span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a>    sideLength<span class="op">:</span> <span class="dv">10</span></span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span></code></pre></div>
<p>By extending an interface, we are essentially mixing the “old”
interface into a new interface, with newly added properties. To quote
the official documentation:</p>
<blockquote>
<p>This allows us to copy the members of one interface into another,
which gives you more flexibility in how you separate your interfaces
into reusable components.</p>
</blockquote>
<p>It is also possible to combine any number of interfaces into one,
this a concept known as <strong>composition</strong> in programming, and
it is possible to <em>compose</em> multiple interfaces into one, we will
use this to serve as an example of <em>composition</em> <strong>by
extending multiple interfaces into a single interface</strong>. Here’s
another example similar to the one as shown in the <a
href="https://www.typescriptlang.org/docs/handbook/interfaces.html">TypeScript
official documentation about extending interfaces</a>:</p>
<div class="sourceCode" id="cb78"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">interface</span> Shape {</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>    color<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">interface</span> PenStroke {</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>    penWidth<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">interface</span> Square <span class="kw">extends</span> Shape<span class="op">,</span> PenStroke {</span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a>    sideLength<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> square<span class="op">:</span> Square <span class="op">=</span> {</span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a>    color<span class="op">:</span> <span class="st">&quot;magenta&quot;</span><span class="op">,</span></span>
<span id="cb78-15"><a href="#cb78-15" aria-hidden="true" tabindex="-1"></a>    penWidth<span class="op">:</span> <span class="fl">2.5</span><span class="op">,</span></span>
<span id="cb78-16"><a href="#cb78-16" aria-hidden="true" tabindex="-1"></a>    sideLength<span class="op">:</span> <span class="fl">0.5</span></span>
<span id="cb78-17"><a href="#cb78-17" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>Notice, how both <code>Shape</code> and <code>PenStroke</code> were
mixed to create <code>Square</code> while also declaring an additional
property named <code>sideLength</code>. Bear in mind that
<strong>all</strong> of the extended interfaces must be
<strong>structurally compatible</strong> or else the compiler will throw
an error. As a final note, we can also omit (by either picking or
excluding) properties, more on this directly below.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="omit-type-interfaces"></a></p>
<h2 id="omit-type-when-extending-an-interface"><code>Omit</code> type
when extending an interface</h2>
<p>Sometimes, we might want to omit certain types from an extended
interface. One of the most common reasons is to
<strong>overwrite</strong> a property. Let’s first define the
<code>Omit</code> special type that we will be using to exclude
properties, and then we’ll do a scenario exercise:</p>
<div class="sourceCode" id="cb79"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> <span class="bu">Omit</span><span class="op">&lt;</span>T<span class="op">,</span> K <span class="kw">extends</span> <span class="kw">keyof</span> T<span class="op">&gt;</span> <span class="op">=</span> <span class="bu">Pick</span><span class="op">&lt;</span>T<span class="op">,</span> <span class="bu">Exclude</span><span class="op">&lt;</span><span class="kw">keyof</span> T<span class="op">,</span> K<span class="op">&gt;&gt;</span></span></code></pre></div>
<p>The angle brackets and the content inside them are part of what is
known as <code>Generics</code>. They are a way to declare, basically,
generic typing similarly to how an array of strings may be declared as
<code>string[]</code>. More information about Generics on its section
down below after the Interfaces!</p>
<p>Here’s a breakdown of how the <code>Omit</code> type works. It’s
essentially doing the opposite of what the special <code>Pick</code>
utility type does. In TypeScript 2.1, the <code>Pick</code>
<strong>utility</strong> type was introduced, <code>Pick</code> allows
us to <strong>only pick certain properties of an object, to create a new
object</strong>, here’s an example as shown in the <a
href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html">TypeScript
official documentation</a>:</p>
<div class="sourceCode" id="cb80"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co">// From T pick a set of properties K</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="kw">declare</span> <span class="kw">function</span> <span class="fu">pick</span><span class="op">&lt;</span>T<span class="op">,</span> K <span class="kw">extends</span> <span class="kw">keyof</span> T<span class="op">&gt;</span>(obj<span class="op">:</span> T<span class="op">,</span> <span class="op">...</span>keys<span class="op">:</span> K[])<span class="op">:</span> <span class="bu">Pick</span><span class="op">&lt;</span>T<span class="op">,</span> K<span class="op">&gt;;</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> nameAndAgeOnly <span class="op">=</span> <span class="fu">pick</span>(person<span class="op">,</span> <span class="st">&quot;name&quot;</span><span class="op">,</span> <span class="st">&quot;age&quot;</span>)<span class="op">;</span>  <span class="co">// { name: string, age: number }</span></span></code></pre></div>
<p>In TypeScript 2.8, the <code>Exclude</code> type was added to the
standard library, which allows an omission type to be written as shown
directly below:</p>
<div class="sourceCode" id="cb81"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> T00 <span class="op">=</span> <span class="bu">Exclude</span><span class="op">&lt;</span><span class="st">&quot;a&quot;</span> <span class="op">|</span> <span class="st">&quot;b&quot;</span> <span class="op">|</span> <span class="st">&quot;c&quot;</span> <span class="op">|</span> <span class="st">&quot;d&quot;</span><span class="op">,</span> <span class="st">&quot;a&quot;</span> <span class="op">|</span> <span class="st">&quot;c&quot;</span> <span class="op">|</span> <span class="st">&quot;f&quot;</span><span class="op">&gt;;</span>  <span class="co">// &quot;b&quot; | &quot;d&quot;</span></span></code></pre></div>
<p>You can read the above as “exclude <code>"a"</code>,
<code>"c"</code>, and <code>"f"</code> from
<code>("a" | "b" | "c" | "d")</code>, which results in <code>"b"</code>
or <code>"d"</code>.</p>
<p>Having said this, <strong><code>Omit</code> picks every property of
an object <code>T</code>, excluding the specified <code>K</code>
properties (or keys) of <code>T</code></strong>.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="exclude-interface-properties"></a></p>
<h2
id="omitting-specific-properties-when-extending-an-interface">Omitting
specific properties when extending an interface</h2>
<p>Let’s say we are creating a React component that is based on a common
HTML <code>&lt;input&gt;</code> element. We want our component to
receive all of the HTML attributes as props that a regular
<code>&lt;input&gt;</code> element may receive, but we want to overwrite
some to improve or enhance functionalities! So, for this example let’s
say that we want to overwrite the <code>onChange</code> attribute.</p>
<p>To overwrite the <code>onChange</code> attribute, we must omit it
from the extended base interface, then declare it on the props
interface. Our new <code>onChange</code> callback will return a variable
of type <code>value</code> defined below, instead of an event. Here’s an
example:</p>
<div class="sourceCode" id="cb82"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> <span class="bu">Omit</span><span class="op">&lt;</span>T<span class="op">,</span> K <span class="kw">extends</span> <span class="kw">keyof</span> T<span class="op">&gt;</span> <span class="op">=</span> <span class="bu">Pick</span><span class="op">&lt;</span>T<span class="op">,</span> <span class="bu">Exclude</span><span class="op">&lt;</span><span class="kw">keyof</span> T<span class="op">,</span> K<span class="op">&gt;&gt;;</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> value <span class="op">=</span> <span class="dt">string</span> <span class="op">|</span> <span class="dt">number</span> <span class="op">|</span> <span class="dt">string</span>[]<span class="op">;</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a><span class="co"> * Base interface.</span></span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> InputElementAttributes <span class="op">=</span> React<span class="op">.</span><span class="at">DetailedHTMLProps</span><span class="op">&lt;</span>React<span class="op">.</span><span class="at">InputHTMLAttributes</span><span class="op">&lt;</span><span class="bu">HTMLInputElement</span><span class="op">&gt;,</span> <span class="bu">HTMLInputElement</span><span class="op">&gt;;</span></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IInputProps <span class="kw">extends</span> IInputState<span class="op">,</span> <span class="bu">Omit</span><span class="op">&lt;</span>InputElementAttributes<span class="op">,</span> <span class="st">&#39;onChange&#39;</span><span class="op">&gt;</span> {</span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a>  onChange<span class="op">:</span> (value<span class="op">?:</span> value) <span class="kw">=&gt;</span> <span class="dt">void</span></span>
<span id="cb82-12"><a href="#cb82-12" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="type-chkecking-interfaces"></a></p>
<h2 id="type-checking-for-interfaces">Type checking for interfaces</h2>
<p><strong>Hard</strong> checking for interface is not yet available,
but there are ways to achieve the same results. I will explain two
commonly used methods to check for interfaces. These methods are:</p>
<ol type="1">
<li>Use <strong>type-guards</strong> to check for instances of specifc
objects.</li>
</ol>
<p><a
href="https://www.typescriptlang.org/docs/handbook/advanced-types.html">The
TypeScript official documentation defines a <strong>type guard</strong>
as</a> some expression that performs a runtime check that guarantees the
type in some scope. To define a type guard, we simply need to define a
function whose return type is a type predicate:</p>
<div class="sourceCode" id="cb83"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">isFish</span>(pet<span class="op">:</span> Fish <span class="op">|</span> Bird)<span class="op">:</span> pet <span class="kw">is</span> Fish {</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (<span class="op">&lt;</span>Fish<span class="op">&gt;</span>pet)<span class="op">.</span><span class="at">swim</span> <span class="op">!==</span> <span class="kw">undefined</span><span class="op">;</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Let’s go back to our React scenario. Let’s say our input values are
programmatically managed, and could either be of type
<code>value</code>, or objects with an <code>IValue</code> interface
depening on some props and prior setup.</p>
<p>Let’s assume we have an <code>onChangeHandler</code> that listens for
any changes made to the input value and returns a data of
<strong><em>type</em> value</strong>. But the problem is that the
<strong>value <em>variable</em></strong> might not always be of
<strong><em>type</em> value</strong>, so we need to check if it’s an
object of <strong>“type” IValue</strong>. Let’s define the typings and
<code>onChangeHandler</code>:</p>
<div class="sourceCode" id="cb84"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> value <span class="op">=</span> <span class="dt">string</span> <span class="op">|</span> <span class="dt">number</span> <span class="op">|</span> <span class="dt">string</span>[]<span class="op">;</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IValue {</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>  value<span class="op">:</span> value<span class="op">;</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>  [propName<span class="op">:</span> <span class="dt">string</span>]<span class="op">:</span> <span class="dt">any</span><span class="op">;</span></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a><span class="co"> * `ISelectValue` interface type checker.</span></span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> instanceOfIValue <span class="op">=</span> (object<span class="op">:</span> <span class="dt">any</span>)<span class="op">:</span> <span class="dt">object</span> <span class="kw">is</span> ISelectValue <span class="kw">=&gt;</span> {</span>
<span id="cb84-12"><a href="#cb84-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="kw">object</span> <span class="op">&amp;&amp;</span> object<span class="op">.</span><span class="at">inputData</span>) {</span>
<span id="cb84-13"><a href="#cb84-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">&#39;inputData&#39;</span> <span class="kw">in</span> <span class="kw">object</span><span class="op">;</span> <span class="co">// true</span></span>
<span id="cb84-14"><a href="#cb84-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb84-15"><a href="#cb84-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb84-16"><a href="#cb84-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb84-17"><a href="#cb84-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-18"><a href="#cb84-18" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> onChangeHandler <span class="op">=</span> (inputData<span class="op">:</span> value <span class="op">|</span> IValue)<span class="op">:</span> value <span class="kw">=&gt;</span> {</span>
<span id="cb84-19"><a href="#cb84-19" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Checking for IValue object.</span></span>
<span id="cb84-20"><a href="#cb84-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">instanceOfIValue</span>(inputData)) {</span>
<span id="cb84-21"><a href="#cb84-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> inputData<span class="op">.</span><span class="at">value</span><span class="op">;</span></span>
<span id="cb84-22"><a href="#cb84-22" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb84-23"><a href="#cb84-23" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Otherwise, simply return the inputData which will be of type value.</span></span>
<span id="cb84-24"><a href="#cb84-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> inputData<span class="op">;</span></span>
<span id="cb84-25"><a href="#cb84-25" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The above code snippet might seem overkill, but keep in mind that
<code>instanceOfIValue</code> can be used in multiple places, and it’s
scallable to a certain extent. Further properties might be added, and
guarded for. If there are too many properties to guard though, using
<strong>distriminators</strong> to check for instances might be
better.</p>
<ol start="2" type="1">
<li>Use <strong>discriminators</strong> to check for instances of
specific objects.</li>
</ol>
<p>If you find yourself needing to check for many object properties to
determine if an object matches your interface, you can use a
<strong>discriminator</strong>. Here is a basic example, based on the
example above except now we add a new property to <code>IValue</code>
declared <code>displayValue</code>, and <code>value</code> might be
<code>undefined</code>:</p>
<div class="sourceCode" id="cb85"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> value <span class="op">=</span> <span class="dt">string</span> <span class="op">|</span> <span class="dt">number</span> <span class="op">|</span> <span class="dt">string</span>[]<span class="op">;</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> IValue {</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>  value<span class="op">?:</span> value<span class="op">;</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>  displayValue<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>  discriminator<span class="op">:</span> <span class="st">&#39;IValue&#39;</span><span class="op">;</span></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>  [propName<span class="op">:</span> <span class="dt">string</span>]<span class="op">:</span> <span class="dt">any</span><span class="op">;</span></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a><span class="co"> * `ISelectValue` interface type checker.</span></span>
<span id="cb85-12"><a href="#cb85-12" aria-hidden="true" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb85-13"><a href="#cb85-13" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> instanceOfIValue <span class="op">=</span> (object<span class="op">:</span> <span class="dt">any</span>)<span class="op">:</span> <span class="dt">object</span> <span class="kw">is</span> ISelectValue <span class="kw">=&gt;</span> {</span>
<span id="cb85-14"><a href="#cb85-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="kw">object</span> <span class="op">&amp;&amp;</span> object<span class="op">.</span><span class="at">discriminator</span>) {</span>
<span id="cb85-15"><a href="#cb85-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> object<span class="op">.</span><span class="at">discriminator</span> <span class="op">===</span> <span class="st">&#39;IValue&#39;</span><span class="op">;</span></span>
<span id="cb85-16"><a href="#cb85-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb85-17"><a href="#cb85-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb85-18"><a href="#cb85-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb85-19"><a href="#cb85-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-20"><a href="#cb85-20" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> onChangeHandler <span class="op">=</span> (inputData<span class="op">:</span> value <span class="op">|</span> IValue)<span class="op">:</span> value <span class="kw">=&gt;</span> {</span>
<span id="cb85-21"><a href="#cb85-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Checking for IValue object.</span></span>
<span id="cb85-22"><a href="#cb85-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">instanceOfIValue</span>(inputData)) {</span>
<span id="cb85-23"><a href="#cb85-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> inputData<span class="op">.</span><span class="at">value</span> <span class="op">||</span> inputData<span class="op">.</span><span class="at">displayValue</span><span class="op">;</span></span>
<span id="cb85-24"><a href="#cb85-24" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb85-25"><a href="#cb85-25" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Otherwise, simply return the inputData which will be of type value.</span></span>
<span id="cb85-26"><a href="#cb85-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> inputData<span class="op">;</span></span>
<span id="cb85-27"><a href="#cb85-27" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>By using a <strong>discriminator</strong>, we don’t have to check if
the <code>value</code> or <code>displayValue</code> properties exist,
instead we check for a <code>discriminator</code> property which will
let us know if the object is of “type” <code>IValue</code>.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<hr />
<h2 id="generics">Generics</h2>
<blockquote>
<p>A major part of software engineering is building components that not
only have well-defined and consistent APIs, but are also reusable.
Components that are capable of working on the data of today as well as
the data of tomorrow will give you the most flexible capabilities for
building up large software systems. In languages like <code>C#</code>
and <code>Java</code>, one of the main tools in the toolbox for creating
reusable components is generics, that is, being able to create a
component that can work over a variety of types rather than a single
one. This allows users to consume these components and use their own
types.</p>
</blockquote>
<p>Generics are a way to help us write dynamic, flexible code. To
explain what generics are, let’s take a look at the example below:</p>
<div class="sourceCode" id="cb86"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">echo</span>(data<span class="op">:</span> <span class="dt">string</span>) {</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> data<span class="op">;</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>That is <strong>not</strong> a generic function. Generics are
reusable components (be it a <code>function</code>, an
<code>object</code>, a <code>class</code>) that can be used multiple
times for multiple variable types, like a <code>string</code>, a
<code>number</code>, <code>boolean</code>, etc. Next we’ll see how to
properly write Generics in TypeScript and different types of
Generics.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="simple-generics">Simple Generics</h3>
<p>To write a generic, let’s take the example above and turn it into a
simple generic function. Here’s how the original <code>echo</code>
function would be rewritten into a simple generic:</p>
<div class="sourceCode" id="cb87"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">echo</span>(data<span class="op">:</span> <span class="dt">any</span>) {</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> data<span class="op">;</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">echo</span>(<span class="st">&#39;Robert&#39;</span>))<span class="op">;</span> <span class="co">// Prints: &quot;Robert&quot;</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">echo</span>(<span class="dv">24</span>)<span class="op">.</span><span class="at">length</span>)<span class="op">;</span> <span class="co">// Prints: undefined.</span></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">echo</span>({ name<span class="op">:</span> <span class="st">&#39;Robert&#39;</span><span class="op">,</span> age<span class="op">:</span> <span class="dv">24</span> }))<span class="op">;</span> <span class="co">// Prints: { name: &quot;Robert&quot;, age: 24 }</span></span></code></pre></div>
<p>Our function is now a generic function, it can accept
<code>any</code> type of argument and returns a value of equal type. But
this function is not really practical for two reasons:</p>
<ol type="1">
<li>The compiler doesn’t know what the <strong>type</strong> of the
return value will be.</li>
<li>Because of the above, the IDE won’t know what value
<strong>type</strong> will be returned from the function, resulting in
higher difficulty to access its properties, we would have to be sure
beforehand. The program could also crash if an undefined variable is
used later on.</li>
</ol>
<p>Note how in the example above, we can’t access the
<code>length</code> property of a string, because <code>echo</code>
returns a <code>number</code>, but neither the compiler nor the IDE
knows this <strong>because we are losing information about said
type</strong>. We can fortunately fix this however, by using
<strong>better generics</strong>.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="better-generics">Better Generics</h3>
<p>While the example above is technically a generic function, let’s now
improve it by making use of TypeScript so that we can know what type
will be returned from <code>echo</code>. Here is an example:</p>
<div class="sourceCode" id="cb88"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">betterEcho</span><span class="op">&lt;</span>T<span class="op">&gt;</span>(data<span class="op">:</span> T) {</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> data<span class="op">;</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<blockquote>
<p>We’ve now added a type variable <code>T</code> to the function. This
<code>T</code> allows us to capture the type the user provides
(e.g. <code>number</code>), so that we can use that information later.
Here, we use <code>T</code> again as the return type.</p>
</blockquote>
<p>By using the angle brackets right beside <code>betterEcho</code>,
it’s a way of saying to the compiler and the IDE the following:
<em>“hey, <code>betterEcho</code> must return a value
<strong>type</strong> equal to the <strong>type</strong> of the
<code>data</code> argument”</em>. Here is an example of using
<code>betterEcho</code> and how the compiler would behave:</p>
<div class="sourceCode" id="cb89"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Now I get types in the IDE, the compiler also knows what type is returned from betterEcho.</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">betterEcho</span>(<span class="st">&#39;Robert&#39;</span>)<span class="op">.</span><span class="at">length</span>)<span class="op">;</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="co">// console.log(betterEcho(24).length); // Compiler &amp; IDE warning: Property &#39;length&#39; does not exist on type `number`.</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">betterEcho</span><span class="op">&lt;</span><span class="dt">number</span><span class="op">&gt;</span>(<span class="dv">24</span>)<span class="op">.</span><span class="fu">toExponential</span>(<span class="dv">2</span>))<span class="op">;</span> <span class="co">// I would get IDE support.</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">betterEcho</span>({ name<span class="op">:</span> <span class="st">&#39;Robert&#39;</span><span class="op">,</span> age<span class="op">:</span> <span class="dv">24</span> })<span class="op">.</span><span class="at">age</span>)<span class="op">;</span> <span class="co">// I would also get IDE support.</span></span></code></pre></div>
<p>This way both the compiler <strong>and</strong> the IDE will know
what type will be returned from <code>betterEcho</code>. <strong>The
compiler won’t even run if <code>noEmitOnError</code> is true inside the
<code>tsconfig.json</code> file. <a
href="https://www.typescriptlang.org/docs/handbook/compiler-options.html">More
info about this here</a>.</strong></p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="built-in-generics">Built-in Generics</h3>
<p>Some types though, have <em>built-in generics</em>. I’ve even used
some as examples before without having touched yet on generics. Here are
some very simple examples:</p>
<div class="sourceCode" id="cb90"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> testResults<span class="op">:</span> <span class="bu">Array</span><span class="op">&lt;</span><span class="dt">number</span><span class="op">&gt;</span> <span class="op">=</span> [<span class="fl">1.94</span><span class="op">,</span> <span class="fl">2.33</span>]<span class="op">;</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  testResults<span class="op">.</span><span class="fu">push</span>(<span class="op">-</span><span class="fl">2.99</span>)<span class="op">;</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">// testResults.push(&#39;string&#39;); // Not possible.</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Arrays</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">printAll</span><span class="op">&lt;</span>T<span class="op">&gt;</span>(args<span class="op">:</span> T[]) {</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>    args<span class="op">.</span><span class="fu">forEach</span>(element <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(element))<span class="op">;</span></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">printAll</span><span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span>([<span class="st">&#39;Apple&#39;</span><span class="op">,</span> <span class="st">&#39;Banana&#39;</span>])<span class="op">;</span></span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">printAll</span><span class="op">&lt;</span><span class="dt">number</span><span class="op">&gt;</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">5</span>])<span class="op">;</span></span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">// printAll&lt;number&gt;([1, &#39;string&#39;, 5]); // Not possible.</span></span></code></pre></div>
<p>Arrays have built-in generics. The constant <code>testResults</code>
is an array that will accept any value that is of type
<code>number</code>. The function <code>printAll</code> will also accept
any <code>array</code> of <code>T</code> type as an argument, turning
<code>printAll</code> into a generic function.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="generic-types">Generic Types</h3>
<p>The <code>Generic Types</code> are <strong>exactly</strong> what the
name says. It’s a way of declaring any kind of variable with a generic
type. Let’s see how to create generic functions and generic interfaces.
For example:</p>
<p><strong>Functions:</strong></p>
<div class="sourceCode" id="cb91"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">betterEcho</span><span class="op">&lt;</span>T<span class="op">&gt;</span>(data<span class="op">:</span> T) {</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> data<span class="op">;</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> echoStr<span class="op">:</span> <span class="op">&lt;</span>T<span class="op">&gt;</span>(data<span class="op">:</span> T) <span class="kw">=&gt;</span> T <span class="op">=</span> betterEcho<span class="op">;</span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">echoStr</span><span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span>(<span class="st">&#39;Hello world!&#39;</span>)<span class="op">.</span><span class="fu">toLocaleUpperCase</span>())<span class="op">;</span> <span class="co">// Prints: &quot;HELLO WORLD!&quot;</span></span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> echoNum<span class="op">:</span> <span class="op">&lt;</span>T<span class="op">&gt;</span>(data<span class="op">:</span> T) <span class="kw">=&gt;</span> T <span class="op">=</span> betterEcho<span class="op">;</span></span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="fu">echoNum</span><span class="op">&lt;</span><span class="dt">number</span><span class="op">&gt;</span>(<span class="dv">312</span>)<span class="op">.</span><span class="fu">toString</span>())<span class="op">;</span> <span class="co">// Prints: &quot;312&quot;</span></span></code></pre></div>
<blockquote>
<p>The type of generic functions is just like those of non-generic
functions, with the type parameters listed first, similarly to function
declarations.</p>
</blockquote>
<p><strong>Interfaces:</strong></p>
<p>Here is an example as shown in the <a
href="https://www.typescriptlang.org/docs/handbook/generics.html">TypeScript
official documentation about generic types</a>:</p>
<div class="sourceCode" id="cb92"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">interface</span> GenericIdentityFn<span class="op">&lt;</span>T<span class="op">&gt;</span> {</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>      (arg<span class="op">:</span> T)<span class="op">:</span> T<span class="op">;</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">identity</span><span class="op">&lt;</span>T<span class="op">&gt;</span>(arg<span class="op">:</span> T)<span class="op">:</span> T {</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> arg<span class="op">;</span></span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> myIdentity<span class="op">:</span> GenericIdentityFn<span class="op">&lt;</span><span class="dt">number</span><span class="op">&gt;</span> <span class="op">=</span> identity<span class="op">;</span></span></code></pre></div>
<blockquote>
<p>Notice that our example has changed to be something slightly
different. Instead of describing a generic function, we now have a
non-generic function signature that is a part of a generic type. When we
use <code>GenericIdentityFn</code>, we now will also need to specify the
corresponding type argument (here: number), effectively locking in what
the underlying call signature will use. Understanding when to put the
type parameter directly on the call signature and when to put it on the
interface itself will be helpful in describing what aspects of a type
are generic.</p>
</blockquote>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="generic-class">Generic Class</h3>
<blockquote>
<p>A generic class has a similar shape to a generic interface. Generic
classes have a generic type parameter list in angle brackets (&lt;&gt;)
following the name of the class.</p>
</blockquote>
<p>Here is a simple example for starters using
<strong><code>constraints</code></strong>. The generic types may be
constrained by <strong>extending</strong> them to certain types. For
example, we may <strong>constrain</strong> (with the
<code>extends</code> keyword) a type <code>T</code> to type
<code>number</code>, or type <code>string</code> <strong>only</strong>.
Here is an example:</p>
<div class="sourceCode" id="cb93"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> GenericMath<span class="op">&lt;</span>T <span class="kw">extends</span> <span class="dt">number</span> <span class="op">|</span> <span class="dt">string</span><span class="op">&gt;</span> {</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">constructor</span>(<span class="kw">public</span> baseValue<span class="op">:</span> T<span class="op">,</span> <span class="kw">public</span> multiplyValue<span class="op">:</span> T) {}</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calculate</span>()<span class="op">:</span> <span class="dt">number</span> {</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="op">+</span><span class="kw">this</span><span class="op">.</span><span class="at">baseValue</span> <span class="op">*</span> <span class="op">+</span><span class="kw">this</span><span class="op">.</span><span class="at">multiplyValue</span></span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">// const genericMath = new GenericMath&lt;number&gt;(10, &#39;string&#39;); // Not possible because &#39;string&#39; can&#39;t be converted to a number.</span></span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">// const genericMathBoolean = new GenericMath&lt;boolean&gt;(10, &#39;20&#39;); // Not possible because T only extends to number and string only.</span></span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> onlyNumbers <span class="op">=</span> <span class="kw">new</span> <span class="fu">GenericMath</span><span class="op">&lt;</span><span class="dt">number</span><span class="op">&gt;</span>(<span class="dv">10</span><span class="op">,</span> <span class="dv">20</span>)<span class="op">;</span></span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> onlyStrings <span class="op">=</span> <span class="kw">new</span> <span class="fu">GenericMath</span><span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span>(<span class="st">&#39;10&#39;</span><span class="op">,</span> <span class="st">&#39;20&#39;</span>)<span class="op">;</span></span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> bothTypes <span class="op">=</span> <span class="kw">new</span> <span class="fu">GenericMath</span><span class="op">&lt;</span><span class="dt">number</span> <span class="op">|</span> <span class="dt">string</span><span class="op">&gt;</span>(<span class="dv">10</span><span class="op">,</span> <span class="st">&#39;20&#39;</span>)<span class="op">;</span></span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(onlyNumbers<span class="op">.</span><span class="fu">calculate</span>())<span class="op">;</span> <span class="co">// Prints: 200</span></span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(onlyStrings<span class="op">.</span><span class="fu">calculate</span>())<span class="op">;</span> <span class="co">// Prints: 200</span></span>
<span id="cb93-16"><a href="#cb93-16" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(bothTypes<span class="op">.</span><span class="fu">calculate</span>())<span class="op">;</span> <span class="co">// Prints: 200</span></span></code></pre></div>
<p>Notice how the <code>T</code> type is defined. <strong><code>T</code>
extends to the <code>number</code> type, <code>or</code> to the
<code>string</code> type only</strong>. This means that everything
referring to <code>T</code> inside the generic class
<code>GenericMath</code>, can be of type <code>number</code> or type
<code>string</code> (e.g. the constructor arguments), depending on how
its set when calling the constructor.</p>
<p>Here is a more advanced example where we use <strong>multiple
types</strong> when defining the generic class types:</p>
<div class="sourceCode" id="cb94"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> MultipleTypesMath<span class="op">&lt;</span>T <span class="kw">extends</span> <span class="dt">number</span><span class="op">,</span> U <span class="kw">extends</span> <span class="dt">number</span> <span class="op">|</span> <span class="dt">string</span><span class="op">&gt;</span> {</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">constructor</span>(<span class="kw">public</span> baseValue<span class="op">:</span> T<span class="op">,</span> <span class="kw">public</span> multiplyValue<span class="op">:</span> U) {}</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calculate</span>()<span class="op">:</span> <span class="dt">number</span> {</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="op">+</span><span class="kw">this</span><span class="op">.</span><span class="at">baseValue</span> <span class="op">*</span> <span class="op">+</span><span class="kw">this</span><span class="op">.</span><span class="at">multiplyValue</span><span class="op">;</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> multipleTypesMath <span class="op">=</span> <span class="kw">new</span> <span class="fu">MultipleTypesMath</span><span class="op">&lt;</span><span class="dt">number</span><span class="op">,</span> <span class="dt">number</span> <span class="op">|</span> <span class="dt">string</span><span class="op">&gt;</span>(<span class="dv">5</span><span class="op">,</span> <span class="st">&#39;20&#39;</span>)<span class="op">;</span></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(multipleTypesMath<span class="op">.</span><span class="fu">calculate</span>())<span class="op">;</span> <span class="co">// Prints: 100</span></span></code></pre></div>
<p>Now we have <strong>two</strong> types, <code>T</code> and
<code>U</code> and both are constrained, but to different types. The
constructor argument <code>baseValue</code> is defined as type
<code>T</code>, and <code>T</code> only extends to type
<code>number</code>, which results in <code>baseValue</code> only
accepting values of type <code>number</code> when calling the
constructor.</p>
<p><code>U</code> is a union type. It accepts values of type
<code>number</code> or <code>string</code>, and it’s assigned to the
<code>multiplyValue</code> argument of the constructor.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<hr />
<h2 id="decorators">Decorators</h2>
<h3 id="prologue">Prologue</h3>
<p>Before getting into what decorators are, here is some important
information taken from the <a
href="https://www.typescriptlang.org/docs/handbook/decorators.html">TypeScript
official documentation about decorators</a>:</p>
<blockquote>
<p>With the introduction of Classes in TypeScript and ES6, there now
exist certain scenarios that require additional features to support
annotating or modifying classes and class members. Decorators provide a
way to add both annotations and a meta-programming syntax for class
declarations and members. Decorators are a stage 2 proposal for
JavaScript and are available as an experimental feature of TypeScript.
<strong>NOTE:  Decorators are an experimental feature that may change in
future releases.</strong> To enable experimental support for decorators,
you must enable the <code>experimentalDecorators</code> compiler option
either on the command line or in your <code>tsconfig.json</code>:</p>
</blockquote>
<p><strong><em>Command Line:</em></strong></p>
<pre class="cli"><code>tsc --target ES5 --experimentalDecorators</code></pre>
<p><strong><em>tsconfig.json:</em></strong></p>
<div class="sourceCode" id="cb96"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;compilerOptions&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;target&quot;</span><span class="fu">:</span> <span class="st">&quot;ES5&quot;</span><span class="fu">,</span></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;experimentalDecorators&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="decorators-introduction"></a></p>
<h3 id="decorators-introduction">Decorators Introduction</h3>
<blockquote>
<p>A Decorator is a special kind of declaration that can be attached to
a class declaration, method, accessor, property, or parameter.
Decorators use the form <code>@expression</code>, where
<strong><code>expression</code></strong> must evaluate to a function
that will be called at runtime with information about the decorated
declaration.</p>
</blockquote>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="basic-decorator">Basic Decorator</h3>
<p>Another way to explain a decorator would be to say that they are a
way to enhance the functionality of a <code>class</code>. We can use
decorators to add properties to a decorated class when its constructor
is executed, for example. This is of course among many other things that
are possible, more of this below.</p>
<div class="sourceCode" id="cb97"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">logged</span>(constructorFn<span class="op">:</span> <span class="bu">Function</span>) {</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(constructorFn)<span class="op">;</span> <span class="co">// Will log the class Person constructor.</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>  @logged</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> Person {</span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">constructor</span>() {</span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>      <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;Hi!&#39;</span>)<span class="op">;</span></span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>Every time a new instance of <code>Person</code> is built, the
<strong>constructor function</strong> will be logged into the
console.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="factory">Factory</h3>
<blockquote>
<p>If we want to customize how a decorator is applied to a declaration,
we can write a decorator factory. A Decorator Factory is simply a
function that returns the expression that will be called by the
decorator at runtime.</p>
</blockquote>
<p>In other words, a factory is a functions that returns a
decorator.</p>
<div class="sourceCode" id="cb98"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">logged</span>(constructorFn<span class="op">:</span> <span class="bu">Function</span>) {</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(constructorFn)<span class="op">;</span> <span class="co">// Will log the class Person constructor.</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Factory</span></span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">logging</span>(value<span class="op">:</span> <span class="dt">boolean</span>) {</span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> value <span class="op">?</span> logged <span class="op">:</span> () <span class="kw">=&gt;</span> {}<span class="op">;</span></span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-10"><a href="#cb98-10" aria-hidden="true" tabindex="-1"></a>  @<span class="fu">logging</span>(<span class="kw">true</span>) <span class="co">// If true, it will return the `logged` decorator, if false, it will execute an empty function.</span></span>
<span id="cb98-11"><a href="#cb98-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> Car {</span>
<span id="cb98-12"><a href="#cb98-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-13"><a href="#cb98-13" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="advanced-decorator">Advanced Decorator</h3>
<p>Since decorators have access to a class constructor function, through
the decorators we can access the class <code>prototype</code> and add
properties to said class. In the example below we will add the
<code>print</code> method to any <code>class</code> decorated by
<code>printable</code> (to <code>Plant</code> in this case). Also notice
in the next example how the argument passed to <code>logging</code>
(same <code>factory</code> function as above) is <code>false</code>.
This means the constructor won’t be printed to the console through the
<code>logged</code> decorator <strong>(because the <code>factory</code>
won’t return it)</strong>.</p>
<div class="sourceCode" id="cb99"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">printable</span>(constructorFn<span class="op">:</span> <span class="bu">Function</span>) {</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>    constructorFn<span class="op">.</span><span class="at">prototype</span><span class="op">.</span><span class="at">print</span> <span class="op">=</span> <span class="kw">function</span>() {</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>      <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="kw">this</span>)<span class="op">;</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span><span class="at">name</span> <span class="op">=</span> <span class="st">&#39;Red Plant&#39;</span></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>  @<span class="fu">logging</span>(<span class="kw">false</span>)</span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a>  @printable</span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> Plant {</span>
<span id="cb99-11"><a href="#cb99-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> name <span class="op">=</span> <span class="st">&#39;Green Plant&#39;</span><span class="op">;</span></span>
<span id="cb99-12"><a href="#cb99-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb99-13"><a href="#cb99-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-14"><a href="#cb99-14" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> plant <span class="op">=</span> <span class="kw">new</span> <span class="fu">Plant</span>()<span class="op">;</span></span>
<span id="cb99-15"><a href="#cb99-15" aria-hidden="true" tabindex="-1"></a>  (<span class="op">&lt;</span><span class="dt">any</span><span class="op">&gt;</span>plant)<span class="op">.</span><span class="fu">print</span>()<span class="op">;</span> <span class="co">// Would print the constructed Plant object: { name: &quot;Green Plant&quot; }, then change the name property.</span></span>
<span id="cb99-16"><a href="#cb99-16" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;After print() is executed&#39;</span><span class="op">,</span> plant)<span class="op">;</span> <span class="co">// Prints: the constructed Plant object: { name: &quot;Red Plant&quot; }.</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="method-decorator">Method Decorator</h3>
<blockquote>
<p>A Method Decorator is declared just before a method declaration. The
decorator is applied to the Property Descriptor for the method, and can
be used to observe, modify, or replace a method definition. A method
decorator cannot be used in a declaration file, on an overload, or in
any other ambient context (such as in a declare class).</p>
</blockquote>
<p>Besides adding a decorator to the class, we can also add decorators
to a class member method (and properties, parameters - more on this
below). It is done in the exact same way.</p>
<div class="sourceCode" id="cb100"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">editable</span>(value<span class="op">:</span> <span class="dt">boolean</span>) {</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">function</span>(target<span class="op">:</span><span class="dt">any</span><span class="op">,</span> propName<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> descriptor<span class="op">:</span> PropertyDescriptor <span class="op">=</span> {}) {</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>      descriptor<span class="op">.</span><span class="at">writable</span> <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>      <span class="bu">Object</span><span class="op">.</span><span class="fu">defineProperty</span>(target<span class="op">,</span> propName<span class="op">,</span> descriptor)<span class="op">;</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> Project {</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">constructor</span>(name<span class="op">:</span> <span class="dt">string</span>) {</span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span><span class="at">projectName</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a>    @<span class="fu">editable</span>(<span class="kw">false</span>)</span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calcBudget</span>() {</span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a>      <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="dv">1000</span>)<span class="op">;</span></span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb100-19"><a href="#cb100-19" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> project <span class="op">=</span> <span class="kw">new</span> <span class="fu">Project</span>(<span class="st">&#39;Super Project&#39;</span>)<span class="op">;</span></span>
<span id="cb100-20"><a href="#cb100-20" aria-hidden="true" tabindex="-1"></a>  project<span class="op">.</span><span class="fu">calcBudget</span>()<span class="op">;</span> <span class="co">// Prints: 1000</span></span>
<span id="cb100-21"><a href="#cb100-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">// project.calcBudget = () =&gt; { // Throws warning in the console IF editable is false. Property won&#39;t ever be changed.</span></span>
<span id="cb100-22"><a href="#cb100-22" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   console.log(2000);</span></span>
<span id="cb100-23"><a href="#cb100-23" aria-hidden="true" tabindex="-1"></a>  <span class="co">// };</span></span></code></pre></div>
<p>In the above example, we are modifying the <code>calcBudget</code>
object’s writable property to avoid it from being changed in the future.
If changed then a warning will be thrown in the console. <a
href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">More
information about PropertyDescriptors can be found here</a>.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="property-decorator">Property Decorator</h3>
<p>The good thing about decorators is that they are exactly as their
name imply. With the property decorator, we can also change its property
during runtime, among other things. Here’s what the official
documentation have to say about <strong>property
decorators</strong>:</p>
<blockquote>
<p>A Property Decorator is declared just before a property declaration.
A property decorator cannot be used in a declaration file, or in any
other ambient context (such as in a declare class).</p>
</blockquote>
<p>The expression for the property decorator will be called as a
function at runtime, with the following two arguments:</p>
<ol type="1">
<li>Either the constructor function of the class for a static member, or
the prototype of the class for an instance member.</li>
<li>The name of the member.</li>
</ol>
<blockquote>
<p><strong>NOTE  A Property Descriptor is not provided as an argument to
a property decorator due to how property decorators are initialized in
TypeScript. This is because there is currently no mechanism to describe
an instance property when defining members of a prototype, and no way to
observe or modify the initializer for a property. The return value is
ignored too. As such, a property decorator can only be used to observe
that a property of a specific name has been declared for a
class.</strong></p>
</blockquote>
<p><strong>That is not to say that a property’s PropertyDescriptor
object cannot be modified.</strong> We may define a new object
descriptor and return it, here’s an example of how to make a property
with <code>writable</code> false:</p>
<div class="sourceCode" id="cb101"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Method Decorator</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">editable</span>(value<span class="op">:</span> <span class="dt">boolean</span>) {</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">function</span>(target<span class="op">:</span><span class="dt">any</span><span class="op">,</span> propName<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> descriptor<span class="op">:</span> PropertyDescriptor <span class="op">=</span> {}) {</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>      descriptor<span class="op">.</span><span class="at">writable</span> <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>      <span class="bu">Object</span><span class="op">.</span><span class="fu">defineProperty</span>(target<span class="op">,</span> propName<span class="op">,</span> descriptor)<span class="op">;</span></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Property Decorator</span></span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">overwritable</span>(value<span class="op">:</span> <span class="dt">boolean</span>)<span class="op">:</span> <span class="dt">any</span> {</span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">function</span>(target<span class="op">:</span> <span class="dt">any</span><span class="op">,</span> propName<span class="op">:</span> <span class="dt">string</span>)<span class="op">:</span> <span class="dt">any</span> {</span>
<span id="cb101-12"><a href="#cb101-12" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> newDescriptor<span class="op">:</span> PropertyDescriptor <span class="op">=</span> { <span class="co">// New PropertyDescriptor object.</span></span>
<span id="cb101-13"><a href="#cb101-13" aria-hidden="true" tabindex="-1"></a>        writable<span class="op">:</span> value</span>
<span id="cb101-14"><a href="#cb101-14" aria-hidden="true" tabindex="-1"></a>      }<span class="op">;</span></span>
<span id="cb101-15"><a href="#cb101-15" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> newDescriptor<span class="op">;</span></span>
<span id="cb101-16"><a href="#cb101-16" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb101-17"><a href="#cb101-17" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb101-18"><a href="#cb101-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-19"><a href="#cb101-19" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> Project {</span>
<span id="cb101-20"><a href="#cb101-20" aria-hidden="true" tabindex="-1"></a>    @<span class="fu">overwritable</span>(<span class="kw">false</span>)</span>
<span id="cb101-21"><a href="#cb101-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> projectName<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb101-22"><a href="#cb101-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-23"><a href="#cb101-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">constructor</span>(name<span class="op">:</span> <span class="dt">string</span>) {</span>
<span id="cb101-24"><a href="#cb101-24" aria-hidden="true" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span><span class="at">projectName</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb101-25"><a href="#cb101-25" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb101-26"><a href="#cb101-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-27"><a href="#cb101-27" aria-hidden="true" tabindex="-1"></a>    @<span class="fu">editable</span>(<span class="kw">true</span>)</span>
<span id="cb101-28"><a href="#cb101-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calcBudget</span>() {</span>
<span id="cb101-29"><a href="#cb101-29" aria-hidden="true" tabindex="-1"></a>      <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="dv">1000</span>)<span class="op">;</span></span>
<span id="cb101-30"><a href="#cb101-30" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb101-31"><a href="#cb101-31" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb101-32"><a href="#cb101-32" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb101-33"><a href="#cb101-33" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> project <span class="op">=</span> <span class="kw">new</span> <span class="fu">Project</span>(<span class="st">&#39;Super Project&#39;</span>)<span class="op">;</span> <span class="co">// The name won&#39;t be modified because the @overwritable decorator&#39;s argument is false.</span></span>
<span id="cb101-34"><a href="#cb101-34" aria-hidden="true" tabindex="-1"></a>  project<span class="op">.</span><span class="fu">calcBudget</span>()<span class="op">;</span> <span class="co">// Prints: 1000</span></span>
<span id="cb101-35"><a href="#cb101-35" aria-hidden="true" tabindex="-1"></a>  project<span class="op">.</span><span class="at">calcBudget</span> <span class="op">=</span> () <span class="kw">=&gt;</span> { <span class="co">// Throws error in console IF the @editable decorator&#39;s argument is false, cannot assign new property to this.</span></span>
<span id="cb101-36"><a href="#cb101-36" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="dv">2000</span>)<span class="op">;</span></span>
<span id="cb101-37"><a href="#cb101-37" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb101-38"><a href="#cb101-38" aria-hidden="true" tabindex="-1"></a>  project<span class="op">.</span><span class="fu">calcBudget</span>()<span class="op">;</span> <span class="co">// Prints: 2000</span></span>
<span id="cb101-39"><a href="#cb101-39" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(project) <span class="co">// IF overwritable is false, then projectName will be equal to undefined.</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="parameter-decorator">Parameter Decorator</h3>
<p>Let’s quote the official documentation again:</p>
<blockquote>
<p>A Parameter Decorator is declared just before a parameter
declaration. The parameter decorator is applied to the function for a
class constructor or method declaration. A parameter decorator cannot be
used in a declaration file, an overload, or in any other ambient context
(such as in a declare class).</p>
</blockquote>
<p>The expression for the parameter decorator will be called as a
function at runtime, with the following three arguments:</p>
<p>Either the constructor function of the class for a static member, or
the prototype of the class for an instance member.</p>
<ol type="1">
<li>The name of the member.</li>
<li>The ordinal index of the parameter in the function’s parameter
list.</li>
</ol>
<blockquote>
<p><strong>NOTE  A parameter decorator can only be used to observe that
a parameter has been declared on a method.</strong></p>
</blockquote>
<p>Here is an example of how we can put that into practice:</p>
<div class="sourceCode" id="cb102"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">printInfo</span>(target<span class="op">:</span> <span class="dt">any</span><span class="op">,</span> methodName<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> paramIndex<span class="op">:</span> <span class="dt">number</span>) {</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;Target: &#39;</span><span class="op">,</span> target)<span class="op">;</span></span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;Method name: &#39;</span><span class="op">,</span> methodName)<span class="op">;</span></span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;Param index: &#39;</span><span class="op">,</span> paramIndex)<span class="op">;</span></span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">class</span> Course {</span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a>    name<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">constructor</span>(name<span class="op">:</span> <span class="dt">string</span>) {</span>
<span id="cb102-11"><a href="#cb102-11" aria-hidden="true" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span><span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb102-12"><a href="#cb102-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb102-13"><a href="#cb102-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-14"><a href="#cb102-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">// @printInfo behind printAll</span></span>
<span id="cb102-15"><a href="#cb102-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">printStudentNumbers</span>(mode<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> @printInfo printAll<span class="op">:</span> <span class="dt">boolean</span>) {</span>
<span id="cb102-16"><a href="#cb102-16" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (printAll) {</span>
<span id="cb102-17"><a href="#cb102-17" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="dv">10000</span>)<span class="op">;</span></span>
<span id="cb102-18"><a href="#cb102-18" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb102-19"><a href="#cb102-19" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="dv">2000</span>)<span class="op">;</span></span>
<span id="cb102-20"><a href="#cb102-20" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb102-21"><a href="#cb102-21" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb102-22"><a href="#cb102-22" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb102-23"><a href="#cb102-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-24"><a href="#cb102-24" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> course <span class="op">=</span> <span class="kw">new</span> <span class="fu">Course</span>(<span class="st">&#39;TypeScript&#39;</span>)<span class="op">;</span></span>
<span id="cb102-25"><a href="#cb102-25" aria-hidden="true" tabindex="-1"></a>  course<span class="op">.</span><span class="fu">printStudentNumbers</span>(<span class="st">&#39;anything&#39;</span><span class="op">,</span> <span class="kw">true</span>)<span class="op">;</span></span>
<span id="cb102-26"><a href="#cb102-26" aria-hidden="true" tabindex="-1"></a>  course<span class="op">.</span><span class="fu">printStudentNumbers</span>(<span class="st">&#39;anything&#39;</span><span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></span></code></pre></div>
<p>So, <code>@printInfo</code> will only be called at runtime whenever
<code>printStudentNumbers</code> is executed. Here is what
<code>@printInfo</code> would print for both instances:</p>
<div class="sourceCode" id="cb103"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>  Target<span class="op">:</span> <span class="op">&gt;</span> <span class="bu">Object</span> {}</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>  methodName<span class="op">:</span> printStudentNumbers</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>  paramIndex<span class="op">:</span> <span class="dv">1</span> <span class="co">// Starts counting at 0. It&#39;s 1 because `printAll` is the second argument of `printStudentNumbers`.</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<hr />
<p><a id="webpack-workflow"></a></p>
<h2 id="webpack-workflow-v4.x">Webpack Workflow (v^4.X)</h2>
<p><a href="https://webpack.js.org/guides/typescript/">Here is the
official documentation about TypeScript made by the folks at
Webpack</a>.</p>
<p>Here’s the TLDR:</p>
<ol type="1">
<li>Install the TypeScript compiler with
<code>npm install --save-dev typescript ts-loader</code>.</li>
</ol>
<blockquote>
<p>We use ts-loader in this guide as it makes enabling additional
webpack features, such as importing other web assets, a bit easier.</p>
</blockquote>
<ol start="2" type="1">
<li>Run <code>tsc --init</code>, then modify the
<code>tsconfig.json</code> file to look like this or similar:</li>
</ol>
<div class="sourceCode" id="cb104"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;compilerOptions&quot;</span><span class="op">:</span> {</span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;outDir&quot;</span><span class="op">:</span> <span class="st">&quot;./dist/&quot;</span><span class="op">,</span></span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;noImplicitAny&quot;</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;module&quot;</span><span class="op">:</span> <span class="st">&quot;es6&quot;</span><span class="op">,</span></span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;target&quot;</span><span class="op">:</span> <span class="st">&quot;es5&quot;</span><span class="op">,</span></span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;jsx&quot;</span><span class="op">:</span> <span class="st">&quot;react&quot;</span><span class="op">,</span></span>
<span id="cb104-8"><a href="#cb104-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;allowJs&quot;</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb104-9"><a href="#cb104-9" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb104-10"><a href="#cb104-10" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>This will make sure the compiler can parse TypeScript down to
ES5.</p>
<ol start="3" type="1">
<li>Webpack <code>webpack.config.js</code> file configuration to handle
TypeScript:</li>
</ol>
<div class="sourceCode" id="cb105"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> path <span class="op">=</span> <span class="pp">require</span>(<span class="st">&#39;path&#39;</span>)<span class="op">;</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>  module<span class="op">.</span><span class="at">exports</span> <span class="op">=</span> {</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">entry</span><span class="op">:</span><span class="st">&quot;./src/app.ts&quot;</span><span class="op">,</span></span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">output</span><span class="op">:</span> {</span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">filename</span><span class="op">:</span> <span class="st">&#39;bundle.js&#39;</span><span class="op">,</span></span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">path</span><span class="op">:</span> path<span class="op">.</span><span class="fu">resolve</span>(<span class="bu">__dirname</span><span class="op">,</span> <span class="st">&#39;dist&#39;</span>)</span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb105-9"><a href="#cb105-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">devtool</span><span class="op">:</span><span class="st">&quot;source-map&quot;</span><span class="op">,</span></span>
<span id="cb105-10"><a href="#cb105-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">resolve</span><span class="op">:</span> {</span>
<span id="cb105-11"><a href="#cb105-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">extensions</span><span class="op">:</span> [<span class="st">&quot;*&quot;</span><span class="op">,</span><span class="st">&quot;.ts&quot;</span><span class="op">,</span><span class="st">&quot;.tsx&quot;</span><span class="op">,</span><span class="st">&quot;.js&quot;</span>]</span>
<span id="cb105-12"><a href="#cb105-12" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb105-13"><a href="#cb105-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">module</span><span class="op">:</span>{</span>
<span id="cb105-14"><a href="#cb105-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">rules</span><span class="op">:</span> [</span>
<span id="cb105-15"><a href="#cb105-15" aria-hidden="true" tabindex="-1"></a>        { <span class="dt">test</span><span class="op">:</span><span class="ss">/</span><span class="sc">\.</span><span class="ss">tsx</span><span class="sc">?$</span><span class="ss">/</span><span class="op">,</span> <span class="dt">loader</span><span class="op">:</span><span class="st">&quot;ts-loader&quot;</span> }</span>
<span id="cb105-16"><a href="#cb105-16" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb105-17"><a href="#cb105-17" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb105-18"><a href="#cb105-18" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span></code></pre></div>
<blockquote>
<p>This will direct webpack to enter through ./index.ts, load all .ts
and .tsx files through the ts-loader, and output a bundle.js file in our
current directory.</p>
</blockquote>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<hr />
<h2 id="typescript-with-react.js">TypeScript with React.js</h2>
<p><a
href="https://www.typescriptlang.org/docs/handbook/react-&amp;-webpack.html">Here
is the official documentation about using TypeScript along with
React.js</a>.</p>
<p>In this section though, I’ll focus on how to use TypeScript while
using <code>create-react-app</code>, and how to set general Prop types
like <code>className</code>, <code>ref</code>, <code>style</code>, among
others.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="typescript-while-using-create-react-app">TypeScript while using
<code>create-react-app</code></h3>
<ol type="1">
<li>Create the React.js application by running
<code>npx create-react-app project-name --scripts-version=react-scripts-ts</code>.</li>
</ol>
<p>This will now also create the react app with all the configuration
already set up and ready to go.</p>
<p><a
href="https://github.com/rmolinamir/typescript-cheatsheet/tree/master/lib/react.js">Here
is an example React.js app created by running the previous
command.</a></p>
<p>When using an interface to declare the PropTypes, by convention we
must write a capital I when defining an interface. Let’s see an example
about how we can use PropTypes together with interfaces, enums, and how
to apply them:</p>
<p><strong><em>App.tsx</em></strong></p>
<pre class="tsx"><code>  // ...

  interface IAppProps {[propName]: any}
  interface IAppState {
    counterValue: number;
  }

  class App extends React.Component&lt;IAppProps, IAppState&gt; {
    public state = { counterValue: 0 }; // State is required to be public.

    public render() {
      return (
        &lt;div&gt;
          &lt;p&gt;
            &lt;CounterOutput
              counter={this.state.counterValue}
              onClick={this.counterHandler} /&gt;
          &lt;/p&gt;
        &lt;/div&gt;
      );
    }

    private counterHandler = (mode: ECounterHandlers) =&gt; {
      this.setState(prevState =&gt; {
        switch(mode) {
          case ECounterHandlers.Dec:
            return { counterValue: prevState.counterValue - 1 }
          case ECounterHandlers.Inc:
            return { counterValue: prevState.counterValue + 1 }
        }
      });
    }
  }

  export default App;</code></pre>
<p><strong><em>CounterOutput.tsx</em></strong></p>
<pre class="tsx"><code>  export enum ECounterHandlers {
    Inc,
    Dec
  }

  interface ICounterOutputProps {
    counter: number;
    onClick: (mode: ECounterHandlers) =&gt; void;
  }
  const counterOutput = (props: ICounterOutputProps) =&gt; {
    return (
      &lt;div&gt;
        &lt;p&gt;{props.counter}&lt;/p&gt;
        &lt;button onClick={() =&gt; props.onClick(ECounterHandlers.Dec)}&gt;Decrement&lt;/button&gt;
        &lt;button onClick={() =&gt; props.onClick(ECounterHandlers.Inc)}&gt;Increment&lt;/button&gt;
      &lt;/div&gt;
    );
  }</code></pre>
<p>Notice the following:</p>
<ol type="1">
<li>There’s a capital E when defining the enum. That is a personal thing
I picked up while using the Unreal Engine software that is based in
<code>c++</code> which is similar in many ways to TypeScript, and it
also makes sense since it’s inline with the interface naming
convention.</li>
<li>Passing variables, defining and declaring components and everything
else is exactly as you’d expect - with the extra features of TypeScript
added on top of it.</li>
<li>Remember that class members are <code>public</code> by default while
using TypeScript, <strong>but, a the state of a class component must
always be public</strong>.</li>
</ol>
<p>It is also possible to modify the <code>tsconfig.json</code> or the
<code>tslint.json</code> to handle highlights in your IDE:</p>
<div class="sourceCode" id="cb108"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">{</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;extends&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;tslint:recommended&quot;</span><span class="ot">,</span> <span class="st">&quot;tslint-react&quot;</span><span class="ot">,</span> <span class="st">&quot;tslint-config-prettier&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;linterOptions&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;exclude&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;config/**/*.js&quot;</span><span class="ot">,</span></span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;node_modules/**/*.ts&quot;</span><span class="ot">,</span></span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;coverage/lcov-report/*.js&quot;</span></span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a>      <span class="ot">]</span></span>
<span id="cb108-9"><a href="#cb108-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb108-10"><a href="#cb108-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;rules&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb108-11"><a href="#cb108-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;jsx-no-lambda&quot;</span><span class="fu">:</span> <span class="kw">false</span></span>
<span id="cb108-12"><a href="#cb108-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb108-13"><a href="#cb108-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span></code></pre></div>
<p>TypeScript by default doesn’t like when lambda functions are used and
the IDE will hightlight them as an error. To disable this, add the
following rule into your <code>tslint.json</code> file:
<code>"jsx-no-lambda": false</code>.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="setting-up-prop-types"></a></p>
<h2 id="setting-up-general-react-prop-types">Setting up general React
prop types</h2>
<p>Like shown above, prop types are very encouraged in React.js. Some
prop types however, may not be as obvious as others, so here’s a small
list of the most common prop types you might end up defining while
programming your application:</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="reference-prop-types"></a></p>
<h3 id="references-react.createref-or-useref-api">References
(<code>React.createRef()</code> or <code>useRef</code> API)</h3>
<p>Passing down references is a bit tricky, because it <strong>depends
on which HTML element type you are referring to</strong>.</p>
<p>React provides the reference objects types out of the box, imported
from the <strong>React</strong> default export, from the
<code>react</code> package (or as a named export as well). The name of
the object type is <code>RefObject</code>, and it is essentially a <a
href="#generic-types">generic interface</a>. Here’s the definition:</p>
<div class="sourceCode" id="cb109"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> React<span class="op">.</span><span class="at">RefObject</span><span class="op">&lt;</span>T<span class="op">&gt;</span></span></code></pre></div>
<p>As I said earlier, the <strong>RefObject</strong> must be accompanied
by a <strong>generic type declaration</strong> (remember the angle
brackets typing in the Generics section? e.g. <code>&lt;T&gt;</code>),
that specifies <strong>which type of HTML element tag the reference
belongs to</strong>.</p>
<p>The methodology is the same for every HTML element, but the generic
type is respective to which HTML element we are referencing. Here’s an
example on how to apply the prop type to an SVG and to a button:</p>
<p><strong><em>SVG Element:</em></strong></p>
<pre class="tsx"><code>  interface ISVGProps {
    reference?: React.RefObject&lt;SVGSVGElement&gt;
    ...
  }

  const SVG = (props: ISVGProps) =&gt; {
    return (
      &lt;svg
        ref={props.reference}
        className={classes.Triangle}
        {...props} /&gt;
        &lt;path d=&#39;M0,0 10,10 20,0&#39; /&gt;
      &lt;/svg&gt;
    )
  }

  // ...

  &lt;SVG reference={myReference} /&gt;</code></pre>
<p><strong><em>Button Element:</em></strong></p>
<pre class="tsx"><code>  interface IButtonProps {
    reference?: React.RefObject&lt;HTMLButtonElement&gt;
  }

  const button = (props: IButtonProps) =&gt; {
    return (
      &lt;button ref={props.reference} /&gt;
    )
  }

  // ...

  &lt;Button reference={props.reference} /&gt;</code></pre>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="children-prop-types"></a></p>
<h3 id="react-children">React Children</h3>
<p>Declaring the children prop types might be a bit confusing as well.
The children could be a JSX element, a string, numbers, etc. Fortunately
and just like with references, the <strong>React default export
object</strong> includes the children prop type declaration. It’s called
<strong><code>ReactNode</code></strong>. The <code>ReactNode</code> is
<a href="#alias">a type alias</a>, defined as:</p>
<div class="sourceCode" id="cb112"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> React<span class="op">.</span><span class="at">ReactNode</span> <span class="op">=</span> <span class="dt">string</span> <span class="op">|</span> <span class="dt">number</span> <span class="op">|</span> <span class="dt">boolean</span> <span class="op">|</span> {} <span class="op">|</span> React<span class="op">.</span><span class="at">ReactElement</span><span class="op">&lt;</span><span class="dt">any</span><span class="op">,</span> <span class="dt">string</span> <span class="op">|</span> ((props<span class="op">:</span> <span class="dt">any</span>) <span class="kw">=&gt;</span> React<span class="op">.</span><span class="at">ReactElement</span><span class="op">&lt;</span><span class="dt">any</span><span class="op">,</span> <span class="dt">string</span> <span class="op">|</span> <span class="op">...</span> <span class="op">|</span> (<span class="kw">new</span> (props<span class="op">:</span> <span class="dt">any</span>) <span class="kw">=&gt;</span> React<span class="op">.</span><span class="at">Component</span><span class="op">&lt;</span><span class="dt">any</span><span class="op">,</span> <span class="dt">any</span><span class="op">,</span> <span class="dt">any</span><span class="op">&gt;</span>)<span class="op">&gt;</span> <span class="op">|</span> <span class="dt">null</span>) <span class="op">|</span> (<span class="kw">new</span> (props<span class="op">:</span> <span class="dt">any</span>) <span class="kw">=&gt;</span> React<span class="op">.</span><span class="at">Component</span><span class="op">&lt;...&gt;</span>)<span class="op">&gt;</span> <span class="op">|</span> React<span class="op">.</span><span class="at">ReactNodeArray</span> <span class="op">|</span> React<span class="op">.</span><span class="at">ReactPortal</span> <span class="op">|</span> <span class="kw">null</span> <span class="op">|</span> <span class="kw">undefined</span></span></code></pre></div>
<p>Pretty long, right? Good thing it exists. Here is an example of how
we can use it, along with the reference prop type:</p>
<pre class="tsx"><code>  interface IButtonProps {
    reference?: React.RefObject&lt;HTMLButtonElement&gt;
    children?: React.ReactNode
  }

  const button = (props: IButtonProps) =&gt; {
    return (
      &lt;button ref={props.reference}&gt;{props.children}&lt;/button&gt;
    )
  }

  // ...

  &lt;Button reference={props.reference}&gt;
    {props.children}
  &lt;/Button&gt;</code></pre>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="css-prop-types"></a></p>
<h3 id="css-properties-and-classes-prop-types">CSS Properties and
Classes Prop Types</h3>
<p>Now, let’s say we want to pass CSS classes and CSS style properties
as React props down to our button component. We know that CSS classes,
classNames in react, are of type <code>string</code>. However, CSS style
properties are made of an entirely different type definition.</p>
<p>The type definition can be imported from the <strong>React default
export object</strong> just like the previous type declarations. It’s
called <strong><code>CSSProperties</code></strong>, and it is defined
as:</p>
<div class="sourceCode" id="cb114"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">interface</span> CSSProperties <span class="kw">extends</span> <span class="bu">CSS</span><span class="op">.</span><span class="at">Properties</span><span class="op">&lt;</span><span class="dt">string</span> <span class="op">|</span> <span class="dt">number</span><span class="op">&gt;</span></span></code></pre></div>
<p>Here’s how we can pass CSS classes and style properties down to our
component:</p>
<pre class="tsx"><code>  interface IButtonProps {
    reference?: React.RefObject&lt;HTMLButtonElement&gt;
    children?: React.ReactNode
    // CSS
    style?: React.CSSProperties
    className?: string
  }

  const button = (props: IButtonProps) =&gt; {
    return (
      &lt;button
        style={props.style}
        className={props.className}
        ref={props.reference}&gt;
        {props.children}
      &lt;/button&gt;
    )
  }

  // ...

  &lt;Button
      className={classes.Button}
      style={{ backgroundColor: &#39;gold&#39;, color: &#39;#FFF&#39; }}
      reference={props.reference}&gt;
    {props.children}
  &lt;/Button&gt;</code></pre>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="general-prop-types"></a></p>
<h3
id="general-prop-types-e.g.-html-5-props-event-listeners-etc.">General
Prop Types (e.g. HTML 5 props, event listeners etc.)</h3>
<p>Let’s finish our button. We’ll now create an interface declaring most
of the possible HTML-5 properties a button can accept, such as mouse in
and out and click event listeners, CSS classes, CSS styles, form
properties (form, formaction, formenctype, etc.), value, among
others.</p>
<p><strong><em>Button.tsx</em></strong></p>
<pre class="tsx"><code>  interface IButtonProps {
    reference?: React.RefObject&lt;HTMLButtonElement&gt;
    children?: React.ReactNode
    data: IButtonData
  }

  interface IButtonData {
    // HTML Props
    type?: string
    name?: string
    value?: string | number | string[] | undefined
    onClick?: ((event: React.MouseEvent&lt;HTMLButtonElement, MouseEvent&gt;) =&gt; void) | undefined
    onMouseEnter?: ((event: React.MouseEvent&lt;HTMLButtonElement, MouseEvent&gt;) =&gt; void)
    onMouseLeave?: ((event: React.MouseEvent&lt;HTMLButtonElement, MouseEvent&gt;) =&gt; void)
    tabIndex?: number | undefined
    disabled?: boolean
    // HTML 5 Props
    autoFocus?: boolean
    form?: string
    formAction?: string
    formEncType?: string
    formMethod?: string
    formNoValidate?: boolean
    formTarget?: string
    // CSS
    style?: React.CSSProperties
    className?: string
  }

  const data: IButtonData = {...props.data}

  export const button = (props: IButtonProps) =&gt; {
    return (
      &lt;button ref={props.reference} {...data}&gt;
        {props.children}
      &lt;/button&gt;
    )
  }</code></pre>
<p>Let’s now call our button component inside an <strong>App.js</strong>
file then pass some props:</p>
<p><strong><em>App.js</em></strong></p>
<div class="sourceCode" id="cb117"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">/// ...</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">&lt;</span>Button reference<span class="op">=</span>{myButton}</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>{</span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;submit&#39;</span><span class="op">,</span></span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">className</span><span class="op">:</span> classes<span class="op">.</span><span class="at">Button</span><span class="op">,</span></span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a>      <span class="dt">style</span><span class="op">:</span> { <span class="dt">backgroundColor</span><span class="op">:</span> <span class="st">&#39;gold&#39;</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">&#39;#FFF&#39;</span> }<span class="op">,</span></span>
<span id="cb117-8"><a href="#cb117-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">tabIndex</span><span class="op">:</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span></span>
<span id="cb117-9"><a href="#cb117-9" aria-hidden="true" tabindex="-1"></a>      autoFocus<span class="op">,</span></span>
<span id="cb117-10"><a href="#cb117-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">formEncType</span><span class="op">:</span> <span class="st">&#39;multipart/form-data&#39;</span><span class="op">,</span></span>
<span id="cb117-11"><a href="#cb117-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">onClick</span><span class="op">:</span> onSubmitHandler</span>
<span id="cb117-12"><a href="#cb117-12" aria-hidden="true" tabindex="-1"></a>      <span class="co">// ...</span></span>
<span id="cb117-13"><a href="#cb117-13" aria-hidden="true" tabindex="-1"></a>    }<span class="op">&gt;</span></span>
<span id="cb117-14"><a href="#cb117-14" aria-hidden="true" tabindex="-1"></a>    {props<span class="op">.</span><span class="at">children</span>}</span>
<span id="cb117-15"><a href="#cb117-15" aria-hidden="true" tabindex="-1"></a>  <span class="op">&lt;/</span>Button<span class="op">&gt;</span></span></code></pre></div>
<p>For more information about button HTML properties, <a
href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button">give
this a read</a>.</p>
<p>The methodology is essentially the same for other components. When in
doubt about other HTML properties for any kind of element, you can
always consult the <a
href="https://developer.mozilla.org/en-US/docs/Web/">MDN docs</a>.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="setting-up-react-references"></a></p>
<h2
id="setting-up-react-references-react.createref-or-useref-api">Setting
up React References (React.createRef() or useRef API)</h2>
<p>Setting up a React reference is similar to how we pass down
references as props. Let’s set up the reference using the
<code>useRef</code> hook and the old <code>React.createRef()</code>.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p>Let’s start with the <code>useRef</code> API first:</p>
<p><a id="typescript-useref"></a></p>
<h3 id="typescript-useref">TypeScript &amp; useRef</h3>
<p>The general idea is to define the reference with a generic HTML type
while initializing them as <code>null</code>. This is to let TypeScript
know what kind of variable will be stored. Here’s an example using an
input element:</p>
<pre class="tsx"><code>  const input = () =&gt; {
    // Initialize the reference as null while letting TypeScript know it&#39;s an input element.
    const myInput = useRef&lt;HTMLInputElement&gt;(null)

    return (
      &lt;input ref={myInput} type=&#39;text&#39; /&gt;
    );
  }</code></pre>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="typescript-reactcreateref"></a></p>
<h3 id="typescript-react.createref">TypeScript &amp;
React.createRef</h3>
<p>Similarly to how we just created a reference using the
<code>useRef</code> API, let’s now use the <code>React.createRef</code>
API to set up a reference by initializing it as null and declaring the
HTML type:</p>
<pre class="tsx"><code>  /// ...

  class Input extends Component {
    constructor() {
      super()
      // Initialize the reference as null while letting TypeScript know it&#39;s an input element.
      this.myInput = React.createRef&lt;HTMLInputElement&gt;(null)
    }

    render() {
      return (
        &lt;input ref={this.myInput} type=&#39;text&#39; /&gt;
      )
    }
  }</code></pre>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<p><a id="setting-up-event-references"></a></p>
<h2 id="setting-up-event-handlers">Setting up Event Handlers</h2>
<blockquote>
<p>There are many types of events, some of which use other interfaces
based on the main Event interface. Event itself contains the properties
and methods which are common to all events.</p>
</blockquote>
<p>There are many types of events. Because of this, when accessing an
event, we must let TypeScript know what kind of event we are referring
to. <a
href="https://developer.mozilla.org/en-US/docs/Web/API/Event#Introduction">Here
is a list of all the possible events according to the official MDN
docs</a>.</p>
<p>Let’s create two event handlers, a <code>MouseEvent</code> handler
that will prevent the default event, trigger an alert displaying our
value, then reset our input’s value on upon clicking a button, and
finally, an <code>InputEvent</code> handler that will listen to our
input element value changes. Let’s expand our previous example:</p>
<pre class="tsx"><code>  /// ...
  
  const input = () =&gt; {
    const [inputValue, setInputValue] = React.useState(&#39;&#39;)

    // Initialize the reference as null while letting TypeScript know it&#39;s an input element.
    const myInput = useRef&lt;HTMLInputElement&gt;(null)

    /**
     * Our InputEvent listener.
     */
    const onChangeHandler = (event: React.InputEvent) =&gt; {
      const value = event.target.value
      console.log(myInput.current.value)
      setInputValue(value)
    }

    /**
     * Our MouseEvent listener.
     */
    const onClickHandler = (event: React.MouseEvent) =&gt; {
      event.preventDefault()
      alert(inputValue)
      setInputValue(&#39;&#39;)
    }

    return (
      &lt;form&gt;
        &lt;input
          ref={myInput}
          value={inputValue}
          onChange={onChangeHandler}
          type=&#39;text&#39; /&gt;
        &lt;button onClick={onClickHandler}&gt;
          Click me to reset the input field!
        &lt;/button&gt;
      &lt;/form&gt;
    );
  }</code></pre>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h2 id="typescript-and-react-hooks">TypeScript and React Hooks</h2>
<p>In this section, we will cover how to use the React Hooks implemented
in v16.8 in TypeScript. It will be assumed that the reader has at least
basic knowledge of Hooks and generics. Generics are
<strong>heavily</strong> used alongside Hooks, mostly to set the type(s)
of the variables that will be returned from the hooks, e.g., a state
variable returned from <code>useState</code>. In general, it is only
necessary to type a hook if it returns a value, here’s an example with
<code>useState</code>:</p>
<p>Given <code>useState</code> , we can specify the type of the
returning value by declaring it in TypeScript as follows:</p>
<pre class="tsx"><code>  const [state, setState] = useHook&lt;T&gt;;</code></pre>
<p>The variable <code>state</code>, will be of type <code>T</code>. If
we defined <code>T</code> as:</p>
<pre class="tsx"><code>  type T = number | null;</code></pre>
<p>Then <code>state</code> and <code>setState</code> will be defined
as:</p>
<pre class="tsx"><code>  const state: number | null;
  const setState: (value: number | null) =&gt; void;</code></pre>
<p>Or, as the React does it by applying generics for scalability:</p>
<pre class="tsx"><code>  type Dispatch&lt;A&gt; = (value: A) =&gt; void;
  type SetStateAction&lt;S&gt; = S | ((prevState: S) =&gt; S);

  const state: number | null;
  const setState: Dispatch&lt;SetStateAction&lt;number | null&gt;&gt;;</code></pre>
<p>If the above seems too complicated, don’t worry about it too much.
The reason they declare type aliases such as <code>Dispatch</code> is
because they are used in <em>many</em> places, and as we have covered
already, generics are great for that reason.</p>
<p>If your variable <strong>does not</strong> returns a hook, chances
are you will still need to type its parameters,
e.g. <code>useEffect</code>, or even <em>custom hooks</em>. We will talk
about custom hooks at the end of this section since it is the most
complicated topic due to the literal infinite hooks anyone could make,
nevertheless, we will try to showcase the typing of custom hooks similar
to how React types their own “default” hooks by taking a look at some of
their own hooks as examples, with the intention of making them as
general and broad as possible.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="usestate">useState</h3>
<p>Arguably the most basic hook. Because of this, let’s discuss one more
point about the basics of TypeScript and React Hooks. There are two ways
to type a hook function that returns a value, assuming the hook is
similar to <code>useState</code> where it accepts generic types:</p>
<ol type="1">
<li>By typing the returned value.</li>
<li>By typing the hook.</li>
</ol>
<p>As shown above, <code>useState</code> will return an array with two
values. The first value of the array will be our that can be defined
as:</p>
<p>By typing the returned value:</p>
<pre class="tsx"><code>const [state, setState]: [S: Dispatch&lt;SetStateAction&lt;S&gt;&gt;] = useState(initialState);</code></pre>
<p>By typing the hook:</p>
<pre class="tsx"><code>const [state, setState] = useState&lt;S&gt;(initialState);</code></pre>
<p>Both:</p>
<pre class="tsx"><code>const [state, setState]: [S: Dispatch&lt;SetStateAction&lt;S&gt;&gt;] = useState&lt;S&gt;(initialState);</code></pre>
<p>Obviously, option number 3 is borderline overkill. Option number 2 is
easily the most readable of the three and will be the most commonly
typed expression you might come across. Let’s have a look a more
practical example of a hero slider component by building up its initial
settings:</p>
<pre class="tsx"><code>  interface ISettings {
    slidingDuration: number
    isSmartSliding: boolean
    shouldAutoplay: boolean
    width: WidthProperty&lt;string | number&gt;
    height: HeightProperty&lt;string | number&gt;
  }

  /**
   * Initial settings for the slider.
   */
  const initialSettings: ISettings = {
    slidingDuration: 500,
    isSmartSliding: true,
    shouldAutoplay: true,
    autoplayDuration: 8000,
    width: &#39;100%&#39;,
    height: &#39;100%&#39;,
    ...props.settings
  }

  const [settings, setSettings] = React.useState&lt;ISettings&gt;(initialSettings)

  
  /**
   * Subscribes to any changes made to the settings, then re-sets them through `setSettings`.
   */
  React.useEffect(() =&gt; {
    setSettings({
      ...settings,
      ...props.settings as ISettings
    })
  }, [props.settings])</code></pre>
<p>The example above is a snippet of <a
href="https://github.com/rmolinamir/hero-slider/blob/master/src/Slider/HeroSlider.tsx">this
component</a>. The slider is being configured with its initial default
settings, or any other settings the developer may have passed down to
it. Then, by setting up a subscription to any changes made to the
<code>settings</code> property, we use the <code>useEffects</code> hook
that will re-set the settings by executing the dispatched returned from
<code>useState</code>.</p>
<p>Finally, as you may have already been able to tell;
<code>useState</code> is defined by the React team as:</p>
<pre class="tsx"><code>  function useState&lt;S&gt;(initialState: S | (() =&gt; S)): [S, Dispatch&lt;SetStateAction&lt;S&gt;&gt;];</code></pre>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="useeffect">useEffect</h3>
<p>As stated above, the <code>useEffects</code> hook will execute
whenever any changes are made to any variable(s) we subscribe to.
Although are no typings in <code>useEffect</code>, it is worth nothing
that TypeScript will function normally from within the scope of an
<code>useEffect</code> hook, as regular. It is also worth noting that <a
href="https://github.com/facebook/create-react-app/issues/6880#issuecomment-488158024">there
is quite a discussion going on about <code>useEffects</code> and how
actions and dispatchers are handled, I recommend giving it a read,
especially the linked comment</a>.</p>
<p>In any case, let’s take a look at how <code>useEffect</code> is
defined:</p>
<pre class="tsx"><code>  function useEffect(effect: EffectCallback, deps?: DependencyList): void;

  type EffectCallback = () =&gt; (void | (() =&gt; void | undefined));
  type DependencyList = ReadonlyArray&lt;any&gt;;

  interface ReadonlyArray&lt;T&gt; {
    readonly length: number;
    toString(): string;
    toLocaleString(): string;
    indexOf(searchElement: T, fromIndex?: number): number;
    ...
  }</code></pre>
<p>The point of showcasing how the React team defines their official
hooks, is to give the reader an idea of how should custom hooks be typed
and defined, and to be aware of the best coding practices of today.</p>
<p>It’s worth nothing that <code>ReadonlyArray&lt;T&gt;</code> is
actually defined by TypeScript, <a
href="https://www.typescriptlang.org/docs/handbook/interfaces.html">and
to quote the official documentation about this type definition</a>,
<strong>TypeScript comes with a <code>ReadonlyArray&lt;T&gt;</code> type
that is the same as <code>Array&lt;T&gt;</code> with all mutating
methods removed</strong>.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="usecontext">useContext</h3>
<p>Probably the most powerful hook when it comes to practicality
alongside <code>useReducer</code>, <code>useContext</code> accepts a
context returned from <code>React.createContext</code> and then returns
the current value of that context. Having said that, you might already
have guessed how <code>useContext</code> is defined, but let’s give it a
go anyways:</p>
<pre class="tsx"><code>  ...

  type Provider&lt;T&gt; = ProviderExoticComponent&lt;ProviderProps&lt;T&gt;&gt;;
  type Consumer&lt;T&gt; = ExoticComponent&lt;ConsumerProps&lt;T&gt;&gt;;

  interface Context&lt;T&gt; {
      Provider: Provider&lt;T&gt;;
      Consumer: Consumer&lt;T&gt;;
      displayName?: string;
  }

  function useContext&lt;T&gt;(context: Context&lt;T&gt;): T;</code></pre>
<p>Generics all over the place! They provide us with a way to build any
number of reusable, consistent, and well defined API.</p>
<p>Here is a basic example of <code>useContext</code>, which provides
CSS styling to buttons that are within the context:</p>
<p>Let’s start by defining the context created by React:</p>
<pre class="tsx"><code>  interface IContextProps {
    // CSS Classes
    className?: string
    classNames: IClassNamesByButton
    setGlobalClassName?: (className: string) =&gt; void
    setCustomClassname?: (classNameKey:string, className: string) =&gt; void
    // CSS Properties
    style?: React.CSSProperties
    setStyle?: (CSSstyles: React.CSSProperties) =&gt; void
    // React Children
    children?: React.ReactNode
  }

  /**
   * Button functionality and context.
   */
  const initialContext: IContextProps = {
    className: [classes.Button, classes.Disabled].join(&#39; &#39;),
    classNames: classNamesByButton,
    style: undefined,
  }

  const Context: React.Context&lt;IContextProps&gt; = React.createContext(initialContext)</code></pre>
<p>Imported the context and other necessary dependencies, then using
<code>useContext</code>:</p>
<pre class="tsx"><code>// ...
const useContext = { React }
import { Context, capitalizeString } from &#39;./context&#39;
import classes from &#39;./Button.css&#39;

interface IButtonProps extends IButtonData {
  button: string,
  reference?: React.RefObject&lt;HTMLButtonElement&gt;
  children?: React.ReactNode
  blockButton?: boolean
}

const ButtonComponent = (props: IButtonProps) =&gt; {
  const context = useContext(Context)
  const { className, classNames } = context

  const buttonClasses: (string | undefined)[] = [className]

  // Classes are picked depending on the `button` prop of type string
  const button: string | undefined = props.button ? capitalizeString(props.button) : undefined

  // Boolean to keep track of matched CSS classes, sort of like a hash.
  let bIsMatch = false

  // Selects a className from the imported context.
  if (button) {
    if (classNames[button]) {
      bIsMatch = true
      buttonClasses.push(classNames[button])
    }
  }

  // In case there were no matches, then set the button class equal to the Default class.
  if (!bIsMatch) {
    buttonClasses.push(classes.Default)
  }

  /**
   * We are omitting the blockButton, children, and reference
   * props from the data button properties.
   */
  const { blockButton, reference, children, ...data } = props

  /**
   * If blockButton is true, then apply the BlockButton class.
   */
  if (blockButton) {
    buttonClasses.push(classes.BlockButton)
  }

  /**
   * Build the button data object that will be passed down to the Button component.
   */
  const buttonData: IButtonData = ButtonData.setData( { ...data }, buttonClasses)

  /**
   * CSS Properties.
   */
  buttonData.style = context.style || props.style

  return (
    &lt;Button
      reference={reference}
      data={buttonData}
    &gt;
      {children}
    &lt;/Button&gt;
  )
}

export default ButtonComponent
</code></pre>
<p>Lets have a look at a more advanced example of
<code>useContext</code> typing, that composes the multiple contexts
argument of a higher-order component, which then passes down the
composed contexts as prop to the wrapped component:</p>
<pre class="tsx"><code>  interface IContexts {
    [propName: string]: React.Context&lt;any&gt;
  }

  const withContexts = (
      WrappedComponent: React.JSXElementConstructor&lt;any&gt;,
      Contexts: IContexts,
    ) =&gt; {
    return (props: any) =&gt; {
      const contextKeys: string[] = Object.keys(Contexts)

      /**
       * Reducing the array of context keys, based on the `Contexts`
       * object, into another object with the returned context values
       * from `useContext`.
       */
      const usedContexts = contextKeys.reduce(
        (
          contexts: { [propName: string]: any },
          key: string
        ) =&gt; {
          return Object.assign(
            contexts,
            { [key]: useContext&lt;any&gt;(Contexts[key]) }
          )
        },
        {} // Initial value
      )

      const newProps: { [propName: string]: any } = {
        usedContexts,
        ...props
      }

      return (
        &lt;WrappedComponent {...newProps} /&gt;
      );
    }
  }</code></pre>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="usereducer">useReducer</h3>
<p>Perhaps the “primordial” hook, many hooks are based on how
<code>useReducer</code> works, including some of the oficial React hooks
such as <code>useState</code>. This, of course, thanks to Redux and its
popularity. As you might know, <code>useReducer</code> is used mainly
whenever you need to tackle at least one of the two following
scenarios:</p>
<ol type="1">
<li>You’re handling complex state logic, meaning multiple state values
for example.</li>
<li>You find yourself in need of multiple action creators for a single
state.</li>
</ol>
<p>Or both! Whatever may be the case, using TypeScript with
<code>useReducer</code> is not too hard, but it’s certainly a bit
tedious because there are many variables involved, assuming that at
least the basics of <code>useReducer</code> are known. The good news is
that every reducer will follow the same steps whenever typing it. Before
going into details about how to define types for the reducer, let’s have
a look at how the React team defined <code>useReducer</code>:</p>
<div class="sourceCode" id="cb135"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">useReducer</span><span class="op">&lt;</span>R <span class="kw">extends</span> Reducer<span class="op">&lt;</span><span class="dt">any</span><span class="op">,</span> <span class="dt">any</span><span class="op">&gt;&gt;</span>(</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>    reducer<span class="op">:</span> R<span class="op">,</span></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>    initialState<span class="op">:</span> ReducerState<span class="op">&lt;</span>R<span class="op">&gt;,</span></span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>    initializer<span class="op">?:</span> <span class="dt">undefined</span></span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a>  )<span class="op">:</span> [ReducerState<span class="op">&lt;</span>R<span class="op">&gt;,</span> Dispatch<span class="op">&lt;</span>ReducerAction<span class="op">&lt;</span>R<span class="op">&gt;&gt;</span>]<span class="op">;</span></span></code></pre></div>
<p>The first thing you might notice, is that it is very similar to
<code>useState</code>. As mentioned above, <code>useState</code> is
actually a very simplified version of <code>useReducer</code>, where you
have a dispatcher and a state variable. The types
<code>ReducerState</code> and <code>ReducerAction</code> are also
defined as:</p>
<div class="sourceCode" id="cb136"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">type</span> Reducer<span class="op">&lt;</span>S<span class="op">,</span> A<span class="op">&gt;</span> <span class="op">=</span> (prevState<span class="op">:</span> S<span class="op">,</span> action<span class="op">:</span> A) <span class="kw">=&gt;</span> S<span class="op">;</span></span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">type</span> ReducerState<span class="op">&lt;</span>R <span class="kw">extends</span> Reducer<span class="op">&lt;</span><span class="dt">any</span><span class="op">,</span> <span class="dt">any</span><span class="op">&gt;&gt;</span> <span class="op">=</span> R <span class="kw">extends</span> Reducer<span class="op">&lt;</span><span class="kw">infer</span> S<span class="op">,</span> <span class="dt">any</span><span class="op">&gt;</span> <span class="op">?</span> S <span class="op">:</span> <span class="dt">never</span><span class="op">;</span></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">type</span> ReducerAction<span class="op">&lt;</span>R <span class="kw">extends</span> Reducer<span class="op">&lt;</span><span class="dt">any</span><span class="op">,</span> <span class="dt">any</span><span class="op">&gt;&gt;</span> <span class="op">=</span> R <span class="kw">extends</span> Reducer<span class="op">&lt;</span><span class="dt">any</span><span class="op">,</span> <span class="kw">infer</span> A<span class="op">&gt;</span> <span class="op">?</span> A <span class="op">:</span> <span class="dt">never</span><span class="op">;</span></span></code></pre></div>
<p>The main take of this, is that reducers are functions that take a
previous state as a first argument, and an action <strong>(which
includes the payload)</strong> as a second argument. This action will
let the programmer decide what to do in the reducer. Let’s now compare
how your typical <code>useReducer</code> looks like in JavaScript to a
typical <code>useReducer</code> in TypeScript:</p>
<p><strong>JavaScript</strong>:</p>
<div class="sourceCode" id="cb137"><pre
class="sourceCode jsx"><code class="sourceCode javascriptreact"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> [state<span class="op">,</span> dispatch] <span class="op">=</span> React<span class="op">.</span><span class="fu">useReducer</span>(reducer<span class="op">,</span> initialState)</span></code></pre></div>
<p><strong>TypeScript</strong>:</p>
<pre class="tsx"><code>  const [state, dispatch] = React.useReducer&lt;React.Reducer&lt;IInputState, IReducerAction&gt;&gt;(reducer, initialState)</code></pre>
<p>That’s it! That’s all there is to typing an <code>useReducer</code>.
However, let’s have a look at a real <code>useReducer</code> example
that handles an input’s value, validity, and a touched state that
becomes <code>true</code> when interacted with. This example will
cover:</p>
<ol type="1">
<li>TypeScript <code>interface</code> definitions for the
<code>state</code> (and <code>initialState</code>),
<code>dispatch</code> (actions), and <code>reducer</code>.</li>
<li>A TypeScript <code>enum</code> definition to handle a switch
statement and its cases inside the <code>reducer</code>, similar to
reducer stores that are commonly used in Redux and their action
types.</li>
</ol>
<p>Having said all that, to sum up, any and every
<code>useReducer</code> can be built by following these steps:</p>
<ol type="1">
<li>Define and declare all of the necessary <code>interface</code> and
<code>enum</code> types for our reducer and its variables.</li>
<li>Define a reducer, and apply our defined types to it, the reducer
will typically look like this:</li>
</ol>
<pre class="tsx"><code>  const reducer = (state: IState, action: IReducerAction) =&gt; {
    const { handler, ...newState } = action
    switch (handler) {
      case EActionHandler.TYPE: // Enum member
        return {
          ...state,
          ...newState
        }
      default:
        throw new Error()
    }
  }</code></pre>
<ol start="3" type="1">
<li>Lastly, define a <code>initialState</code> variable if needed, and a
<code>useReducer</code> hook inside the React component, then it’s good
to go. The <code>useReducer</code> declaration will almost always look
like this:</li>
</ol>
<pre class="tsx"><code>  const [state, dispatch] = React.useReducer&lt;React.Reducer&lt;IState, IReducerAction&gt;&gt;(reducer, initialState)</code></pre>
<p>Let’s apply these steps to our example. Let’s begin by typing the
necessary <code>interface</code> structures for the following variables,
and the reducer <code>enum</code> for the action types:</p>
<pre class="tsx"><code>  /**
   * REDUCER TYPE DEFINITIONS:
   */

  // `reducer` action types.
  enum EOnChangeHandler {
    VALUE,
    VALID,
    TOUCHED,
    STATE
  }

  // `state` and `initialState`.
  interface IInputState {
    identifier?: string
    value?: value
    validationMessage: string
    className?: string
    valueType?: string
    validation?: IInputValidation
    style?: React.CSSProperties
    placeholder?: string
    elementConfig?: IInputConfig
    required?: boolean
    valid?: boolean
    shouldValidate?: boolean
    touched?: boolean
  }

  // Interface for the `validation` property of `IInputState`.
  interface IInputValidation {
    customRules?: ICustomRulesValidation
    required?: boolean
    email?: boolean
    number?: boolean
    minLength?: number
    maxLength?: number
  }

  // For the `dispatch` actions/arguments.
  interface IReducerAction extends IInputState {
    handler: EOnChangeHandler
    valid: boolean
  }</code></pre>
<p>Next, let’s apply define a <code>reducer</code> function and apply
typing. Here’s where the <code>interface</code> and <code>enum</code>
types come in:</p>
<pre class="tsx"><code>  const reducer = (state: IInputState, action: IReducerAction) =&gt; {
    const { handler, ...newState } = action
    switch (handler) {
      case EOnChangeHandler.STATE:
        return {
          ...state,
          ...newState
        }
      case EOnChangeHandler.TOUCHED:
        state.touched = newState.touched
        return state
      case EOnChangeHandler.VALID:
        state.valid = newState.valid
        return state
      case EOnChangeHandler.VALUE:
        state.value = newState.value
        return state
      default:
        throw new Error()
    }
  }</code></pre>
<p>Let’s now define our <code>initialState</code> variable, and our
<code>useReducer</code> hook inside our input component, and then we’ll
plug everything up:</p>
<pre class="tsx"><code>  const MyInput = withContext(React.memo((props: IInputProps) =&gt; {
    /**
     * Input initial state, which dictates how it will behave (validation, validity, required, etc.).
     */
    const initialState: IInputState = {
      identifier: props.identifier || (`${displayName}_${props.placeholder || props.type || &#39;default&#39;}`),
      value: props.value || &#39;&#39;,
      validationMessage: &#39;&#39;,
      valueType: props.valueType || props.placeholder &amp;&amp; props.placeholder.toLowerCase(),
      placeholder: props.placeholder,
      validation: {
        required: props.required || false,
        email: props.type === &#39;email&#39; &amp;&amp; true,
        ...props.validation
      },
      required: props.required || false,
      shouldValidate: Boolean(props.validation) || false,
      valid: props.valid || false,
      touched: props.touched || false
    }
    const [state, dispatch] = React.useReducer&lt;React.Reducer&lt;IInputState, IReducerAction&gt;&gt;(reducer, initialState)
  }</code></pre>
<p>Finally, let’s plug everything up and see our reducer in action:</p>
<pre class="tsx"><code>  /**
   * REDUCER TYPE DEFINITIONS:
   */
  interface IInputState {
    identifier?: string
    value?: value
    validationMessage: string
    className?: string
    valueType?: string
    validation?: IInputValidation
    style?: React.CSSProperties
    placeholder?: string
    elementConfig?: IInputConfig
    required?: boolean
    valid?: boolean
    shouldValidate?: boolean
    touched?: boolean
  }

  // Interface for the `validation` property of `IInputState`
  interface IInputValidation {
    customRules?: ICustomRulesValidation
    required?: boolean
    email?: boolean
    number?: boolean
    minLength?: number
    maxLength?: number
  }

  interface IReducerAction extends IInputState {
    handler: EOnChangeHandler
    valid: boolean
  }

  enum EOnChangeHandler {
    VALUE,
    VALID,
    TOUCHED,
    STATE
  }

  const reducer = (state: IInputState, action: IReducerAction) =&gt; {
    const { handler, ...newState } = action
    switch (handler) {
      case EOnChangeHandler.STATE:
        return {
          ...state,
          ...newState
        }
      case EOnChangeHandler.TOUCHED:
        state.touched = newState.touched
        return state
      case EOnChangeHandler.VALID:
        state.valid = newState.valid
        return state
      case EOnChangeHandler.VALUE:
        state.value = newState.value
        return state
      default:
        throw new Error()
    }
  }

  const MyInput = React.memo((props: IInputProps) =&gt; {
    /**
     * Input initial state.
     */
    const initialState: IInputState = {
      identifier: props.identifier,
      value: props.value || &#39;&#39;,
      validationMessage: &#39;&#39;,
      valueType: props.valueType,
      placeholder: props.placeholder,
      validation: {
        required: props.required || false,
        email: props.type === &#39;email&#39; &amp;&amp; true,
        ...props.validation
      },
      required: props.required || false,
      shouldValidate: Boolean(props.validation) || false,
      valid: props.valid || false,
      touched: props.touched || false
    }

    const [state, dispatch] = React.useReducer&lt;React.Reducer&lt;IInputState, IReducerAction&gt;&gt;(reducer, initialState)
  
    /**
     * -------------------------------------
     * ----------REDUCER DISPATCHERS--------
     * -------------------------------------
     * `onChangeHandler` handles the input `onChange` event.
     * Evaluates the validity of the value respective to how it&#39;s set up through `checkValidity`.
     * Executes the `props.onChange` callback if it exists after evaluating the value and saving it in the state.
     */
    const onChangeHandler = (event: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
      const value = event.target.value
      const validation = checkValidity(value, state.validation, state.valueType)
      const action: IReducerAction = {
        valid: validation.status,
        validationMessage: validation.message || state.validationMessage,
        handler: EOnChangeHandler.STATE,
        value: value,
        touched: value &amp;&amp; value !== &#39;&#39; ? true : false
      }
      dispatch({ ...action })
    }

    /**
     * Subscribe to any changes to the `state.value` and `state.valid` properties.
     * Execute `onChange` if any of them change, which will be handled
     * by the `reducer`.
     */
    React.useEffect(() =&gt; {
      if (props.onChange) {
        props.onChange(state.identifier, state.value, state.valid)
      }
    }, [state.value, state.valid])

    /**
     * The input element configuration props.
     */
    const inputProps: IInputElementProps = {
      ...
      className: inputClasses.join(&#39; &#39;),
      elementConfig: props.elementConfig,
      required: props.required || false,
      value: state.value,
      valid: state.valid,
      touched: state.touched,
      shouldValidate: state.shouldValidate,
      onChangeHandler: onChangeHandler,
      style: props.disabled ? { opacity: 0.5, pointerEvents: &#39;none&#39; } : undefined
    }

    // A lot more code needed, but let&#39;s focus on the reducer.

    return (
      &lt;Password {...inputProps} /&gt;
    )
  })</code></pre>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="usecallback">useCallback</h3>
<p>Both <code>useCallback</code> and <code>useMemo</code> are commonly
compared to <code>shouldComponentUpdate</code>. This is because both of
the previously mentioned hooks return <a
href="https://en.wikipedia.org/wiki/Memoization"><em>memoized</em></a>
callbacks and values respectively. Memoization is basically caching the
results of expensive functions in case they are executed again, and if
so, then the cached values will be returned instead of executing the
functions, which in turn will increase performance.</p>
<p>To summarize, they are commonly used to increase performance, which
is the reason they’re compared to <code>shouldComponentUpdate</code>,
and, <code>useCallback</code> will be used for functions whereas
<code>useMemo</code> will be used for values.</p>
<p><code>useCallback</code> is defined as:</p>
<div class="sourceCode" id="cb145"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> useCallback<span class="op">&lt;</span>T <span class="kw">extends</span> (<span class="op">...</span>args<span class="op">:</span> <span class="dt">any</span>[]) <span class="kw">=&gt;</span> <span class="dt">any</span><span class="op">&gt;</span>(callback<span class="op">:</span> T<span class="op">,</span> deps<span class="op">:</span> DependencyList)<span class="op">:</span> T<span class="op">;</span></span></code></pre></div>
<p>As you can see, it’s very simply. Notice the following:</p>
<ol type="1">
<li>It is defined by <code>T</code>, which extends to a function that
accepts any number of arguments of <code>any</code> type, and can return
values of <code>any</code> types. Basically, any function.</li>
<li>As a second argument, it accepts a dependency list. This dependency
list is nothing more than a read only array that the hook will subscribe
to. If any of them change, the hook will execute.
<code>DependencyList</code> is defined as:</li>
</ol>
<div class="sourceCode" id="cb146"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">type</span> DependencyList <span class="op">=</span> ReadonlyArray<span class="op">&lt;</span><span class="dt">any</span><span class="op">&gt;;</span></span></code></pre></div>
<p>Remember that <code>ReadonlyArray</code> is a native TypeScript type.
Moving on, using <code>useCallback</code> in TypeScript is very easy
since it’s configured to accept <code>any</code> types. Here’s a simple
yet shallow example of a real-life application of
<code>useCallback</code>.</p>
<p>The following <code>useCallback</code> application will return a
function that will be <em>throttled</em> in a later hook (which is
actually featured in the custom hooks section). This function will
execute whenever the user scrolls through the page, and will mix two
colors depending on where the user is and depending on which RBG
channels colors should be mixed. Finally, the new mixed color is set
through the <code>setBackgroundColor</code> dispatcher.</p>
<div class="sourceCode" id="cb147"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> onThrottledScrollHandler <span class="op">=</span> <span class="fu">useCallback</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> currentScrollHeight <span class="op">=</span> <span class="bu">window</span><span class="op">.</span><span class="at">pageYOffset</span><span class="op">;</span></span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> [colorOne<span class="op">,</span> colorTwo] <span class="op">=</span> colors<span class="op">;</span></span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> mixRatio <span class="op">=</span> currentScrollHeight <span class="op">/</span> scrollHeight<span class="op">;</span></span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> mixedColor <span class="op">=</span> <span class="fu">mixColors</span>(</span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a>      [colorOne<span class="op">,</span> colorTwo]<span class="op">,</span></span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mixRatioNumberToTriple</span>(mixRatio<span class="op">,</span> mixRatioChannels)</span>
<span id="cb147-8"><a href="#cb147-8" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb147-9"><a href="#cb147-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setBackgroundColor</span>(mixedColor)<span class="op">;</span></span>
<span id="cb147-10"><a href="#cb147-10" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span> [backgroundColor<span class="op">,</span> colors<span class="op">,</span> scrollHeigh<span class="op">,</span> mixRatioChannels])<span class="op">;</span></span>
<span id="cb147-11"><a href="#cb147-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-12"><a href="#cb147-12" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> throttled <span class="op">=</span> <span class="fu">useThrottle</span>(onThrottledScrollHandler<span class="op">,</span> throttleLimit)<span class="op">;</span></span>
<span id="cb147-13"><a href="#cb147-13" aria-hidden="true" tabindex="-1"></a>  <span class="op">...</span></span></code></pre></div>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="usememo">useMemo</h3>
<p>Very similar to <code>useCallback</code>. As mentioned previously,
<code>useMemo</code> is commonly compared to
<code>shouldComponentUpdate</code>.</p>
<blockquote>
<p>This is because both of the previously mentioned hook return <a
href="https://en.wikipedia.org/wiki/Memoization"><em>memoized</em></a>
callbacks and values respectively. Memoization is basically caching the
results of expensive functions in case they are executed again, and if
so, then the cached values will be returned instead of executing the
functions, which in turn will increase performance.</p>
</blockquote>
<p>Instead of returning a function as <code>useCallback</code> does,
<code>useMemo</code> will return a value. The React team defines
<code>useMemo</code> as:</p>
<div class="sourceCode" id="cb148"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">useMemo</span><span class="op">&lt;</span>T<span class="op">&gt;</span>(factory<span class="op">:</span> () <span class="kw">=&gt;</span> T<span class="op">,</span> deps<span class="op">:</span> DependencyList <span class="op">|</span> <span class="dt">undefined</span>)<span class="op">:</span> T<span class="op">;</span></span></code></pre></div>
<p>Same as every single hook shown before, generics are dominant.
<code>useMemo</code> will take a <em>factory</em> or <em>create</em>
function that returns a value of type <code>T</code> (think of React
components, for example), and a dependency list to subscribe to. If any
of the values in the list change, the hook will execute again. Otherwise
it’ll simply return the cached result!</p>
<p><code>useMemo</code> is a very, very useful hook. It can be
implemented in many, many places within any application to improve
performances. Here are some very simple examples of <code>useMemo</code>
used inside <a
href="https://github.com/rmolinamir/hero-slider/blob/master/src/Slider/HeroSlider.tsx">this
hero-slider component</a>.</p>
<p>There are two worker functions declared as <code>getChildren</code>
and <code>setSlides</code> that can potentially be performance
expensive. These functions will filter the <code>React.Children</code>
props, and filter them to set up the slides of the hero slider according
to the previously set settings. By using <code>useMemo</code>, we can
memoize the initial returned values, so that every time these functions
are executed in the future, the memoized values will be returned
instead, and thus increasing performance.</p>
<pre class="tsx"><code>  const heroSlider = React.memo((props: ISliderProps) =&gt; {
    ...

    /**
     * `getChildren` will categorize the `props.children` elements array into the `children` object.
     */
    const getChildren = (): IChildren =&gt; {
      const children: IChildren = {
        slidesArray: [],
        navbarsArray: [],
        autoplayButtonsArray: [],
        othersArray: [],
        navDescriptions: []
      }
      React.Children.toArray(props.children).forEach(child =&gt; {
        if (typeof child.type === &#39;function&#39; &amp;&amp; React.isValidElement(child)) {
          // tslint:disable-next-line:variable-name
          const RFC_Child: React.FunctionComponent = child.type as React.FunctionComponent
          const displayName = RFC_Child.displayName
          switch (displayName) {
            case &#39;hero-slider/slide&#39;:
              const props = child.props as ISlideProps
              children.navDescriptions.push(props.navDescription)
              return children.slidesArray.push(child)
            case &#39;hero-slider/nav&#39;:
            case &#39;hero-slider/menu-nav&#39;:
              return children.navbarsArray.push(child)
            case &#39;hero-slider/autoplay-button&#39;:
              return children.autoplayButtonsArray.push(child)
            default:
              return children.othersArray.push(child)
          }
        }
        return children.othersArray.push(child)
      })
      return children
    }

    /**
     * `setSlides` clones the necessary properties for each slide to work.
     */
    const setSlides = () =&gt; {
      return React.Children.map(slidesArray, (child, index) =&gt; {
        const currentSlide = index + 1
        return (
          React.cloneElement(
            child as React.ReactElement&lt;ISlideProps&gt;,
            {
              isActive: activeSlide === currentSlide,
              isDoneSliding: isDoneSliding,
              slidingAnimation: settings.slidingAnimation
            }
          )
        )
      })
    }

    /**
     * Sets up initial slides array, `useMemo` is used for performance optimization since a loop is
     * ran inside `getChildren`.
     */
    const children: IChildren = React.useMemo(() =&gt; {
      return getChildren()
    }, [])

    /**
     * Performance optimization to avoid re-rendering after mouse over captures.
     * Only updates if `activeSlide` or `isDoneSliding` change.
     */
    const slides = React.useMemo(() =&gt; {
      return children.slidesArray &amp;&amp; setSlides()
    }, [activeSlide, isDoneSliding])

    return (
      &lt;div
        {...}
      &gt;
        {slides}
        {...}
      &lt;/div&gt;
    );
  }</code></pre>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="useref">useRef</h3>
<p><code>useRef</code> is a hook commonly used to set up a reference to
a DOM node. Unfortunately, most articles about this hook touch upon
using <code>useRef</code> <em>only</em> to setup references to DOM
nodes, as just previously mentioned. In reality, <code>useRef</code>
sets a reference to a mutable object which is then paired to a DOM node,
but, there are <em>a lot</em> of equally or even more useful
applications.</p>
<p>Before talking about different <code>useRef</code> applications other
than DOM nodes, it is worth mentioning that <code>useRef</code> behaves
very similarly to pointers. <a
href="https://en.wikipedia.org/wiki/Pointer_(computer_programming)">In
computer science, a <em>pointer</em> is defined as</a>:</p>
<blockquote>
<p>A pointer references a location in memory, and obtaining the value
stored at that location is known as dereferencing the pointer. As an
analogy, a page number in a book’s index could be considered a pointer
to the corresponding page; dereferencing such a pointer would be done by
flipping to the page with the given page number and reading the text
found on that page.</p>
</blockquote>
<p>The most obvious comparison would be C++ pointers. With the
references returned by <code>useRef</code> we can achieve very similar
results, and instead of setting up references for DOM nodes, we can set
up references to handlers within a component, for example.</p>
<p><code>useRef</code> is defined by the React team as:</p>
<div class="sourceCode" id="cb150"><pre
class="sourceCode ts"><code class="sourceCode typescript"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">useRef</span><span class="op">&lt;</span>T<span class="op">&gt;</span>(initialValue<span class="op">:</span> T)<span class="op">:</span> MutableRefObject<span class="op">&lt;</span>T<span class="op">&gt;;</span></span></code></pre></div>
<p>Very, very straightforward, but what’s important here is to take a
look at the <code>MutableRefObject</code> interface:</p>
<pre class="tsx"><code>  interface MutableRefObject&lt;T&gt; {
    current: T;
  }</code></pre>
<p>It is quite literally just an object defined as
<code>{ current: T }</code>. Where <code>T</code>, can be anything. The
React team has a very good explanation as to how <code>useRef</code>
works:</p>
<blockquote>
<p><code>useRef</code> returns a mutable ref object whose
<code>.current</code> property is initialized to the passed argument
(<code>initialValue</code>). The returned object will persist for the
full lifetime of the component. Note that <code>useRef()</code> is
useful for more than the <code>ref</code> attribute. It’s handy for
keeping any mutable value around similar to how you’d use instance
fields in classes.</p>
</blockquote>
<p>As mentioned above at the introduction of this section, and to
emphasize what the React team has to say about <code>useRef</code>, we
can use this hook to set mutable values that will persist until the
component is unmounted.</p>
<p>Instead of providing a generic and simple example about using
<code>useRef</code> to set a reference to a DOM node that you could find
anywhere, let’s look at relatively advanced yet simple applications of
<code>useRef</code>, by using the previously referenced <a
href="https://github.com/rmolinamir/hero-slider/blob/master/src/Slider/HeroSlider.tsx">hero-slider
component</a> in the <code>useMemo</code> section as a guide.</p>
<p>In the <code>hero-slider</code> component, a couple features are
available that use <code>useRef</code> to their advantage:</p>
<p>The first feature are watchers that help both the autoplay instance
of the hero-slider and the next, previous or specific slide setters to
dictate if they should change the slide, or wait until the slider is
actually done sliding, and to also make them self-aware of which slide
is currently active.</p>
<p>We will use two references to achieve this.
<code>activeSlideWatcher</code> and <code>isDoneSlidingWatcher</code>
are a mutable objects that will persist for the full lifetime of the
hero-slider component.</p>
<ul>
<li><code>isDoneSlidingWatcher</code> will serve as a pointer in case a
<code>nextSlide</code> or any other event is called from an upper scope,
like the autoplay instance.</li>
<li><code>activeSlideWatcher</code> serves as a pointer to the
<code>activeSlide</code> so that the auto play instance won’t be out of
sync with the current active slide. It is updated during the
<code>useEffect</code> hooks subscribed to the <code>activeSlide</code>
state variable whenever the user changes slide:</li>
</ul>
<pre class="tsx"><code>  ...

  const isDoneSlidingWatcher = React.useRef&lt;boolean&gt;(true)
  const activeSlideWatcher = React.useRef&lt;number&gt;(activeSlide)

  const autoplayInstanceRef = React.useRef((React.useMemo(() =&gt; {
    return new IntervalTimer(autoplay, settings.autoplayDuration + slidingTimeoutDuration)
  }, [])))
  const autoplayInstance = autoplayInstanceRef.current

  /**
   * Update the respective watchers&#39; current values.
   */
  React.useEffect(() =&gt; {
    activeSlideWatcher.current = activeSlide
  }, [activeSlide])
  React.useEffect(() =&gt; {
    isDoneSlidingWatcher.current = isDoneSliding
  }, [isDoneSliding])

  ...

  /**
   * `autoplay` is the callback sent to the autoplay instance.
   */
  const autoplay = (): void =&gt; {
    const nextSlide = getNextSlide(activeSlideWatcher.current)
    if (settings.isSmartSliding) {
      smartAnimations(nextSlide)
    }
    changeSlide(getNextSlide(activeSlideWatcher.current))
  }

  /**
   * `changeSlide` sets a new slide then executes `onSlidingHandler` to handle the smooth transition and
   * set `isDoneSlidingWatcher.current` (a pointer) as true. While `isDoneSliding` is true, the
   * slides won&#39;t change.
   * The `onBeforeChange` event is executed here.
   */
  const changeSlide = (nextSlide: number): void =&gt; {
    if (isDoneSlidingWatcher.current) {
      if (props.onBeforeChange) {
        props.onBeforeChange(activeSlideWatcher.current, nextSlide)
      }
      setActiveSlide(nextSlide)
      onSlidingHandler(nextSlide)
    }
  }

  ...</code></pre>
<p>There is another incredible use-case scenario for
<code>useRef</code>. By using a <code>useEffect</code> hook to work
similarly to the <code>componentDidMount</code> lifecycle method by
passing an empty dependencies list, we can run an initial setup for the
hero-slider.</p>
<p>In this initial setup, by passing unset <code>useRef</code> mutable
objects as props down to the hero-slider component, we can set handlers
from <strong>within</strong> our component so that these handlers can be
used from an upper scope, as next or previous buttons for example.</p>
<pre class="tsx"><code>  ...

  /**
   * After mounting, akin to `componentDidMount`.
   */
  React.useEffect(() =&gt; {
    activeSlideWatcher.current = activeSlide
    /**
     * Turn on autoplay if `props.shouldAutoplay` is true.
     */
    if (settings.shouldAutoplay) {
      autoplayInstance.start()
    }
    /**
     * Sets up the `nextSlide` and `previousSlide` reference object if they exist.
     */
    if (props.nextSlide) {
      props.nextSlide.current = setNextSlide
    }
    if (props.previousSlide) {
      props.previousSlide.current = setPreviousSlide
    }
    return () =&gt; {
      ...
      autoplayInstance.stop()
    }
  }, [])

  ...</code></pre>
<p><a
href="https://www.robertmolina.dev/codelab/hero-slider#buttons">Here’s a
link showcasing this particular example</a>. Notice how the initial
<code>activeSlideWatcher.current</code> variable is also set up in here,
which will change in the future whenever a slide changes, and the
autoplay instance is started here as well (which is yet another
reference).</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="useimperativehandle">useImperativeHandle</h3>
<p><code>useImperativeHandle</code> is <strong>very rarely</strong>
used. This hook exposes the instantiated custom value of a React
reference to parent components (<a href="#useref">more details in
<code>useRef</code></a>). This means that you can setup a React
reference object, customize it in any way possible, e.g. adding methods,
then forward it with <code>React.forwardRef</code>. If a parent
component then creates a reference then “hooks” it to the child
component, the parent component will have access to the reference.</p>
<p>Here’s what the React team has to say about this hook:</p>
<blockquote>
<p><code>useImperativeHandle</code> customizes the instance value that
is exposed to parent components when using: - <code>ref</code>. As
always, imperative code using refs should be avoided in most cases. -
<code>useImperativeHandle</code> should be used with
<code>React.forwardRef</code>.</p>
</blockquote>
<p><code>useImperativeHandle</code> is defined by the React team as:</p>
<pre class="tsx"><code>  function useImperativeHandle&lt;T, R extends T&gt;(
    ref: Ref&lt;T&gt;|undefined,
    init: () =&gt; R,
    deps?: DependencyList
  ): void;</code></pre>
<p>Where:</p>
<ol type="1">
<li><code>ref</code> is the React <code>RefObject&lt;T&gt;</code>.</li>
<li><code>init</code> the common hook initialize function as used in
other hooks as well.</li>
<li><code>deps</code> is the dependency list of variables used in
<code>init</code> that the hook will subscribe to.</li>
</ol>
<p><a
href="https://reactjs.org/docs/hooks-reference.html#useimperativehandle">Here’s
an example that uses the react hooks example about
<code>useImperativeHandle</code> as a guideline</a>.</p>
<p>First, let’s define a component that uses
<code>useImperativeHandle</code> then apply <code>forwardRef</code> on
it to expose the <code>ref</code> object:</p>
<pre class="tsx"><code>  interface IInputRefObject {
    exposedFocusMethod (): void
  }

  interface IInputProps {
    [propName: string]: any;
  }

  const Input: React.RefForwardingComponent&lt;IInputRefObject, IInputProps&gt; = (props, ref) =&gt; {
    const inputRef = useRef&lt;HTMLInputElement&gt;(null);
    useImperativeHandle(ref, () =&gt; ({
      exposedFocusMethod: () =&gt; {
        if (inputRef.current) {
          inputRef.current.focus();
          /// Possibly more logic
        };
      }
    }));
    return &lt;input ref={inputRef} {...props} /&gt;;
  }
  
  const ImperativeInput = forwardRef(Input);
  export default ImperativeInput;</code></pre>
<p>Now let’s use it in a parent component, and access
<code>ref</code>:</p>
<pre class="tsx"><code>  interface IAutofocusProps {
    shouldFocusOnMount: boolean;
    [propName: string]: any;
  }

  const AutofocusedInput = (props: IAutofocusProps) =&gt; {
    const { shouldFocusOnMount = true, ...rest } = props;
    const myInputRef = useRef&lt;IInputRefObject&gt;(null);

    useEffect(() =&gt; {
      if (shouldFocusOnMount &amp;&amp; myInputRef.current) {
        myInputRef.current.exposedFocusMethod();
      }
    }, [shouldFocusOnMount]);

    return &lt;ImperativeInput ref={myInputRef} {...rest} /&gt;
  }</code></pre>
<p>Notice how the <code>AutofocusedInput</code> component focuses on
functionality with almost no declarations. The <code>focus</code>
propety of the <code>ImperativeInput</code> component’s DOM node is not
directly executed inside <code>AutofocusedInput</code>, instead we are
executing the exposed method declared as
<code>exposedFocusMethod</code>, which then executes <code>focus</code>.
This is why the React team named this hook as
<code>useImperativeHandle</code>.</p>
<blockquote>
<p>In computer science, imperative programming <a
href="https://en.wikipedia.org/wiki/Imperative_programming">is a
programming paradigm that uses statements that change a program’s
state</a>.</p>
</blockquote>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="uselayouteffect">useLayoutEffect</h3>
<p><code>useLayoutEffect</code> is very similar to
<code>useEffect</code>, the difference is that the initial execution of
<code>useLayoutEffect</code> is a bit delayed, specifically fired in <a
href="https://reactjs.org/docs/hooks-reference.html#useimperativehandle">the
same phase as componentDidMount and componentDidUpdate</a>.</p>
<p>It is worth noting that this hook is very rarely used. It is
necessary for very specific use-case scenarios where the program needs
to wait for the initial rendering.</p>
<p>One scenario where the program might need to wait for the initial
rendering, is when there are DOM calculations that must be ran before
displaying the components. For example, think of a self-aware popover
tooltip that renders towards the center of the page depending on where
it’s placed at.</p>
<p>Here’s how the React team defines <code>useLayoutEffect</code> (which
is literally identical to the definition of <code>useEffect</code>), and
what do they have to say about it:</p>
<pre class="tsx"><code>  function useLayoutEffect(effect: EffectCallback, deps?: DependencyList): void;</code></pre>
<blockquote>
<p>The signature is identical to <code>useEffect</code>, but it fires
synchronously after all DOM mutations. <strong>Use this to read layout
from the DOM and synchronously re-render. Updates scheduled inside
<code>useLayoutEffect</code> will be flushed synchronously, before the
browser has a chance to paint.</strong> Prefer the standard
<code>useEffect</code> when possible to avoid blocking visual updates.
If you’re migrating code from a class component,
<code>useLayoutEffect</code> fires in the same phase as
<code>componentDidMount</code> and <code>componentDidUpdate</code>.</p>
</blockquote>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="usedebugvalue">useDebugValue</h3>
<p><a
href="https://reactjs.org/docs/hooks-reference.html#useimperativehandle"><code>useDebugValue</code>
can be used to display a label for custom hooks in React
DevTools.</a></p>
<p>As this is exclusively used for custom hooks, it’s recommended by the
React team to only use it for hooks that are part of shared
libraries.</p>
<p><code>useDebugValue</code> is defined as:</p>
<pre class="tsx"><code>  function useDebugValue&lt;T&gt;(value: T, format?: (value: T) =&gt; any): void;</code></pre>
<p>The <code>value</code> argument is what will be displayed next to its
respective label in the <em>Elements</em> tab of the React DevTools.</p>
<p>Sometimes though, formatting values might be an expensive operation
as noted in the official documentation. For this reason the second
parameter <code>format</code> exists, where it essentially allows you to
access formatting methods, such as:</p>
<pre class="tsx"><code>useDebugValue(date, date =&gt; date.toDateString());</code></pre>
<p>Here’s an example showcased in the official documentation about
<code>useDebugValue</code>:</p>
<pre class="tsx"><code>function useFriendStatus(friendID) {
  const [isOnline, setIsOnline] = useState(null);

  // ...

  // Show a label in DevTools next to this Hook
  // e.g. &quot;FriendStatus: Online&quot;
  useDebugValue(isOnline ? &#39;Online&#39; : &#39;Offline&#39;);

  return isOnline;
}</code></pre>
<p>The label shown in the React DevTools will be the name of the
function without the “use” prefix of hooks. The example above would
result in: <strong>“FriendStatus: Online”</strong>.</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<h3 id="custom-hooks">Custom Hooks</h3>
<p>As shown in <code>useDebugValue</code>, hooks are expected to be
declared with variable names prefixed by “use”. In this section, the
most important factors to keep in mind when creating a custom hook will
be emphasized, however, <a
href="https://reactjs.org/docs/hooks-custom.html">definitely check the
official documentation for more general information</a>.</p>
<blockquote>
<p>Custom Hooks offer the flexibility of sharing logic that wasn’t
possible in React components before. You can write custom Hooks that
cover a wide range of use cases like form handling, animation,
declarative subscriptions, timers, and probably many more we haven’t
considered. What’s more, you can build Hooks that are just as easy to
use as React’s built-in features.</p>
</blockquote>
<p>There is literally an infinite amount of different custom hooks we
can create. For this reason, it is extremely important to be consistent
with them. Any custom hooks should be developed in a way that is
consistent with the new functional paradigm imposed by the React team as
shown in the prepacked React hooks such as <code>useState</code>, and
<code>useEffect</code>.</p>
<p>Here are three pointers worth quoting from the React official
documentation about custom hooks:</p>
<blockquote>
<p><strong>Do I have to name my custom Hooks starting with
“use”?</strong> Please do. This convention is very important. Without
it, we wouldn’t be able to automatically check for violations of rules
of Hooks because we couldn’t tell if a certain function contains calls
to Hooks inside of it. <strong>Do two components using the same Hook
share state?</strong> No. Custom Hooks are a mechanism to reuse stateful
logic (such as setting up a subscription and remembering the current
value), but every time you use a custom Hook, all state and effects
inside of it are fully isolated.</p>
</blockquote>
<p>And finaly, paraphrasing the third point:</p>
<blockquote>
<p><strong>How does a custom Hook get isolated state?</strong> Each call
to a Hook gets isolated state. Because we call a custom hook directly,
from React’s point of view our component just calls any hooks that might
be used inside the custom hook, such as <code>useState</code> and
<code>useEffect</code>. And as we learned earlier, we can call
<code>useState</code> and <code>useEffect</code> many times in one
component, and they will be completely independent.</p>
</blockquote>
<p>To summarize, be consistent. Do you want to declare a state that
involves additional functionality not offered by <code>useState</code>?
Make sure to return a value, and possibly a dispatcher too. Do you want
to handle side-effects based on <code>useEffect</code>? Pass a
dependency list, or even just a single dispatcher <a
href="https://github.com/facebook/create-react-app/issues/6880#issuecomment-488158024">to
pass a minimal amount of dependencies as mentioned here by Dan
Abramov</a>.</p>
<p>Let’s now do our first two custom hooks!</p>
<p>First, let’s begin by developing a hook that can throttle
<strong>any</strong> callback, within a specified and limited (minimum)
amount of time between function calls. Basically, a custom hook used to
throttle function callbacks. It will be declared as
<code>useThrottled</code> and it will accept a <code>callback</code> as
its first parameter, and a <code>limit</code> as its second
parameter.</p>
<ul>
<li><code>callback</code> can and will be <em>any</em> callback that is
passed to the hook, and it will <strong>only be executed if the amount
of time between the current and last function call is higher than
<code>limit</code></strong>.</li>
<li><code>limit</code> will be the minimum time required to wait between
callbacks.</li>
</ul>
<pre class="tsx"><code>  import React from &quot;react&quot;;
  const { useState } = React;

  export const useThrottle = (
    callback: () =&gt; void,
    limit: number
  ): (() =&gt; void) =&gt; {
    const [callbackTimeoutId, setCallbackTimeoutId] = useState&lt;number&gt;();
    const [lastCallbackRunDate, setLastCallbackRunDate] = useState&lt;number&gt;();
    return () =&gt; {
      if (!lastCallbackRunDate) {
        setLastCallbackRunDate(Date.now());
      } else {
        clearTimeout(Number(callbackTimeoutId));
        setCallbackTimeoutId(
          setTimeout(() =&gt; {
            if (Date.now() - lastCallbackRunDate &gt;= limit) {
              callback();
              setLastCallbackRunDate(Date.now());
            }
          }, limit - (Date.now() - lastCallbackRunDate))
        );
      }
    };
  };</code></pre>
<p>The <code>callback</code> parameter will <strong>only</strong>
execute if the difference between the current date and the last time the
callback fire is higher than the throttle limit.</p>
<p>Next, let’s develop a hook that handles the scroll event callbacks
while also throttling them. We will call this hook
<code>useScrollCallback</code>:</p>
<pre class="tsx"><code>  import React from &quot;react&quot;;

  // Dependencies
  import { useThrottle } from &quot;../useThrottle&quot;;
  const { useState, useCallback, useEffect } = React;

  export const useScrollCallback = (
    minimumOffset: number = 50, // Minimum height offset to actually execute the callback
    throttleLimit: number = 500, // Minimum time between calls in milliseconds
    callback: (scrollPosition: number) =&gt; void
  ) =&gt; {
    const [scrollPosition, setScrollPosition] = useState&lt;number&gt;(
      window.pageYOffset
    );

    const onThrottledScrollHandler = useCallback(() =&gt; {
      const currentScrollHeight = window.pageYOffset;
      setScrollPosition(currentScrollHeight);
      if (currentScrollHeight &gt; minimumOffset) callback(scrollPosition);
    }, [minimumOffset, callback, scrollPosition]);

    const throttled = useThrottle(onThrottledScrollHandler, throttleLimit);

    useEffect(() =&gt; {
      window.addEventListener(&quot;scroll&quot;, throttled);

      // Return clause.
      return () =&gt; window.removeEventListener(&quot;scroll&quot;, throttled);
    }, [throttled]);
  };</code></pre>
<p>Throttling is a very important concept to keep in mind. Even more so
in this case when using the scroll event listener because of how often
it fires. By throttling it, we are increasing performance significantly.
Let’s now create our <code>App</code> container to put everything
together:</p>
<pre class="tsx"><code>  // Libraries
  import * as React from &quot;react&quot;;
  import { render } from &quot;react-dom&quot;;

  // Global styles
  import &quot;./styles.css&quot;;

  // Hooks
  import { useScrollCallback } from &quot;./hooks/useOnScrollCallback&quot;;

  // Dependencies
  import randomColor from &quot;randomcolor&quot;;
  const minimumOffset: number = 0; // Minimum height offset to actually execute the callback
  const throttleLimit: number = 500; // Minimum time between calls in milliseconds

  function App() {
    /**
    * We&#39;re randomly changing the color of the body when scrolling!
    */
    useScrollCallback(minimumOffset, throttleLimit, (scrollPosition: number) =&gt; {
      console.log(`I&#39;m currently scrolling at ${scrollPosition}!`);
      document.body.style.backgroundColor = randomColor({
        luminosity: &quot;light&quot;,
        format: &quot;hsla&quot; // e.g. &#39;hsla(27, 88.99%, 81.83%, 0.6450211517512798)&#39;
      });
    });
    return (
      &lt;div className=&quot;App&quot;&gt;
        &lt;div className=&quot;fixed&quot;&gt;
          &lt;h1&gt;
            Open the console and scroll the page to see the throttling in action!
          &lt;/h1&gt;
          &lt;h1&gt;
            Feel free to experiment by changing the throttle limit to see a change in the frequency of the callbacks.
          &lt;/h1&gt;
        &lt;/div&gt;
        &lt;div className=&quot;empty-space&quot; /&gt;
      &lt;/div&gt;
    );
  }

  const rootElement = document.getElementById(&quot;root&quot;);
  render(&lt;App /&gt;, rootElement);</code></pre>
<p>And that’s it! A couple of things are worth pointing out:</p>
<ul>
<li>Did you notice how <code>useThrottled</code> returns a function
similar to <code>useCallback</code>, but with extra functionality, yet
still following the new paradigm?</li>
<li>Did you also notice how <code>useScrollCallback</code> handles
side-effects only, similar to <code>useEffect</code> without a
dependency list?</li>
</ul>
<p>The key to creating custom hooks is to keep them as consistent as
possible with the new functional mindset the React team is pushing, keep
that in mind!</p>
<p>Here’s the example hosted in CodeSandbox of the hooks shown above,
with a few more functionalities to play around with them. Feel free to
fork it as well.</p>
<p><a
href="https://codesandbox.io/s/custom-hooks-example-68n7l?fontsize=14"><img
src="https://codesandbox.io/static/img/play-codesandbox.svg"
alt="Custom Hooks example" /></a></p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<hr />
<h2 id="feedback">Feedback</h2>
<p>This repository. Submit a PR with any change or addition you’d like
to see!</p>
<p>And thank you very much for taking the time to do so 💖</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<hr />
<h2 id="collaborators">Collaborators</h2>
<p>This is a list of all the awesome collaborators (present or past) and
contributors of the TypeScript Cheatsheet:</p>
<ul>
<li><a href="https://github.com/evdama">evdama</a></li>
<li><a
href="https://www.reddit.com/user/KevinKelbie">KevinKelbie</a></li>
<li><a href="https://github.com/Ical89">Ical89</a></li>
<li><a href="https://github.com/disco0">disco0</a></li>
<li><a href="https://github.com/kberg">kberg</a></li>
<li><a href="https://github.com/Svish">Svish</a></li>
<li><a
href="https://github.com/MaxmaxmaximusAWS">MaxmaxmaximusAWS</a></li>
<li><a href="https://github.com/nfedyashev">nfedyashev</a></li>
<li><a href="https://github.com/jakangah">jakangah</a></li>
<li><a href="https://github.com/tobiasbueschel">tobiasbueschel</a></li>
<li><a
href="https://github.com/ValentinTapiaTorti">ValentinTapiaTorti</a></li>
<li><a href="https://github.com/thatseanren">thatseanren</a></li>
</ul>
<p>Make sure to buy them a beer if you ever meet one of them 😊</p>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>
<hr />
<h2 id="contribute">Contribute</h2>
<p>Contributions are always welcome! Just like before, all you would
have to do is submit a PR and I will be reviewing it shortly. If you
have any doubts you can let me know at:</p>
<ul>
<li><a
href="https://www.reddit.com/user/rmolinamir">u/rmolinamir</a></li>
<li><a href="mailto:rmolinamir@gmail.com">rmolinamir@gmail.com</a></li>
</ul>
<p><a href="#table-of-contents">⬆️ Back to top</a><br></p>

<!-- Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js" integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/" crossorigin="anonymous"></script>


</body>
</html>